'use strict';(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["JSONEditor"]=factory();else root["JSONEditor"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){var Ajv;try{Ajv=__webpack_require__(1)}catch(err){}var ace=__webpack_require__(51);var VanillaPicker=__webpack_require__(57);var treemode=__webpack_require__(59);var textmode=__webpack_require__(82);var util=__webpack_require__(62);if(typeof Promise==="undefined")console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor");function JSONEditor(container,options,json){if(!(this instanceof JSONEditor))throw new Error('JSONEditor constructor called without "new".');var ieVersion=util.getInternetExplorerVersion();if(ieVersion!=-1&&ieVersion<9)throw new Error("Unsupported browser, IE9 or newer required. "+"Please install the newest version of your browser.");if(options){if(options.error){console.warn('Option "error" has been renamed to "onError"');options.onError=options.error;delete options.error}if(options.change){console.warn('Option "change" has been renamed to "onChange"');options.onChange=options.change;delete options.change}if(options.editable){console.warn('Option "editable" has been renamed to "onEditable"');options.onEditable=options.editable;delete options.editable}if(options.onChangeJSON)if(options.mode==="text"||options.mode==="code"||options.modes&&(options.modes.indexOf("text")!==-1||options.modes.indexOf("code")!==-1))console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". '+'Use "onChangeText" or "onChange" instead.');if(options)Object.keys(options).forEach(function(option){if(JSONEditor.VALID_OPTIONS.indexOf(option)===-1)console.warn('Unknown option "'+option+'". This option will be ignored')})}if(arguments.length)this._create(container,options,json)}JSONEditor.modes={};JSONEditor.prototype.DEBOUNCE_INTERVAL=150;JSONEditor.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","colorPicker","onColorPicker","timestampTag","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","maxVisibleChilds"];JSONEditor.prototype._create=function(container,options,json){this.container=container;this.options=options||{};this.json=json||{};var mode=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(mode)};JSONEditor.prototype.destroy=function(){};JSONEditor.prototype.set=function(json){this.json=json};JSONEditor.prototype.get=function(){return this.json};JSONEditor.prototype.setText=function(jsonText){this.json=util.parse(jsonText)};JSONEditor.prototype.getText=function(){return JSON.stringify(this.json)};JSONEditor.prototype.setName=function(name){if(!this.options)this.options={};this.options.name=name};JSONEditor.prototype.getName=function(){return this.options&&this.options.name};JSONEditor.prototype.setMode=function(mode){if(mode===this.options.mode&&this.create)return;var container=this.container;var options=util.extend({},this.options);var oldMode=options.mode;var data;var name;options.mode=mode;var config=JSONEditor.modes[mode];if(config)try{var asText=config.data=="text";name=this.getName();data=this[asText?"getText":"get"]();this.destroy();util.clear(this);util.extend(this,config.mixin);this.create(container,options);this.setName(name);this[asText?"setText":"set"](data);if(typeof config.load==="function")try{config.load.call(this)}catch(err$0){console.error(err$0)}if(typeof options.onModeChange==="function"&&mode!==oldMode)try{options.onModeChange(mode,oldMode)}catch(err$1){console.error(err$1)}}catch(err$2){this._onError(err$2)}else throw new Error('Unknown mode "'+options.mode+'"');};JSONEditor.prototype.getMode=function(){return this.options.mode};JSONEditor.prototype._onError=function(err){if(this.options&&typeof this.options.onError==="function")this.options.onError(err);else throw err;};JSONEditor.prototype.setSchema=function(schema,schemaRefs){if(schema){var ajv;try{ajv=this.options.ajv||Ajv({allErrors:true,verbose:true})}catch(err$3){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(ajv){if(schemaRefs){for(var ref in schemaRefs){ajv.removeSchema(ref);if(schemaRefs[ref])ajv.addSchema(schemaRefs[ref],ref)}this.options.schemaRefs=schemaRefs}this.validateSchema=ajv.compile(schema);this.options.schema=schema;this.validate()}this.refresh()}else{this.validateSchema=null;this.options.schema=null;this.options.schemaRefs=null;this.validate();this.refresh()}};JSONEditor.prototype.validate=function(){};JSONEditor.prototype.refresh=function(){};JSONEditor.registerMode=function(mode){var i,prop;if(util.isArray(mode))for(i=0;i<mode.length;i++)JSONEditor.registerMode(mode[i]);else{if(!("mode"in mode))throw new Error('Property "mode" missing');if(!("mixin"in mode))throw new Error('Property "mixin" missing');if(!("data"in mode))throw new Error('Property "data" missing');var name=mode.mode;if(name in JSONEditor.modes)throw new Error('Mode "'+name+'" already registered');if(typeof mode.mixin.create!=="function")throw new Error('Required function "create" missing on mixin');var reserved=["setMode","registerMode","modes"];for(i=0;i<reserved.length;i++){prop=reserved[i];if(prop in mode.mixin)throw new Error('Reserved property "'+prop+'" not allowed in mixin');}JSONEditor.modes[name]=mode}};JSONEditor.registerMode(treemode);JSONEditor.registerMode(textmode);JSONEditor.ace=ace;JSONEditor.Ajv=Ajv;JSONEditor.VanillaPicker=VanillaPicker;JSONEditor.default=JSONEditor;module.exports=JSONEditor},function(module,exports,__webpack_require__){var compileSchema=__webpack_require__(2),resolve=__webpack_require__(3),Cache=__webpack_require__(19),SchemaObject=__webpack_require__(13),stableStringify=__webpack_require__(16),formats=__webpack_require__(20),rules=__webpack_require__(21),$dataMetaSchema=__webpack_require__(44),patternGroups=__webpack_require__(45),util=__webpack_require__(11),co=__webpack_require__(18);module.exports=Ajv;Ajv.prototype.validate=validate;Ajv.prototype.compile=compile;Ajv.prototype.addSchema=addSchema;Ajv.prototype.addMetaSchema=addMetaSchema;Ajv.prototype.validateSchema=validateSchema;Ajv.prototype.getSchema=getSchema;Ajv.prototype.removeSchema=removeSchema;Ajv.prototype.addFormat=addFormat;Ajv.prototype.errorsText=errorsText;Ajv.prototype._addSchema=_addSchema;Ajv.prototype._compile=_compile;Ajv.prototype.compileAsync=__webpack_require__(46);var customKeyword=__webpack_require__(47);Ajv.prototype.addKeyword=customKeyword.add;Ajv.prototype.getKeyword=customKeyword.get;Ajv.prototype.removeKeyword=customKeyword.remove;var errorClasses=__webpack_require__(15);Ajv.ValidationError=errorClasses.Validation;Ajv.MissingRefError=errorClasses.MissingRef;Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID="http://json-schema.org/draft-06/schema";var META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes"];var META_SUPPORT_DATA=["/properties"];function Ajv(opts){if(!(this instanceof Ajv))return new Ajv(opts);opts=this._opts=util.copy(opts)||{};setLogger(this);this._schemas={};this._refs={};this._fragments={};this._formats=formats(opts.format);var schemaUriFormat=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(str){return schemaUriFormat.test(str)};this._cache=opts.cache||new Cache;this._loadingSchemas={};this._compilations=[];this.RULES=rules();this._getId=chooseGetId(opts);opts.loopRequired=opts.loopRequired||Infinity;if(opts.errorDataPath=="property")opts._errorDataPathProperty=true;if(opts.serialize===undefined)opts.serialize=stableStringify;this._metaOpts=getMetaSchemaOptions(this);if(opts.formats)addInitialFormats(this);addDraft6MetaSchema(this);if(typeof opts.meta=="object")this.addMetaSchema(opts.meta);addInitialSchemas(this);if(opts.patternGroups)patternGroups(this)}function validate(schemaKeyRef,data){var v;if(typeof schemaKeyRef=="string"){v=this.getSchema(schemaKeyRef);if(!v)throw new Error('no schema with key or ref "'+schemaKeyRef+'"');}else{var schemaObj=this._addSchema(schemaKeyRef);v=schemaObj.validate||this._compile(schemaObj)}var valid=v(data);if(v.$async===true)return this._opts.async=="*"?co(valid):valid;this.errors=v.errors;return valid}function compile(schema,_meta){var schemaObj=this._addSchema(schema,undefined,_meta);return schemaObj.validate||this._compile(schemaObj)}function addSchema(schema,key,_skipValidation,_meta){if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)this.addSchema(schema[i],undefined,_skipValidation,_meta);return this}var id=this._getId(schema);if(id!==undefined&&typeof id!="string")throw new Error("schema id must be string");key=resolve.normalizeId(key||id);checkUnique(this,key);this._schemas[key]=this._addSchema(schema,_skipValidation,_meta,true);return this}function addMetaSchema(schema,key,skipValidation){this.addSchema(schema,key,skipValidation,true);return this}function validateSchema(schema,throwOrLogError){var $schema=schema.$schema;if($schema!==undefined&&typeof $schema!="string")throw new Error("$schema must be a string");$schema=$schema||this._opts.defaultMeta||defaultMeta(this);if(!$schema){this.logger.warn("meta-schema not available");this.errors=null;return true}var currentUriFormat=this._formats.uri;this._formats.uri=typeof currentUriFormat=="function"?this._schemaUriFormatFunc:this._schemaUriFormat;var valid;try{valid=this.validate($schema,schema)}finally{this._formats.uri=currentUriFormat}if(!valid&&throwOrLogError){var message="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(message);else throw new Error(message);}return valid}function defaultMeta(self){var meta=self._opts.meta;self._opts.defaultMeta=typeof meta=="object"?self._getId(meta)||meta:self.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:undefined;return self._opts.defaultMeta}function getSchema(keyRef){var schemaObj=_getSchemaObj(this,keyRef);switch(typeof schemaObj){case "object":return schemaObj.validate||this._compile(schemaObj);case "string":return this.getSchema(schemaObj);case "undefined":return _getSchemaFragment(this,keyRef)}}function _getSchemaFragment(self,ref){var res=resolve.schema.call(self,{schema:{}},ref);if(res){var schema=res.schema,root=res.root,baseId=res.baseId;var v=compileSchema.call(self,schema,root,undefined,baseId);self._fragments[ref]=new SchemaObject({ref:ref,fragment:true,schema:schema,root:root,baseId:baseId,validate:v});return v}}function _getSchemaObj(self,keyRef){keyRef=resolve.normalizeId(keyRef);return self._schemas[keyRef]||self._refs[keyRef]||self._fragments[keyRef]}function removeSchema(schemaKeyRef){if(schemaKeyRef instanceof RegExp){_removeAllSchemas(this,this._schemas,schemaKeyRef);_removeAllSchemas(this,this._refs,schemaKeyRef);return this}switch(typeof schemaKeyRef){case "undefined":_removeAllSchemas(this,this._schemas);_removeAllSchemas(this,this._refs);this._cache.clear();return this;case "string":var schemaObj=_getSchemaObj(this,schemaKeyRef);if(schemaObj)this._cache.del(schemaObj.cacheKey);delete this._schemas[schemaKeyRef];delete this._refs[schemaKeyRef];return this;case "object":var serialize=this._opts.serialize;var cacheKey=serialize?serialize(schemaKeyRef):schemaKeyRef;this._cache.del(cacheKey);var id=this._getId(schemaKeyRef);if(id){id=resolve.normalizeId(id);delete this._schemas[id];delete this._refs[id]}}return this}function _removeAllSchemas(self,schemas,regex){for(var keyRef in schemas){var schemaObj=schemas[keyRef];if(!schemaObj.meta&&(!regex||regex.test(keyRef))){self._cache.del(schemaObj.cacheKey);delete schemas[keyRef]}}}function _addSchema(schema,skipValidation,meta,shouldAddSchema){if(typeof schema!="object"&&typeof schema!="boolean")throw new Error("schema should be object or boolean");var serialize=this._opts.serialize;var cacheKey=serialize?serialize(schema):schema;var cached=this._cache.get(cacheKey);if(cached)return cached;shouldAddSchema=shouldAddSchema||this._opts.addUsedSchema!==false;var id=resolve.normalizeId(this._getId(schema));if(id&&shouldAddSchema)checkUnique(this,id);var willValidate=this._opts.validateSchema!==false&&!skipValidation;var recursiveMeta;if(willValidate&&!(recursiveMeta=id&&id==resolve.normalizeId(schema.$schema)))this.validateSchema(schema,true);var localRefs=resolve.ids.call(this,schema);var schemaObj=new SchemaObject({id:id,schema:schema,localRefs:localRefs,cacheKey:cacheKey,meta:meta});if(id[0]!="#"&&shouldAddSchema)this._refs[id]=schemaObj;this._cache.put(cacheKey,schemaObj);if(willValidate&&recursiveMeta)this.validateSchema(schema,true);return schemaObj}function _compile(schemaObj,root){if(schemaObj.compiling){schemaObj.validate=callValidate;callValidate.schema=schemaObj.schema;callValidate.errors=null;callValidate.root=root?root:callValidate;if(schemaObj.schema.$async===true)callValidate.$async=true;return callValidate}schemaObj.compiling=true;var currentOpts;if(schemaObj.meta){currentOpts=this._opts;this._opts=this._metaOpts}var v;try{v=compileSchema.call(this,schemaObj.schema,root,schemaObj.localRefs)}finally{schemaObj.compiling=false;if(schemaObj.meta)this._opts=currentOpts}schemaObj.validate=v;schemaObj.refs=v.refs;schemaObj.refVal=v.refVal;schemaObj.root=v.root;return v;function callValidate(){var _validate=schemaObj.validate;var result=_validate.apply(null,arguments);callValidate.errors=_validate.errors;return result}}function chooseGetId(opts){switch(opts.schemaId){case "$id":return _get$Id;case "id":return _getId;default:return _get$IdOrId}}function _getId(schema){if(schema.$id)this.logger.warn("schema $id ignored",schema.$id);return schema.id}function _get$Id(schema){if(schema.id)this.logger.warn("schema id ignored",schema.id);return schema.$id}function _get$IdOrId(schema){if(schema.$id&&schema.id&&schema.$id!=schema.id)throw new Error("schema $id is different from id");return schema.$id||schema.id}function errorsText(errors,options){errors=errors||this.errors;if(!errors)return"No errors";options=options||{};var separator=options.separator===undefined?", ":options.separator;var dataVar=options.dataVar===undefined?"data":options.dataVar;var text="";for(var i=0;i<errors.length;i++){var e=errors[i];if(e)text+=dataVar+e.dataPath+" "+e.message+separator}return text.slice(0,-separator.length)}function addFormat(name,format){if(typeof format=="string")format=new RegExp(format);this._formats[name]=format;return this}function addDraft6MetaSchema(self){var $dataSchema;if(self._opts.$data){$dataSchema=__webpack_require__(49);self.addMetaSchema($dataSchema,$dataSchema.$id,true)}if(self._opts.meta===false)return;var metaSchema=__webpack_require__(50);if(self._opts.$data)metaSchema=$dataMetaSchema(metaSchema,META_SUPPORT_DATA);self.addMetaSchema(metaSchema,META_SCHEMA_ID,true);self._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}function addInitialSchemas(self){var optsSchemas=self._opts.schemas;if(!optsSchemas)return;if(Array.isArray(optsSchemas))self.addSchema(optsSchemas);else for(var key in optsSchemas)self.addSchema(optsSchemas[key],key)}function addInitialFormats(self){for(var name in self._opts.formats){var format=self._opts.formats[name];self.addFormat(name,format)}}function checkUnique(self,id){if(self._schemas[id]||self._refs[id])throw new Error('schema with key or id "'+id+'" already exists');}function getMetaSchemaOptions(self){var metaOpts=util.copy(self._opts);for(var i=0;i<META_IGNORE_OPTIONS.length;i++)delete metaOpts[META_IGNORE_OPTIONS[i]];return metaOpts}function setLogger(self){var logger=self._opts.logger;if(logger===false)self.logger={log:noop,warn:noop,error:noop};else{if(logger===undefined)logger=console;if(!(typeof logger=="object"&&logger.log&&logger.warn&&logger.error))throw new Error("logger must implement log, warn and error methods");self.logger=logger}}function noop(){}},function(module,exports,__webpack_require__){var resolve=__webpack_require__(3),util=__webpack_require__(11),errorClasses=__webpack_require__(15),stableStringify=__webpack_require__(16);var validateGenerator=__webpack_require__(17);var co=__webpack_require__(18);var ucs2length=util.ucs2length;var equal=__webpack_require__(10);var ValidationError=errorClasses.Validation;module.exports=compile;function compile(schema,root,localRefs,baseId){var self=this,opts=this._opts,refVal=[undefined],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[];root=root||{schema:schema,refVal:refVal,refs:refs};var c=checkCompiling.call(this,schema,root,baseId);var compilation=this._compilations[c.index];if(c.compiling)return compilation.callValidate=callValidate;var formats=this._formats;var RULES=this.RULES;try{var v=localCompile(schema,root,localRefs,baseId);compilation.validate=v;var cv=compilation.callValidate;if(cv){cv.schema=v.schema;cv.errors=null;cv.refs=v.refs;cv.refVal=v.refVal;cv.root=v.root;cv.$async=v.$async;if(opts.sourceCode)cv.source=v.source}return v}finally{endCompiling.call(this,schema,root,baseId)}function callValidate(){var validate=compilation.validate;var result=validate.apply(null,arguments);callValidate.errors=validate.errors;return result}function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var $async=_schema.$async===true;var sourceCode=validateGenerator({isTop:true,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:errorClasses.MissingRef,RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,logger:self.logger,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode;if(opts.processCode)sourceCode=opts.processCode(sourceCode);var validate;try{var makeValidate=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",sourceCode);validate=makeValidate(self,RULES,formats,root,refVal,defaults,customRules,co,equal,ucs2length,ValidationError);refVal[0]=validate}catch(e){self.logger.error("Error compiling schema, function code:",sourceCode);throw e;}validate.schema=_schema;validate.errors=null;validate.refs=refs;validate.refVal=refVal;validate.root=isRoot?validate:_root;if($async)validate.$async=true;if(opts.sourceCode===true)validate.source={code:sourceCode,patterns:patterns,defaults:defaults};return validate}function resolveRef(baseId,ref,isRoot){ref=resolve.url(baseId,ref);var refIndex=refs[ref];var _refVal,refCode;if(refIndex!==undefined){_refVal=refVal[refIndex];refCode="refVal["+refIndex+"]";return resolvedRef(_refVal,refCode)}if(!isRoot&&root.refs){var rootRefId=root.refs[ref];if(rootRefId!==undefined){_refVal=root.refVal[rootRefId];refCode=addLocalRef(ref,_refVal);return resolvedRef(_refVal,refCode)}}refCode=addLocalRef(ref);var v=resolve.call(self,localCompile,root,ref);if(v===undefined){var localSchema=localRefs&&localRefs[ref];if(localSchema)v=resolve.inlineRef(localSchema,opts.inlineRefs)?localSchema:compile.call(self,localSchema,root,localRefs,baseId)}if(v===undefined)removeLocalRef(ref);else{replaceLocalRef(ref,v);return resolvedRef(v,refCode)}}function addLocalRef(ref,v){var refId=refVal.length;refVal[refId]=v;refs[ref]=refId;return"refVal"+refId}function removeLocalRef(ref){delete refs[ref]}function replaceLocalRef(ref,v){var refId=refs[ref];refVal[refId]=v}function resolvedRef(refVal,code){return typeof refVal=="object"||typeof refVal=="boolean"?{code:code,schema:refVal,inline:true}:{code:code,$async:refVal&&refVal.$async}}function usePattern(regexStr){var index=patternsHash[regexStr];if(index===undefined){index=patternsHash[regexStr]=patterns.length;patterns[index]=regexStr}return"pattern"+index}function useDefault(value){switch(typeof value){case "boolean":case "number":return""+value;case "string":return util.toQuotedString(value);case "object":if(value===null)return"null";var valueStr=stableStringify(value);var index=defaultsHash[valueStr];if(index===undefined){index=defaultsHash[valueStr]=defaults.length;defaults[index]=value}return"default"+index}}function useCustomRule(rule,schema,parentSchema,it){var validateSchema=rule.definition.validateSchema;if(validateSchema&&self._opts.validateSchema!==false){var valid=validateSchema(schema);if(!valid){var message="keyword schema is invalid: "+self.errorsText(validateSchema.errors);if(self._opts.validateSchema=="log")self.logger.error(message);else throw new Error(message);}}var compile=rule.definition.compile,inline=rule.definition.inline,macro=rule.definition.macro;var validate;if(compile)validate=compile.call(self,schema,parentSchema,it);else if(macro){validate=macro.call(self,schema,parentSchema,it);if(opts.validateSchema!==false)self.validateSchema(validate,true)}else if(inline)validate=inline.call(self,it,rule.keyword,schema,parentSchema);else{validate=rule.definition.validate;if(!validate)return}if(validate===undefined)throw new Error('custom keyword "'+rule.keyword+'"failed to compile');var index=customRules.length;customRules[index]=validate;return{code:"customRule"+index,validate:validate}}}function checkCompiling(schema,root,baseId){var index=compIndex.call(this,schema,root,baseId);if(index>=0)return{index:index,compiling:true};index=this._compilations.length;this._compilations[index]={schema:schema,root:root,baseId:baseId};return{index:index,compiling:false}}function endCompiling(schema,root,baseId){var i=compIndex.call(this,schema,root,baseId);if(i>=0)this._compilations.splice(i,1)}function compIndex(schema,root,baseId){for(var i=0;i<this._compilations.length;i++){var c=this._compilations[i];if(c.schema==schema&&c.root==root&&c.baseId==baseId)return i}return-1}function patternCode(i,patterns){return"var pattern"+i+" \x3d new RegExp("+util.toQuotedString(patterns[i])+");"}function defaultCode(i){return"var default"+i+" \x3d defaults["+i+"];"}function refValCode(i,refVal){return refVal[i]===undefined?"":"var refVal"+i+" \x3d refVal["+i+"];"}function customRuleCode(i){return"var customRule"+i+" \x3d customRules["+i+"];"}function vars(arr,statement){if(!arr.length)return"";var code="";for(var i=0;i<arr.length;i++)code+=statement(i,arr);return code}},function(module,exports,__webpack_require__){var url=__webpack_require__(4),equal=__webpack_require__(10),util=__webpack_require__(11),SchemaObject=__webpack_require__(13),traverse=__webpack_require__(14);module.exports=resolve;resolve.normalizeId=normalizeId;resolve.fullPath=getFullPath;resolve.url=resolveUrl;resolve.ids=resolveIds;resolve.inlineRef=inlineRef;resolve.schema=resolveSchema;function resolve(compile,root,ref){var refVal=this._refs[ref];if(typeof refVal=="string")if(this._refs[refVal])refVal=this._refs[refVal];else return resolve.call(this,compile,root,refVal);refVal=refVal||this._schemas[ref];if(refVal instanceof SchemaObject)return inlineRef(refVal.schema,this._opts.inlineRefs)?refVal.schema:refVal.validate||this._compile(refVal);var res=resolveSchema.call(this,root,ref);var schema,v,baseId;if(res){schema=res.schema;root=res.root;baseId=res.baseId}if(schema instanceof SchemaObject)v=schema.validate||compile.call(this,schema.schema,root,undefined,baseId);else if(schema!==undefined)v=inlineRef(schema,this._opts.inlineRefs)?schema:compile.call(this,schema,root,undefined,baseId);return v}function resolveSchema(root,ref){var p=url.parse(ref,false,true),refPath=_getFullPath(p),baseId=getFullPath(this._getId(root.schema));if(refPath!==baseId){var id=normalizeId(refPath);var refVal=this._refs[id];if(typeof refVal=="string")return resolveRecursive.call(this,root,refVal,p);else if(refVal instanceof SchemaObject){if(!refVal.validate)this._compile(refVal);root=refVal}else{refVal=this._schemas[id];if(refVal instanceof SchemaObject){if(!refVal.validate)this._compile(refVal);if(id==normalizeId(ref))return{schema:refVal,root:root,baseId:baseId};root=refVal}else return}if(!root.schema)return;baseId=getFullPath(this._getId(root.schema))}return getJsonPointer.call(this,p,baseId,root.schema,root)}function resolveRecursive(root,ref,parsedRef){var res=resolveSchema.call(this,root,ref);if(res){var schema=res.schema;var baseId=res.baseId;root=res.root;var id=this._getId(schema);if(id)baseId=resolveUrl(baseId,id);return getJsonPointer.call(this,parsedRef,baseId,schema,root)}}var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(parsedRef,baseId,schema,root){parsedRef.hash=parsedRef.hash||"";if(parsedRef.hash.slice(0,2)!="#/")return;var parts=parsedRef.hash.split("/");for(var i=1;i<parts.length;i++){var part=parts[i];if(part){part=util.unescapeFragment(part);schema=schema[part];if(schema===undefined)break;var id;if(!PREVENT_SCOPE_CHANGE[part]){id=this._getId(schema);if(id)baseId=resolveUrl(baseId,id);if(schema.$ref){var $ref=resolveUrl(baseId,schema.$ref);var res=resolveSchema.call(this,root,$ref);if(res){schema=res.schema;root=res.root;baseId=res.baseId}}}}}if(schema!==undefined&&schema!==root.schema)return{schema:schema,root:root,baseId:baseId}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(schema,limit){if(limit===false)return false;if(limit===undefined||limit===true)return checkNoRef(schema);else if(limit)return countKeys(schema)<=limit}function checkNoRef(schema){var item;if(Array.isArray(schema))for(var i=0;i<schema.length;i++){item=schema[i];if(typeof item=="object"&&!checkNoRef(item))return false}else for(var key in schema){if(key=="$ref")return false;item=schema[key];if(typeof item=="object"&&!checkNoRef(item))return false}return true}function countKeys(schema){var count=0,item;if(Array.isArray(schema))for(var i=0;i<schema.length;i++){item=schema[i];if(typeof item=="object")count+=countKeys(item);if(count==Infinity)return Infinity}else for(var key in schema){if(key=="$ref")return Infinity;if(SIMPLE_INLINED[key])count++;else{item=schema[key];if(typeof item=="object")count+=countKeys(item)+1;if(count==Infinity)return Infinity}}return count}function getFullPath(id,normalize){if(normalize!==false)id=normalizeId(id);var p=url.parse(id,false,true);return _getFullPath(p)}function _getFullPath(p){var protocolSeparator=p.protocol||p.href.slice(0,2)=="//"?"//":"";return(p.protocol||"")+protocolSeparator+(p.host||"")+(p.path||"")+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(baseId,id){id=normalizeId(id);return url.resolve(baseId,id)}function resolveIds(schema){var schemaId=normalizeId(this._getId(schema));var baseIds={"":schemaId};var fullPaths={"":getFullPath(schemaId,false)};var localRefs={};var self=this;traverse(schema,{allKeys:true},function(sch,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(jsonPtr==="")return;var id=self._getId(sch);var baseId=baseIds[parentJsonPtr];var fullPath=fullPaths[parentJsonPtr]+"/"+parentKeyword;if(keyIndex!==undefined)fullPath+="/"+(typeof keyIndex=="number"?keyIndex:util.escapeFragment(keyIndex));if(typeof id=="string"){id=baseId=normalizeId(baseId?url.resolve(baseId,id):id);var refVal=self._refs[id];if(typeof refVal=="string")refVal=self._refs[refVal];if(refVal&&refVal.schema){if(!equal(sch,refVal.schema))throw new Error('id "'+id+'" resolves to more than one schema');}else if(id!=normalizeId(fullPath))if(id[0]=="#"){if(localRefs[id]&&!equal(sch,localRefs[id]))throw new Error('id "'+id+'" resolves to more than one schema');localRefs[id]=sch}else self._refs[id]=fullPath}baseIds[jsonPtr]=baseId;fullPaths[jsonPtr]=fullPath});return localRefs}},function(module,exports,__webpack_require__){var punycode=__webpack_require__(5);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["\x3c","\x3e",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={"javascript":true,"javascript:":true},hostlessProtocol={"javascript":true,"javascript:":true},slashedProtocol={"http":true,"https":true,"ftp":true,"gopher":true,"file":true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(7);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var rest=url;rest=rest.trim();var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1)atSign=rest.lastIndexOf("@");else atSign=rest.lastIndexOf("@",hostEnd);if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++)if(part.charCodeAt(j)>127)newpart+="x";else newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length)rest="/"+notHost.join(".")+rest;this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen)this.hostname="";else this.hostname=this.hostname.toLowerCase();if(!ipv6Hostname){var domainArray=this.hostname.split(".");var newOut=[];for(var i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}this.hostname=newOut.join(".")}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/")rest="/"+rest}}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];var esc=encodeURIComponent(ae);if(esc===ae)esc=escape(ae);rest=rest.split(ae).join(esc)}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString)this.query=querystring.parse(this.query);rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname)this.pathname="/";if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host)host=auth+this.host;else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port)host+=":"+this.port}if(this.query&&isObject(this.query)&&Object.keys(this.query).length)query=querystring.stringify(this.query);var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host)host="";if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)});search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;Object.keys(this).forEach(function(k){result[k]=this[k]},this);result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){Object.keys(relative).forEach(function(k){if(k!=="protocol")result[k]=relative[k]});if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname)result.path=result.pathname="/";result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){Object.keys(relative).forEach(function(k){result[k]=relative[k]});result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else result.pathname=relative.pathname;result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host)if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host);result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host)if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host);relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!isNull(result.pathname)||!isNull(result.search))result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"");result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search)result.path="/"+result.search;else result.path=null;result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==".")srcPath.splice(i,1);else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/"))srcPath.unshift("");if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/")srcPath.push("");var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute)srcPath.unshift("");if(!srcPath.length){result.pathname=null;result.path=null}else result.pathname=srcPath.join("/");if(!isNull(result.pathname)||!isNull(result.search))result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"");result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":")this.port=port.substr(1);host=host.substr(0,host.length-port.length)}if(host)this.hostname=host};function isString(arg){return typeof arg==="string"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isNull(arg){return arg===null}function isNullOrUndefined(arg){return arg==null}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;(function(module,global){(function(root){var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=typeof module=="object"&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)root=freeGlobal;var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={"overflow":"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw RangeError(errors[type]);}function map(array,fn){var length=array.length;var result=[];while(length--)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320)output.push(((value&1023)<<10)+(extra&1023)+65536);else{output.push(value);counter--}}else output.push(value)}return output}function ucs2encode(array){return map(array,function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output}).join("")}function basicToDigit(codePoint){if(codePoint-48<10)return codePoint-22;if(codePoint-65<26)return codePoint-65;if(codePoint-97<26)return codePoint-97;return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0)basic=0;for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128)error("not-basic");output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength)error("invalid-input");digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w))error("overflow");i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t)break;baseMinusT=base-t;if(w>floor(maxInt/baseMinusT))error("overflow");w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n)error("overflow");n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128)output.push(stringFromCharCode(currentValue))}handledCPCount=basicLength=output.length;if(basicLength)output.push(delimiter);while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m)m=currentValue}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne))error("overflow");delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt)error("overflow");if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t)break;qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})}punycode={"version":"1.3.2","ucs2":{"decode":ucs2decode,"encode":ucs2encode},"decode":decode,"encode":encode,"toASCII":toASCII,"toUnicode":toUnicode};if(true)!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else if(freeExports&&freeModule)if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key]);else root.punycode=punycode})(this)}).call(exports,__webpack_require__(6)(module),function(){return this}())},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];module.children=[];module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){exports.decode=exports.parse=__webpack_require__(8);exports.encode=exports.stringify=__webpack_require__(9)},function(module,exports){function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"\x26";eq=eq||"\x3d";var obj={};if(typeof qs!=="string"||qs.length===0)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1E3;if(options&&typeof options.maxKeys==="number")maxKeys=options.maxKeys;var len=qs.length;if(maxKeys>0&&len>maxKeys)len=maxKeys;for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k))obj[k]=v;else if(Array.isArray(obj[k]))obj[k].push(v);else obj[k]=[obj[k],v]}return obj}},function(module,exports){var stringifyPrimitive=function(v){switch(typeof v){case "string":return v;case "boolean":return v?"true":"false";case "number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"\x26";eq=eq||"\x3d";if(obj===null)obj=undefined;if(typeof obj==="object")return Object.keys(obj).map(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(Array.isArray(obj[k]))return obj[k].map(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep);else return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep);if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))}},function(module,exports){var isArray=Array.isArray;var keyList=Object.keys;var hasProp=Object.prototype.hasOwnProperty;module.exports=function equal(a,b){if(a===b)return true;var arrA=isArray(a),arrB=isArray(b),i,length,key;if(arrA&&arrB){length=a.length;if(length!=b.length)return false;for(i=0;i<length;i++)if(!equal(a[i],b[i]))return false;return true}if(arrA!=arrB)return false;var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA!=dateB)return false;if(dateA&&dateB)return a.getTime()==b.getTime();var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA!=regexpB)return false;if(regexpA&&regexpB)return a.toString()==b.toString();if(a instanceof Object&&b instanceof Object){var keys=keyList(a);length=keys.length;if(length!==keyList(b).length)return false;for(i=0;i<length;i++)if(!hasProp.call(b,keys[i]))return false;for(i=0;i<length;i++){key=keys[i];if(!equal(a[key],b[key]))return false}return true}return false}},function(module,exports,__webpack_require__){module.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:__webpack_require__(10),ucs2length:__webpack_require__(12),varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,finalCleanUpCode:finalCleanUpCode,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};function copy(o,to){to=to||{};for(var key in o)to[key]=o[key];return to}function checkDataType(dataType,data,negate){var EQUAL=negate?" !\x3d\x3d ":" \x3d\x3d\x3d ",AND=negate?" || ":" \x26\x26 ",OK=negate?"!":"",NOT=negate?"":"!";switch(dataType){case "null":return data+EQUAL+"null";case "array":return OK+"Array.isArray("+data+")";case "object":return"("+OK+data+AND+"typeof "+data+EQUAL+'"object"'+AND+NOT+"Array.isArray("+data+"))";case "integer":return"(typeof "+data+EQUAL+'"number"'+AND+NOT+"("+data+" % 1)"+AND+data+EQUAL+data+")";default:return"typeof "+data+EQUAL+'"'+dataType+'"'}}function checkDataTypes(dataTypes,data){switch(dataTypes.length){case 1:return checkDataType(dataTypes[0],data,true);default:var code="";var types=toHash(dataTypes);if(types.array&&types.object){code=types.null?"(":"(!"+data+" || ";code+="typeof "+data+' !\x3d\x3d "object")';delete types.null;delete types.array;delete types.object}if(types.number)delete types.integer;for(var t in types)code+=(code?" \x26\x26 ":"")+checkDataType(t,data,true);return code}}var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function coerceToTypes(optionCoerceTypes,dataTypes){if(Array.isArray(dataTypes)){var types=[];for(var i=0;i<dataTypes.length;i++){var t=dataTypes[i];if(COERCE_TO_TYPES[t])types[types.length]=t;else if(optionCoerceTypes==="array"&&t==="array")types[types.length]=t}if(types.length)return types}else if(COERCE_TO_TYPES[dataTypes])return[dataTypes];else if(optionCoerceTypes==="array"&&dataTypes==="array")return["array"]}function toHash(arr){var hash={};for(var i=0;i<arr.length;i++)hash[arr[i]]=true;return hash}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var SINGLE_QUOTE=/'|\\/g;function getProperty(key){return typeof key=="number"?"["+key+"]":IDENTIFIER.test(key)?"."+key:"['"+escapeQuotes(key)+"']"}function escapeQuotes(str){return str.replace(SINGLE_QUOTE,"\\$\x26").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(str,dataVar){dataVar+="[^0-9]";var matches=str.match(new RegExp(dataVar,"g"));return matches?matches.length:0}function varReplace(str,dataVar,expr){dataVar+="([^0-9])";expr=expr.replace(/\$/g,"$$$$");return str.replace(new RegExp(dataVar,"g"),expr+"$1")}var EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function cleanUpCode(out){return out.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")}var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors \x3d\x3d\x3d 0;",RETURN_TRUE="validate.errors \x3d null; return true;",RETURN_ASYNC=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,RETURN_DATA_ASYNC="return data;",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \(rootData === undefined\) rootData = data;/;function finalCleanUpCode(out,async){var matches=out.match(ERRORS_REGEXP);if(matches&&matches.length==2)out=async?out.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):out.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE);matches=out.match(ROOTDATA_REGEXP);if(!matches||matches.length!==3)return out;return out.replace(REMOVE_ROOTDATA,"")}function schemaHasRules(schema,rules){if(typeof schema=="boolean")return!schema;for(var key in schema)if(rules[key])return true}function schemaHasRulesExcept(schema,rules,exceptKeyword){if(typeof schema=="boolean")return!schema&&exceptKeyword!="not";for(var key in schema)if(key!=exceptKeyword&&rules[key])return true}function toQuotedString(str){return"'"+escapeQuotes(str)+"'"}function getPathExpr(currentPath,expr,jsonPointers,isNumber){var path=jsonPointers?"'/' + "+expr+(isNumber?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):isNumber?"'[' + "+expr+" + ']'":"'[\\'' + "+expr+" + '\\']'";return joinPaths(currentPath,path)}function getPath(currentPath,prop,jsonPointers){var path=jsonPointers?toQuotedString("/"+escapeJsonPointer(prop)):toQuotedString(getProperty(prop));return joinPaths(currentPath,path)}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/;var RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData($data,lvl,paths){var up,jsonPointer,data,matches;if($data==="")return"rootData";if($data[0]=="/"){if(!JSON_POINTER.test($data))throw new Error("Invalid JSON-pointer: "+$data);jsonPointer=$data;data="rootData"}else{matches=$data.match(RELATIVE_JSON_POINTER);if(!matches)throw new Error("Invalid JSON-pointer: "+$data);up=+matches[1];jsonPointer=matches[2];if(jsonPointer=="#"){if(up>=lvl)throw new Error("Cannot access property/index "+up+" levels up, current level is "+lvl);return paths[lvl-up]}if(up>lvl)throw new Error("Cannot access data "+up+" levels up, current level is "+lvl);data="data"+(lvl-up||"");if(!jsonPointer)return data}var expr=data;var segments=jsonPointer.split("/");for(var i=0;i<segments.length;i++){var segment=segments[i];if(segment){data+=getProperty(unescapeJsonPointer(segment));expr+=" \x26\x26 "+data}}return expr}function joinPaths(a,b){if(a=='""')return b;return(a+" + "+b).replace(/' \+ '/g,"")}function unescapeFragment(str){return unescapeJsonPointer(decodeURIComponent(str))}function escapeFragment(str){return encodeURIComponent(escapeJsonPointer(str))}function escapeJsonPointer(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}},function(module,exports){module.exports=function ucs2length(str){var length=0,len=str.length,pos=0,value;while(pos<len){length++;value=str.charCodeAt(pos++);if(value>=55296&&value<=56319&&pos<len){value=str.charCodeAt(pos);if((value&64512)==56320)pos++}}return length}},function(module,exports,__webpack_require__){var util=__webpack_require__(11);module.exports=SchemaObject;function SchemaObject(obj){util.copy(obj,this)}},function(module,exports){var traverse=module.exports=function(schema,opts,cb){if(typeof opts=="function"){cb=opts;opts={}}_traverse(opts,cb,schema,"",schema)};traverse.keywords={additionalItems:true,items:true,contains:true,additionalProperties:true,propertyNames:true,not:true};traverse.arrayKeywords={items:true,allOf:true,anyOf:true,oneOf:true};traverse.propsKeywords={definitions:true,properties:true,patternProperties:true,dependencies:true};traverse.skipKeywords={enum:true,const:true,required:true,maximum:true,minimum:true,exclusiveMaximum:true,exclusiveMinimum:true,multipleOf:true,maxLength:true,minLength:true,pattern:true,format:true,maxItems:true,minItems:true,uniqueItems:true,maxProperties:true,minProperties:true};function _traverse(opts,cb,schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(schema&&typeof schema=="object"&&!Array.isArray(schema)){cb(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex);for(var key in schema){var sch=schema[key];if(Array.isArray(sch)){if(key in traverse.arrayKeywords)for(var i=0;i<sch.length;i++)_traverse(opts,cb,sch[i],jsonPtr+"/"+key+"/"+i,rootSchema,jsonPtr,key,schema,i)}else if(key in traverse.propsKeywords){if(sch&&typeof sch=="object")for(var prop in sch)_traverse(opts,cb,sch[prop],jsonPtr+"/"+key+"/"+escapeJsonPtr(prop),rootSchema,jsonPtr,key,schema,prop)}else if(key in traverse.keywords||opts.allKeys&&!(key in traverse.skipKeywords))_traverse(opts,cb,sch,jsonPtr+"/"+key,rootSchema,jsonPtr,key,schema)}}}function escapeJsonPtr(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}},function(module,exports,__webpack_require__){var resolve=__webpack_require__(3);module.exports={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)};function ValidationError(errors){this.message="validation failed";this.errors=errors;this.ajv=this.validation=true}MissingRefError.message=function(baseId,ref){return"can't resolve reference "+ref+" from id "+baseId};function MissingRefError(baseId,ref,message){this.message=message||MissingRefError.message(baseId,ref);this.missingRef=resolve.url(baseId,ref);this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(Subclass){Subclass.prototype=Object.create(Error.prototype);Subclass.prototype.constructor=Subclass;return Subclass}},function(module,exports){module.exports=function(data,opts){if(!opts)opts={};if(typeof opts==="function")opts={cmp:opts};var cycles=typeof opts.cycles==="boolean"?opts.cycles:false;var cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]};var bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp);var seen=[];return function stringify(node){if(node&&node.toJSON&&typeof node.toJSON==="function")node=node.toJSON();if(node===undefined)return;if(typeof node=="number")return isFinite(node)?""+node:"null";if(typeof node!=="object")return JSON.stringify(node);var i,out;if(Array.isArray(node)){out="[";for(i=0;i<node.length;i++){if(i)out+=",";out+=stringify(node[i])||"null"}return out+"]"}if(node===null)return"null";if(seen.indexOf(node)!==-1){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var seenIndex=seen.push(node)-1;var keys=Object.keys(node).sort(cmp&&cmp(node));out="";for(i=0;i<keys.length;i++){var key=keys[i];var value=stringify(node[key]);if(!value)continue;if(out)out+=",";out+=JSON.stringify(key)+":"+value}seen.splice(seenIndex,1);return"{"+out+"}"}(data)}},function(module,exports){module.exports=function generate_validate(it,$keyword,$ruleType){var out="";var $async=it.schema.$async===true,$refKeywords=it.util.schemaHasRulesExcept(it.schema,it.RULES.all,"$ref"),$id=it.self._getId(it.schema);if(it.isTop){if($async){it.async=true;var $es7=it.opts.async=="es7";it.yieldAwait=$es7?"await":"yield"}out+=" var validate \x3d ";if($async)if($es7)out+=" (async function ";else{if(it.opts.async!="*")out+="co.wrap";out+="(function* "}else out+=" (function ";out+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ";if($id&&(it.opts.sourceCode||it.opts.processCode))out+=" "+("/*# sourceURL\x3d"+$id+" */")+" "}if(typeof it.schema=="boolean"||!($refKeywords||it.schema.$ref)){var $keyword="false schema";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;if(it.schema===false){if(it.isTop)$breakOnError=true;else out+=" var "+$valid+" \x3d false; ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"false schema")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'boolean schema is false' ";if(it.opts.verbose)out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; "}else if(it.isTop)if($async)out+=" return data; ";else out+=" validate.errors \x3d null; return true; ";else out+=" var "+$valid+" \x3d true; ";if(it.isTop)out+=" }); return validate; ";return out}if(it.isTop){var $top=it.isTop,$lvl=it.level=0,$dataLvl=it.dataLevel=0,$data="data";it.rootId=it.resolve.fullPath(it.self._getId(it.root.schema));it.baseId=it.baseId||it.rootId;delete it.isTop;it.dataPathArr=[undefined];out+=" var vErrors \x3d null; ";out+=" var errors \x3d 0;     ";out+=" if (rootData \x3d\x3d\x3d undefined) rootData \x3d data; "}else{var $lvl=it.level,$dataLvl=it.dataLevel,$data="data"+($dataLvl||"");if($id)it.baseId=it.resolve.url(it.baseId,$id);if($async&&!it.async)throw new Error("async schema in sync schema");out+=" var errs_"+$lvl+" \x3d errors;"}var $valid="valid"+$lvl,$breakOnError=!it.opts.allErrors,$closingBraces1="",$closingBraces2="";var $errorKeyword;var $typeSchema=it.schema.type,$typeIsArray=Array.isArray($typeSchema);if($typeIsArray&&$typeSchema.length==1){$typeSchema=$typeSchema[0];$typeIsArray=false}if(it.schema.$ref&&$refKeywords)if(it.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+it.errSchemaPath+'" (see option extendRefs)');else if(it.opts.extendRefs!==true){$refKeywords=false;it.logger.warn('$ref: keywords ignored in schema at path "'+it.errSchemaPath+'"')}if($typeSchema){if(it.opts.coerceTypes)var $coerceToTypes=it.util.coerceToTypes(it.opts.coerceTypes,$typeSchema);var $rulesGroup=it.RULES.types[$typeSchema];if($coerceToTypes||$typeIsArray||$rulesGroup===true||$rulesGroup&&!$shouldUseGroup($rulesGroup)){var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$method=$typeIsArray?"checkDataTypes":"checkDataType";out+=" if ("+it.util[$method]($typeSchema,$data,true)+") { ";if($coerceToTypes){var $dataType="dataType"+$lvl,$coerced="coerced"+$lvl;out+=" var "+$dataType+" \x3d typeof "+$data+"; ";if(it.opts.coerceTypes=="array")out+=" if ("+$dataType+" \x3d\x3d 'object' \x26\x26 Array.isArray("+$data+")) "+$dataType+" \x3d 'array'; ";out+=" var "+$coerced+" \x3d undefined; ";var $bracesCoercion="";var arr1=$coerceToTypes;if(arr1){var $type,$i=-1,l1=arr1.length-1;while($i<l1){$type=arr1[$i+=1];if($i){out+=" if ("+$coerced+" \x3d\x3d\x3d undefined) { ";$bracesCoercion+="}"}if(it.opts.coerceTypes=="array"&&$type!="array")out+=" if ("+$dataType+" \x3d\x3d 'array' \x26\x26 "+$data+".length \x3d\x3d 1) { "+$coerced+" \x3d "+$data+" \x3d "+$data+"[0]; "+$dataType+" \x3d typeof "+$data+";  } ";if($type=="string")out+=" if ("+$dataType+" \x3d\x3d 'number' || "+$dataType+" \x3d\x3d 'boolean') "+$coerced+" \x3d '' + "+$data+"; else if ("+$data+" \x3d\x3d\x3d null) "+$coerced+" \x3d ''; ";else if($type=="number"||$type=="integer"){out+=" if ("+$dataType+" \x3d\x3d 'boolean' || "+$data+" \x3d\x3d\x3d null || ("+$dataType+" \x3d\x3d 'string' \x26\x26 "+$data+" \x26\x26 "+$data+" \x3d\x3d +"+$data+" ";if($type=="integer")out+=" \x26\x26 !("+$data+" % 1)";out+=")) "+$coerced+" \x3d +"+$data+"; "}else if($type=="boolean")out+=" if ("+$data+" \x3d\x3d\x3d 'false' || "+$data+" \x3d\x3d\x3d 0 || "+$data+" \x3d\x3d\x3d null) "+$coerced+" \x3d false; else if ("+$data+" \x3d\x3d\x3d 'true' || "+$data+" \x3d\x3d\x3d 1) "+$coerced+" \x3d true; ";else if($type=="null")out+=" if ("+$data+" \x3d\x3d\x3d '' || "+$data+" \x3d\x3d\x3d 0 || "+$data+" \x3d\x3d\x3d false) "+$coerced+" \x3d null; ";else if(it.opts.coerceTypes=="array"&&$type=="array")out+=" if ("+$dataType+" \x3d\x3d 'string' || "+$dataType+" \x3d\x3d 'number' || "+$dataType+" \x3d\x3d 'boolean' || "+$data+" \x3d\x3d null) "+$coerced+" \x3d ["+$data+"]; "}}out+=" "+$bracesCoercion+" if ("+$coerced+" \x3d\x3d\x3d undefined) {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else {  ";var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" "+$data+" \x3d "+$coerced+"; ";if(!$dataLvl)out+="if ("+$parentData+" !\x3d\x3d undefined)";out+=" "+$parentData+"["+$parentDataProperty+"] \x3d "+$coerced+"; } "}else{var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; "}out+=" } "}}if(it.schema.$ref&&!$refKeywords){out+=" "+it.RULES.all.$ref.code(it,"$ref")+" ";if($breakOnError){out+=" } if (errors \x3d\x3d\x3d ";if($top)out+="0";else out+="errs_"+$lvl;out+=") { ";$closingBraces2+="}"}}else{if(it.opts.v5&&it.schema.patternGroups)it.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var arr2=it.RULES;if(arr2){var $rulesGroup,i2=-1,l2=arr2.length-1;while(i2<l2){$rulesGroup=arr2[i2+=1];if($shouldUseGroup($rulesGroup)){if($rulesGroup.type)out+=" if ("+it.util.checkDataType($rulesGroup.type,$data)+") { ";if(it.opts.useDefaults&&!it.compositeRule)if($rulesGroup.type=="object"&&it.schema.properties){var $schema=it.schema.properties,$schemaKeys=Object.keys($schema);var arr3=$schemaKeys;if(arr3){var $propertyKey,i3=-1,l3=arr3.length-1;while(i3<l3){$propertyKey=arr3[i3+=1];var $sch=$schema[$propertyKey];if($sch.default!==undefined){var $passData=$data+it.util.getProperty($propertyKey);out+="  if ("+$passData+" \x3d\x3d\x3d undefined) "+$passData+" \x3d ";if(it.opts.useDefaults=="shared")out+=" "+it.useDefault($sch.default)+" ";else out+=" "+JSON.stringify($sch.default)+" ";out+="; "}}}}else if($rulesGroup.type=="array"&&Array.isArray(it.schema.items)){var arr4=it.schema.items;if(arr4){var $sch,$i=-1,l4=arr4.length-1;while($i<l4){$sch=arr4[$i+=1];if($sch.default!==undefined){var $passData=$data+"["+$i+"]";out+="  if ("+$passData+" \x3d\x3d\x3d undefined) "+$passData+" \x3d ";if(it.opts.useDefaults=="shared")out+=" "+it.useDefault($sch.default)+" ";else out+=" "+JSON.stringify($sch.default)+" ";out+="; "}}}}var arr5=$rulesGroup.rules;if(arr5){var $rule,i5=-1,l5=arr5.length-1;while(i5<l5){$rule=arr5[i5+=1];if($shouldUseRule($rule)){var $code=$rule.code(it,$rule.keyword,$rulesGroup.type);if($code){out+=" "+$code+" ";if($breakOnError)$closingBraces1+="}"}}}}if($breakOnError){out+=" "+$closingBraces1+" ";$closingBraces1=""}if($rulesGroup.type){out+=" } ";if($typeSchema&&$typeSchema===$rulesGroup.type&&!$coerceToTypes){out+=" else { ";var $schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"type")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' } ";if(it.opts.messages!==false){out+=" , message: 'should be ";if($typeIsArray)out+=""+$typeSchema.join(",");else out+=""+$typeSchema;out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } "}}if($breakOnError){out+=" if (errors \x3d\x3d\x3d ";if($top)out+="0";else out+="errs_"+$lvl;out+=") { ";$closingBraces2+="}"}}}}}if($breakOnError)out+=" "+$closingBraces2+" ";if($top){if($async){out+=" if (errors \x3d\x3d\x3d 0) return data;           ";out+=" else throw new ValidationError(vErrors); "}else{out+=" validate.errors \x3d vErrors; ";out+=" return errors \x3d\x3d\x3d 0;       "}out+=" }); return validate;"}else out+=" var "+$valid+" \x3d errors \x3d\x3d\x3d errs_"+$lvl+";";out=it.util.cleanUpCode(out);if($top)out=it.util.finalCleanUpCode(out,$async);function $shouldUseGroup($rulesGroup){var rules=$rulesGroup.rules;for(var i=0;i<rules.length;i++)if($shouldUseRule(rules[i]))return true}function $shouldUseRule($rule){return it.schema[$rule.keyword]!==undefined||$rule.implements&&$ruleImplementsSomeKeyword($rule)}function $ruleImplementsSomeKeyword($rule){var impl=$rule.implements;for(var i=0;i<impl.length;i++)if(it.schema[impl[i]]!==undefined)return true}return out}},function(module,exports){var slice=Array.prototype.slice;module.exports=co["default"]=co.co=co;co.wrap=function(fn){createPromise.__generatorFunction__=fn;return createPromise;function createPromise(){return co.call(this,fn.apply(this,arguments))}};function co(gen){var ctx=this;var args=slice.call(arguments,1);return new Promise(function(resolve,reject){if(typeof gen==="function")gen=gen.apply(ctx,args);if(!gen||typeof gen.next!=="function")return resolve(gen);onFulfilled();function onFulfilled(res){var ret;try{ret=gen.next(res)}catch(e){return reject(e)}next(ret)}function onRejected(err){var ret;try{ret=gen.throw(err)}catch(e){return reject(e)}next(ret)}function next(ret){if(ret.done)return resolve(ret.value);var value=toPromise.call(ctx,ret.value);if(value&&isPromise(value))return value.then(onFulfilled,onRejected);return onRejected(new TypeError("You may only yield a function, promise, generator, array, or object, "+'but the following object was passed: "'+String(ret.value)+'"'))}})}function toPromise(obj){if(!obj)return obj;if(isPromise(obj))return obj;if(isGeneratorFunction(obj)||isGenerator(obj))return co.call(this,obj);if("function"==typeof obj)return thunkToPromise.call(this,obj);if(Array.isArray(obj))return arrayToPromise.call(this,obj);if(isObject(obj))return objectToPromise.call(this,obj);return obj}function thunkToPromise(fn){var ctx=this;return new Promise(function(resolve,reject){fn.call(ctx,function(err,res){if(err)return reject(err);if(arguments.length>2)res=slice.call(arguments,1);resolve(res)})})}function arrayToPromise(obj){return Promise.all(obj.map(toPromise,this))}function objectToPromise(obj){var results=new obj.constructor;var keys=Object.keys(obj);var promises=[];for(var i=0;i<keys.length;i++){var key=keys[i];var promise=toPromise.call(this,obj[key]);if(promise&&isPromise(promise))defer(promise,key);else results[key]=obj[key]}return Promise.all(promises).then(function(){return results});function defer(promise,key){results[key]=undefined;promises.push(promise.then(function(res){results[key]=res}))}}function isPromise(obj){return"function"==typeof obj.then}function isGenerator(obj){return"function"==typeof obj.next&&"function"==typeof obj.throw}function isGeneratorFunction(obj){var constructor=obj.constructor;if(!constructor)return false;if("GeneratorFunction"===constructor.name||"GeneratorFunction"===constructor.displayName)return true;return isGenerator(constructor.prototype)}function isObject(val){return Object==val.constructor}},function(module,exports){var Cache=module.exports=function Cache(){this._cache={}};Cache.prototype.put=function Cache_put(key,value){this._cache[key]=value};Cache.prototype.get=function Cache_get(key){return this._cache[key]};Cache.prototype.del=function Cache_del(key){delete this._cache[key]};Cache.prototype.clear=function Cache_clear(){this._cache={}}},function(module,exports,__webpack_require__){var util=__webpack_require__(11);var DATE=/^\d\d\d\d-(\d\d)-(\d\d)$/;var DAYS=[0,31,29,31,30,31,30,31,31,30,31,30,31];var TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i;var HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;var URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var URIREF=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;var URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;var UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;var JSON_POINTER=/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;var RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;module.exports=formats;function formats(mode){mode=mode=="full"?"full":"fast";return util.copy(formats[mode])}formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"relative-json-pointer":RELATIVE_JSON_POINTER};formats.full={date:date,time:time,"date-time":date_time,uri:uri,"uri-reference":URIREF,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"relative-json-pointer":RELATIVE_JSON_POINTER};function date(str){var matches=str.match(DATE);if(!matches)return false;var month=+matches[1];var day=+matches[2];return month>=1&&month<=12&&day>=1&&day<=DAYS[month]}function time(str,full){var matches=str.match(TIME);if(!matches)return false;var hour=matches[1];var minute=matches[2];var second=matches[3];var timeZone=matches[5];return hour<=23&&minute<=59&&second<=59&&(!full||timeZone)}var DATE_TIME_SEPARATOR=/t|\s/i;function date_time(str){var dateTime=str.split(DATE_TIME_SEPARATOR);return dateTime.length==2&&date(dateTime[0])&&time(dateTime[1],true)}function hostname(str){return str.length<=255&&HOSTNAME.test(str)}var NOT_URI_FRAGMENT=/\/|:/;function uri(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)}var Z_ANCHOR=/[^\\]\\Z/;function regex(str){if(Z_ANCHOR.test(str))return false;try{new RegExp(str);return true}catch(e){return false}}},function(module,exports,__webpack_require__){var ruleModules=__webpack_require__(22),toHash=__webpack_require__(11).toHash;module.exports=function rules(){var RULES=[{type:"number",rules:[{"maximum":["exclusiveMaximum"]},{"minimum":["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{"properties":["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}];var ALL=["type"];var KEYWORDS=["additionalItems","$schema","$id","id","title","description","default","definitions"];var TYPES=["number","integer","string","array","object","boolean","null"];RULES.all=toHash(ALL);RULES.types=toHash(TYPES);RULES.forEach(function(group){group.rules=group.rules.map(function(keyword){var implKeywords;if(typeof keyword=="object"){var key=Object.keys(keyword)[0];implKeywords=keyword[key];keyword=key;implKeywords.forEach(function(k){ALL.push(k);RULES.all[k]=true})}ALL.push(keyword);var rule=RULES.all[keyword]={keyword:keyword,code:ruleModules[keyword],implements:implKeywords};return rule});if(group.type)RULES.types[group.type]=group});RULES.keywords=toHash(ALL.concat(KEYWORDS));RULES.custom={};return RULES}},function(module,exports,__webpack_require__){module.exports={"$ref":__webpack_require__(23),allOf:__webpack_require__(24),anyOf:__webpack_require__(25),const:__webpack_require__(26),contains:__webpack_require__(27),dependencies:__webpack_require__(28),"enum":__webpack_require__(29),format:__webpack_require__(30),items:__webpack_require__(31),maximum:__webpack_require__(32),minimum:__webpack_require__(32),maxItems:__webpack_require__(33),minItems:__webpack_require__(33),maxLength:__webpack_require__(34),minLength:__webpack_require__(34),maxProperties:__webpack_require__(35),minProperties:__webpack_require__(35),multipleOf:__webpack_require__(36),not:__webpack_require__(37),oneOf:__webpack_require__(38),pattern:__webpack_require__(39),properties:__webpack_require__(40),propertyNames:__webpack_require__(41),required:__webpack_require__(42),uniqueItems:__webpack_require__(43),validate:__webpack_require__(17)}},function(module,exports){module.exports=function generate_ref(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $async,$refCode;if($schema=="#"||$schema=="#/")if(it.isRoot){$async=it.async;$refCode="validate"}else{$async=it.root.schema.$async===true;$refCode="root.refVal[0]"}else{var $refVal=it.resolveRef(it.baseId,$schema,it.isRoot);if($refVal===undefined){var $message=it.MissingRefError.message(it.baseId,$schema);if(it.opts.missingRefs=="fail"){it.logger.error($message);var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"$ref"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { ref: '"+it.util.escapeQuotes($schema)+"' } ";if(it.opts.messages!==false)out+=" , message: 'can\\'t resolve reference "+it.util.escapeQuotes($schema)+"' ";if(it.opts.verbose)out+=" , schema: "+it.util.toQuotedString($schema)+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if($breakOnError)out+=" if (false) { "}else if(it.opts.missingRefs=="ignore"){it.logger.warn($message);if($breakOnError)out+=" if (true) { "}else throw new it.MissingRefError(it.baseId,$schema,$message);}else if($refVal.inline){var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;$it.schema=$refVal.schema;$it.schemaPath="";$it.errSchemaPath=$schema;var $code=it.validate($it).replace(/validate\.schema/g,$refVal.code);out+=" "+$code+" ";if($breakOnError)out+=" if ("+$nextValid+") { "}else{$async=$refVal.$async===true;$refCode=$refVal.code}}if($refCode){var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.opts.passContext)out+=" "+$refCode+".call(this, ";else out+=" "+$refCode+"( ";out+=" "+$data+", (dataPath || '')";if(it.errorPath!='""')out+=" + "+it.errorPath;var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" , "+$parentData+" , "+$parentDataProperty+", rootData)  ";var __callValidate=out;out=$$outStack.pop();if($async){if(!it.async)throw new Error("async schema referenced by sync schema");if($breakOnError)out+=" var "+$valid+"; ";out+=" try { "+it.yieldAwait+" "+__callValidate+"; ";if($breakOnError)out+=" "+$valid+" \x3d true; ";out+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors \x3d\x3d\x3d null) vErrors \x3d e.errors; else vErrors \x3d vErrors.concat(e.errors); errors \x3d vErrors.length; ";if($breakOnError)out+=" "+$valid+" \x3d false; ";out+=" } ";if($breakOnError)out+=" if ("+$valid+") { "}else{out+=" if (!"+__callValidate+") { if (vErrors \x3d\x3d\x3d null) vErrors \x3d "+$refCode+".errors; else vErrors \x3d vErrors.concat("+$refCode+".errors); errors \x3d vErrors.length; } ";if($breakOnError)out+=" else { "}}return out}},function(module,exports){module.exports=function generate_allOf(it,$keyword,$ruleType){var out=" ";var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $currentBaseId=$it.baseId,$allSchemasEmpty=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.util.schemaHasRules($sch,it.RULES.all)){$allSchemasEmpty=false;$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if($breakOnError)if($allSchemasEmpty)out+=" if (true) { ";else out+=" "+$closingBraces.slice(0,-1)+" ";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate_anyOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $noEmptySchema=$schema.every(function($sch){return it.util.schemaHasRules($sch,it.RULES.all)});if($noEmptySchema){var $currentBaseId=$it.baseId;out+=" var "+$errs+" \x3d errors; var "+$valid+" \x3d false;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" "+$valid+" \x3d "+$valid+" || "+$nextValid+"; if (!"+$valid+") { ";$closingBraces+="}"}}it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$closingBraces+" if (!"+$valid+") {   var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"anyOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should match some schema in anyOf' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(vErrors); ";else out+=" validate.errors \x3d vErrors; return false; ";out+=" } else {  errors \x3d "+$errs+"; if (vErrors !\x3d\x3d null) { if ("+$errs+") vErrors.length \x3d "+$errs+"; else vErrors \x3d null; } ";if(it.opts.allErrors)out+=" } ";out=it.util.cleanUpCode(out)}else if($breakOnError)out+=" if (true) { ";return out}},function(module,exports){module.exports=function generate_const(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;if(!$isData)out+=" var schema"+$lvl+" \x3d validate.schema"+$schemaPath+";";out+="var "+$valid+" \x3d equal("+$data+", schema"+$lvl+"); if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"const"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should be equal to constant' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" }";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_contains(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId,$nonEmptySchema=it.util.schemaHasRules($schema,it.RULES.all);out+="var "+$errs+" \x3d errors;var "+$valid+";";if($nonEmptySchema){var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+=" var "+$nextValid+" \x3d false; for (var "+$idx+" \x3d 0; "+$idx+" \x3c "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";out+=" if ("+$nextValid+") break; }  ";it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$closingBraces+" if (!"+$nextValid+") {"}else out+=" if ("+$data+".length \x3d\x3d 0) {";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"contains"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should contain a valid item' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else { ";if($nonEmptySchema)out+="  errors \x3d "+$errs+"; if (vErrors !\x3d\x3d null) { if ("+$errs+") vErrors.length \x3d "+$errs+"; else vErrors \x3d null; } ";if(it.opts.allErrors)out+=" } ";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate_dependencies(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $schemaDeps={},$propertyDeps={},$ownProperties=it.opts.ownProperties;for($property in $schema){var $sch=$schema[$property];var $deps=Array.isArray($sch)?$propertyDeps:$schemaDeps;$deps[$property]=$sch}out+="var "+$errs+" \x3d errors;";var $currentErrorPath=it.errorPath;out+="var missing"+$lvl+";";for(var $property in $propertyDeps){$deps=$propertyDeps[$property];if($deps.length){out+=" if ( "+$data+it.util.getProperty($property)+" !\x3d\x3d undefined ";if($ownProperties)out+=" \x26\x26 Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') ";if($breakOnError){out+=" \x26\x26 ( ";var arr1=$deps;if(arr1){var $propertyKey,$i=-1,l1=arr1.length-1;while($i<l1){$propertyKey=arr1[$i+=1];if($i)out+=" || ";var $prop=it.util.getProperty($propertyKey),$useData=$data+$prop;out+=" ( ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") \x26\x26 (missing"+$lvl+" \x3d "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}}out+=")) {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty)it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,true):$currentErrorPath+" + "+$propertyPath;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes($deps.length==1?$deps[0]:$deps.join(", "))+"' } ";if(it.opts.messages!==false){out+=" , message: 'should have ";if($deps.length==1)out+="property "+it.util.escapeQuotes($deps[0]);else out+="properties "+it.util.escapeQuotes($deps.join(", "));out+=" when property "+it.util.escapeQuotes($property)+" is present' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; "}else{out+=" ) { ";var arr2=$deps;if(arr2){var $propertyKey,i2=-1,l2=arr2.length-1;while(i2<l2){$propertyKey=arr2[i2+=1];var $prop=it.util.getProperty($propertyKey),$missingProperty=it.util.escapeQuotes($propertyKey),$useData=$data+$prop;if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers);out+=" if ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") {  var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"dependencies"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes($deps.length==1?$deps[0]:$deps.join(", "))+"' } ";if(it.opts.messages!==false){out+=" , message: 'should have ";if($deps.length==1)out+="property "+it.util.escapeQuotes($deps[0]);else out+="properties "+it.util.escapeQuotes($deps.join(", "));out+=" when property "+it.util.escapeQuotes($property)+" is present' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; } "}}}out+=" }   ";if($breakOnError){$closingBraces+="}";out+=" else { "}}}it.errorPath=$currentErrorPath;var $currentBaseId=$it.baseId;for(var $property in $schemaDeps){var $sch=$schemaDeps[$property];if(it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" \x3d true; if ( "+$data+it.util.getProperty($property)+" !\x3d\x3d undefined ";if($ownProperties)out+=" \x26\x26 Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') ";out+=") { ";$it.schema=$sch;$it.schemaPath=$schemaPath+it.util.getProperty($property);$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($property);out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId;out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}if($breakOnError)out+="   "+$closingBraces+" if ("+$errs+" \x3d\x3d errors) {";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate_enum(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $i="i"+$lvl,$vSchema="schema"+$lvl;if(!$isData)out+=" var "+$vSchema+" \x3d validate.schema"+$schemaPath+";";out+="var "+$valid+";";if($isData)out+=" if (schema"+$lvl+" \x3d\x3d\x3d undefined) "+$valid+" \x3d true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" \x3d false; else {";out+=""+$valid+" \x3d false;for (var "+$i+"\x3d0; "+$i+"\x3c"+$vSchema+".length; "+$i+"++) if (equal("+$data+", "+$vSchema+"["+$i+"])) { "+$valid+" \x3d true; break; }";if($isData)out+="  }  ";out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"enum"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValues: schema"+$lvl+" } ";if(it.opts.messages!==false)out+=" , message: 'should be equal to one of the allowed values' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" }";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_format(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");if(it.opts.format===false){if($breakOnError)out+=" if (true) { ";return out}var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $unknownFormats=it.opts.unknownFormats,$allowUnknown=Array.isArray($unknownFormats);if($isData){var $format="format"+$lvl,$isObject="isObject"+$lvl,$formatType="formatType"+$lvl;out+=" var "+$format+" \x3d formats["+$schemaValue+"]; var "+$isObject+" \x3d typeof "+$format+" \x3d\x3d 'object' \x26\x26 !("+$format+" instanceof RegExp) \x26\x26 "+$format+".validate; var "+$formatType+" \x3d "+$isObject+" \x26\x26 "+$format+".type || 'string'; if ("+$isObject+") { ";if(it.async)out+=" var async"+$lvl+" \x3d "+$format+".async; ";out+=" "+$format+" \x3d "+$format+".validate; } if (  ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'string') || ";out+=" (";if($unknownFormats!="ignore"){out+=" ("+$schemaValue+" \x26\x26 !"+$format+" ";if($allowUnknown)out+=" \x26\x26 self._opts.unknownFormats.indexOf("+$schemaValue+") \x3d\x3d -1 ";out+=") || "}out+=" ("+$format+" \x26\x26 "+$formatType+" \x3d\x3d '"+$ruleType+"' \x26\x26 !(typeof "+$format+" \x3d\x3d 'function' ? ";if(it.async)out+=" (async"+$lvl+" ? "+it.yieldAwait+" "+$format+"("+$data+") : "+$format+"("+$data+")) ";else out+=" "+$format+"("+$data+") ";out+=" : "+$format+".test("+$data+"))))) {"}else{var $format=it.formats[$schema];if(!$format)if($unknownFormats=="ignore"){it.logger.warn('unknown format "'+$schema+'" ignored in schema at path "'+it.errSchemaPath+'"');if($breakOnError)out+=" if (true) { ";return out}else if($allowUnknown&&$unknownFormats.indexOf($schema)>=0){if($breakOnError)out+=" if (true) { ";return out}else throw new Error('unknown format "'+$schema+'" is used in schema at path "'+it.errSchemaPath+'"');var $isObject=typeof $format=="object"&&!($format instanceof RegExp)&&$format.validate;var $formatType=$isObject&&$format.type||"string";if($isObject){var $async=$format.async===true;$format=$format.validate}if($formatType!=$ruleType){if($breakOnError)out+=" if (true) { ";return out}if($async){if(!it.async)throw new Error("async format in sync schema");var $formatRef="formats"+it.util.getProperty($schema)+".validate";out+=" if (!("+it.yieldAwait+" "+$formatRef+"("+$data+"))) { "}else{out+=" if (! ";var $formatRef="formats"+it.util.getProperty($schema);if($isObject)$formatRef+=".validate";if(typeof $format=="function")out+=" "+$formatRef+"("+$data+") ";else out+=" "+$formatRef+".test("+$data+") ";out+=") { "}}var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"format"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { format:  ";if($isData)out+=""+$schemaValue;else out+=""+it.util.toQuotedString($schema);out+="  } ";if(it.opts.messages!==false){out+=" , message: 'should match format \"";if($isData)out+="' + "+$schemaValue+" + '";else out+=""+it.util.escapeQuotes($schema);out+="\"' "}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+it.util.toQuotedString($schema);out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_items(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId;out+="var "+$errs+" \x3d errors;var "+$valid+";";if(Array.isArray($schema)){var $additionalItems=it.schema.additionalItems;if($additionalItems===false){out+=" "+$valid+" \x3d "+$data+".length \x3c\x3d "+$schema.length+"; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalItems";out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"additionalItems"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schema.length+" } ";if(it.opts.messages!==false)out+=" , message: 'should NOT have more than "+$schema.length+" items' ";if(it.opts.verbose)out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } ";$errSchemaPath=$currErrSchemaPath;if($breakOnError){$closingBraces+="}";out+=" else { "}}var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" \x3d true; if ("+$data+".length \x3e "+$i+") { ";var $passData=$data+"["+$i+"]";$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;$it.errorPath=it.util.getPathExpr(it.errorPath,$i,it.opts.jsonPointers,true);$it.dataPathArr[$dataNxt]=$i;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if(typeof $additionalItems=="object"&&it.util.schemaHasRules($additionalItems,it.RULES.all)){$it.schema=$additionalItems;$it.schemaPath=it.schemaPath+".additionalItems";$it.errSchemaPath=it.errSchemaPath+"/additionalItems";out+=" "+$nextValid+" \x3d true; if ("+$data+".length \x3e "+$schema.length+") {  for (var "+$idx+" \x3d "+$schema.length+"; "+$idx+" \x3c "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";if($breakOnError)out+=" if (!"+$nextValid+") break; ";out+=" } }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}else if(it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+="  for (var "+$idx+" \x3d "+0+"; "+$idx+" \x3c "+$data+".length; "+$idx+"++) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,true);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";if($breakOnError)out+=" if (!"+$nextValid+") break; ";out+=" }"}if($breakOnError)out+=" "+$closingBraces+" if ("+$errs+" \x3d\x3d errors) {";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate__limit(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $isMax=$keyword=="maximum",$exclusiveKeyword=$isMax?"exclusiveMaximum":"exclusiveMinimum",$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.$data&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"\x3c":"\x3e",$notOp=$isMax?"\x3e":"\x3c",$errorKeyword=undefined;if($isDataExcl){var $schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$exclType="exclType"+$lvl,$exclIsNumber="exclIsNumber"+$lvl,$opExpr="op"+$lvl,$opStr="' + "+$opExpr+" + '";out+=" var schemaExcl"+$lvl+" \x3d "+$schemaValueExcl+"; ";$schemaValueExcl="schemaExcl"+$lvl;out+=" var "+$exclusive+"; var "+$exclType+" \x3d typeof "+$schemaValueExcl+"; if ("+$exclType+" !\x3d 'boolean' \x26\x26 "+$exclType+" !\x3d 'undefined' \x26\x26 "+$exclType+" !\x3d 'number') { ";var $errorKeyword=$exclusiveKeyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: '"+$exclusiveKeyword+" should be boolean' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";out+=" "+$exclType+" \x3d\x3d 'number' ? ( ("+$exclusive+" \x3d "+$schemaValue+" \x3d\x3d\x3d undefined || "+$schemaValueExcl+" "+$op+"\x3d "+$schemaValue+") ? "+$data+" "+$notOp+"\x3d "+$schemaValueExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) : ( ("+$exclusive+" \x3d "+$schemaValueExcl+" \x3d\x3d\x3d true) ? "+$data+" "+$notOp+"\x3d "+$schemaValue+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !\x3d\x3d "+$data+") { var op"+$lvl+" \x3d "+$exclusive+" ? '"+$op+"' : '"+$op+"\x3d';"}else{var $exclIsNumber=typeof $schemaExcl=="number",$opStr=$op;if($exclIsNumber&&$isData){var $opExpr="'"+$opStr+"'";out+=" if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";out+=" ( "+$schemaValue+" \x3d\x3d\x3d undefined || "+$schemaExcl+" "+$op+"\x3d "+$schemaValue+" ? "+$data+" "+$notOp+"\x3d "+$schemaExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !\x3d\x3d "+$data+") { "}else{if($exclIsNumber&&$schema===undefined){$exclusive=true;$errorKeyword=$exclusiveKeyword;$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword;$schemaValue=$schemaExcl;$notOp+="\x3d"}else{if($exclIsNumber)$schemaValue=Math[$isMax?"min":"max"]($schemaExcl,$schema);if($schemaExcl===($exclIsNumber?$schemaValue:true)){$exclusive=true;$errorKeyword=$exclusiveKeyword;$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword;$notOp+="\x3d"}else{$exclusive=false;$opStr+="\x3d"}}var $opExpr="'"+$opStr+"'";out+=" if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";out+=" "+$data+" "+$notOp+" "+$schemaValue+" || "+$data+" !\x3d\x3d "+$data+") { "}}$errorKeyword=$errorKeyword||$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit: "+$schemaValue+", exclusive: "+$exclusive+" } ";if(it.opts.messages!==false){out+=" , message: 'should be "+$opStr+" ";if($isData)out+="' + "+$schemaValue;else out+=""+$schemaValue+"'"}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate__limitItems(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $op=$keyword=="maxItems"?"\x3e":"\x3c";out+="if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";out+=" "+$data+".length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitItems")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have ";if($keyword=="maxItems")out+="more";else out+="less";out+=" than ";if($isData)out+="' + "+$schemaValue+" + '";else out+=""+$schema;out+=" items' "}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+="} ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate__limitLength(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $op=$keyword=="maxLength"?"\x3e":"\x3c";out+="if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";if(it.opts.unicode===false)out+=" "+$data+".length ";else out+=" ucs2length("+$data+") ";out+=" "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitLength")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT be ";if($keyword=="maxLength")out+="longer";else out+="shorter";out+=" than ";if($isData)out+="' + "+$schemaValue+" + '";else out+=""+$schema;out+=" characters' "}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+="} ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate__limitProperties(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $op=$keyword=="maxProperties"?"\x3e":"\x3c";out+="if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'number') || ";out+=" Object.keys("+$data+").length "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"_limitProperties")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should NOT have ";if($keyword=="maxProperties")out+="more";else out+="less";out+=" than ";if($isData)out+="' + "+$schemaValue+" + '";else out+=""+$schema;out+=" properties' "}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+="} ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_multipleOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;out+="var division"+$lvl+";if (";if($isData)out+=" "+$schemaValue+" !\x3d\x3d undefined \x26\x26 ( typeof "+$schemaValue+" !\x3d 'number' || ";out+=" (division"+$lvl+" \x3d "+$data+" / "+$schemaValue+", ";if(it.opts.multipleOfPrecision)out+=" Math.abs(Math.round(division"+$lvl+") - division"+$lvl+") \x3e 1e-"+it.opts.multipleOfPrecision+" ";else out+=" division"+$lvl+" !\x3d\x3d parseInt(division"+$lvl+") ";out+=" ) ";if($isData)out+="  )  ";out+=" ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"multipleOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { multipleOf: "+$schemaValue+" } ";if(it.opts.messages!==false){out+=" , message: 'should be multiple of ";if($isData)out+="' + "+$schemaValue;else out+=""+$schemaValue+"'"}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+="} ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_not(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;out+=" var "+$errs+" \x3d errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.createErrors=false;var $allErrorsOption;if($it.opts.allErrors){$allErrorsOption=$it.opts.allErrors;$it.opts.allErrors=false}out+=" "+it.validate($it)+" ";$it.createErrors=true;if($allErrorsOption)$it.opts.allErrors=$allErrorsOption;it.compositeRule=$it.compositeRule=$wasComposite;out+=" if ("+$nextValid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should NOT be valid' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else {  errors \x3d "+$errs+"; if (vErrors !\x3d\x3d null) { if ("+$errs+") vErrors.length \x3d "+$errs+"; else vErrors \x3d null; } ";if(it.opts.allErrors)out+=" } "}else{out+="  var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"not"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should NOT be valid' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if($breakOnError)out+=" if (false) { "}return out}},function(module,exports){module.exports=function generate_oneOf(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;out+="var "+$errs+" \x3d errors;var prevValid"+$lvl+" \x3d false;var "+$valid+" \x3d false;";var $currentBaseId=$it.baseId;var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var arr1=$schema;if(arr1){var $sch,$i=-1,l1=arr1.length-1;while($i<l1){$sch=arr1[$i+=1];if(it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch;$it.schemaPath=$schemaPath+"["+$i+"]";$it.errSchemaPath=$errSchemaPath+"/"+$i;out+="  "+it.validate($it)+" ";$it.baseId=$currentBaseId}else out+=" var "+$nextValid+" \x3d true; ";if($i){out+=" if ("+$nextValid+" \x26\x26 prevValid"+$lvl+") "+$valid+" \x3d false; else { ";$closingBraces+="}"}out+=" if ("+$nextValid+") "+$valid+" \x3d prevValid"+$lvl+" \x3d true;"}}it.compositeRule=$it.compositeRule=$wasComposite;out+=""+$closingBraces+"if (!"+$valid+") {   var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"oneOf"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ";if(it.opts.messages!==false)out+=" , message: 'should match exactly one schema in oneOf' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(vErrors); ";else out+=" validate.errors \x3d vErrors; return false; ";out+="} else {  errors \x3d "+$errs+"; if (vErrors !\x3d\x3d null) { if ("+$errs+") vErrors.length \x3d "+$errs+"; else vErrors \x3d null; }";if(it.opts.allErrors)out+=" } ";return out}},function(module,exports){module.exports=function generate_pattern(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $regexp=$isData?"(new RegExp("+$schemaValue+"))":it.usePattern($schema);out+="if ( ";if($isData)out+=" ("+$schemaValue+" !\x3d\x3d undefined \x26\x26 typeof "+$schemaValue+" !\x3d 'string') || ";out+=" !"+$regexp+".test("+$data+") ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"pattern"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { pattern:  ";if($isData)out+=""+$schemaValue;else out+=""+it.util.toQuotedString($schema);out+="  } ";if(it.opts.messages!==false){out+=" , message: 'should match pattern \"";if($isData)out+="' + "+$schemaValue+" + '";else out+=""+it.util.escapeQuotes($schema);out+="\"' "}if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+it.util.toQuotedString($schema);out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+="} ";if($breakOnError)out+=" else { ";return out}},function(module,exports){module.exports=function generate_properties(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;var $key="key"+$lvl,$idx="idx"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl;var $schemaKeys=Object.keys($schema||{}),$pProperties=it.schema.patternProperties||{},$pPropertyKeys=Object.keys($pProperties),$aProperties=it.schema.additionalProperties,$someProperties=$schemaKeys.length||$pPropertyKeys.length,$noAdditional=$aProperties===false,$additionalIsSchema=typeof $aProperties=="object"&&Object.keys($aProperties).length,$removeAdditional=it.opts.removeAdditional,$checkAdditional=$noAdditional||$additionalIsSchema||$removeAdditional,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;var $required=it.schema.required;if($required&&!(it.opts.v5&&$required.$data)&&$required.length<it.opts.loopRequired)var $requiredHash=it.util.toHash($required);if(it.opts.patternGroups)var $pgProperties=it.schema.patternGroups||{},$pgPropertyKeys=Object.keys($pgProperties);out+="var "+$errs+" \x3d errors;var "+$nextValid+" \x3d true;";if($ownProperties)out+=" var "+$dataProperties+" \x3d undefined;";if($checkAdditional){if($ownProperties)out+=" "+$dataProperties+" \x3d "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"\x3d0; "+$idx+"\x3c"+$dataProperties+".length; "+$idx+"++) { var "+$key+" \x3d "+$dataProperties+"["+$idx+"]; ";else out+=" for (var "+$key+" in "+$data+") { ";if($someProperties){out+=" var isAdditional"+$lvl+" \x3d !(false ";if($schemaKeys.length)if($schemaKeys.length>5)out+=" || validate.schema"+$schemaPath+"["+$key+"] ";else{var arr1=$schemaKeys;if(arr1){var $propertyKey,i1=-1,l1=arr1.length-1;while(i1<l1){$propertyKey=arr1[i1+=1];out+=" || "+$key+" \x3d\x3d "+it.util.toQuotedString($propertyKey)+" "}}}if($pPropertyKeys.length){var arr2=$pPropertyKeys;if(arr2){var $pProperty,$i=-1,l2=arr2.length-1;while($i<l2){$pProperty=arr2[$i+=1];out+=" || "+it.usePattern($pProperty)+".test("+$key+") "}}}if(it.opts.patternGroups&&$pgPropertyKeys.length){var arr3=$pgPropertyKeys;if(arr3){var $pgProperty,$i=-1,l3=arr3.length-1;while($i<l3){$pgProperty=arr3[$i+=1];out+=" || "+it.usePattern($pgProperty)+".test("+$key+") "}}}out+=" ); if (isAdditional"+$lvl+") { "}if($removeAdditional=="all")out+=" delete "+$data+"["+$key+"]; ";else{var $currentErrorPath=it.errorPath;var $additionalProperty="' + "+$key+" + '";if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);if($noAdditional)if($removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{out+=" "+$nextValid+" \x3d false; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalProperties";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"additionalProperties"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { additionalProperty: '"+$additionalProperty+"' } ";if(it.opts.messages!==false)out+=" , message: 'should NOT have additional properties' ";if(it.opts.verbose)out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";$errSchemaPath=$currErrSchemaPath;if($breakOnError)out+=" break; "}else if($additionalIsSchema)if($removeAdditional=="failing"){out+=" var "+$errs+" \x3d errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;$it.schema=$aProperties;$it.schemaPath=it.schemaPath+".additionalProperties";$it.errSchemaPath=it.errSchemaPath+"/additionalProperties";$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";out+=" if (!"+$nextValid+") { errors \x3d "+$errs+"; if (validate.errors !\x3d\x3d null) { if (errors) validate.errors.length \x3d errors; else validate.errors \x3d null; } delete "+$data+"["+$key+"]; }  ";it.compositeRule=$it.compositeRule=$wasComposite}else{$it.schema=$aProperties;$it.schemaPath=it.schemaPath+".additionalProperties";$it.errSchemaPath=it.errSchemaPath+"/additionalProperties";$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";if($breakOnError)out+=" if (!"+$nextValid+") break; "}it.errorPath=$currentErrorPath}if($someProperties)out+=" } ";out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}var $useDefaults=it.opts.useDefaults&&!it.compositeRule;if($schemaKeys.length){var arr4=$schemaKeys;if(arr4){var $propertyKey,i4=-1,l4=arr4.length-1;while(i4<l4){$propertyKey=arr4[i4+=1];var $sch=$schema[$propertyKey];if(it.util.schemaHasRules($sch,it.RULES.all)){var $prop=it.util.getProperty($propertyKey),$passData=$data+$prop,$hasDefault=$useDefaults&&$sch.default!==undefined;$it.schema=$sch;$it.schemaPath=$schemaPath+$prop;$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($propertyKey);$it.errorPath=it.util.getPath(it.errorPath,$propertyKey,it.opts.jsonPointers);$it.dataPathArr[$dataNxt]=it.util.toQuotedString($propertyKey);var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2){$code=it.util.varReplace($code,$nextData,$passData);var $useData=$passData}else{var $useData=$nextData;out+=" var "+$nextData+" \x3d "+$passData+"; "}if($hasDefault)out+=" "+$code+" ";else{if($requiredHash&&$requiredHash[$propertyKey]){out+=" if ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") { "+$nextValid+" \x3d false; ";var $currentErrorPath=it.errorPath,$currErrSchemaPath=$errSchemaPath,$missingProperty=it.util.escapeQuotes($propertyKey);if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers);$errSchemaPath=it.errSchemaPath+"/required";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";$errSchemaPath=$currErrSchemaPath;it.errorPath=$currentErrorPath;out+=" } else { "}else if($breakOnError){out+=" if ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") { "+$nextValid+" \x3d true; } else { "}else{out+=" if ("+$useData+" !\x3d\x3d undefined ";if($ownProperties)out+=" \x26\x26   Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=" ) { "}out+=" "+$code+" } "}}if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}if($pPropertyKeys.length){var arr5=$pPropertyKeys;if(arr5){var $pProperty,i5=-1,l5=arr5.length-1;while(i5<l5){$pProperty=arr5[i5+=1];var $sch=$pProperties[$pProperty];if(it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch;$it.schemaPath=it.schemaPath+".patternProperties"+it.util.getProperty($pProperty);$it.errSchemaPath=it.errSchemaPath+"/patternProperties/"+it.util.escapeFragment($pProperty);if($ownProperties)out+=" "+$dataProperties+" \x3d "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"\x3d0; "+$idx+"\x3c"+$dataProperties+".length; "+$idx+"++) { var "+$key+" \x3d "+$dataProperties+"["+$idx+"]; ";else out+=" for (var "+$key+" in "+$data+") { ";out+=" if ("+it.usePattern($pProperty)+".test("+$key+")) { ";$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";if($breakOnError)out+=" if (!"+$nextValid+") break; ";out+=" } ";if($breakOnError)out+=" else "+$nextValid+" \x3d true; ";out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}}}}}if(it.opts.patternGroups&&$pgPropertyKeys.length){var arr6=$pgPropertyKeys;if(arr6){var $pgProperty,i6=-1,l6=arr6.length-1;while(i6<l6){$pgProperty=arr6[i6+=1];var $pgSchema=$pgProperties[$pgProperty],$sch=$pgSchema.schema;if(it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch;$it.schemaPath=it.schemaPath+".patternGroups"+it.util.getProperty($pgProperty)+".schema";$it.errSchemaPath=it.errSchemaPath+"/patternGroups/"+it.util.escapeFragment($pgProperty)+"/schema";out+=" var pgPropCount"+$lvl+" \x3d 0;  ";if($ownProperties)out+=" "+$dataProperties+" \x3d "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"\x3d0; "+$idx+"\x3c"+$dataProperties+".length; "+$idx+"++) { var "+$key+" \x3d "+$dataProperties+"["+$idx+"]; ";else out+=" for (var "+$key+" in "+$data+") { ";out+=" if ("+it.usePattern($pgProperty)+".test("+$key+")) { pgPropCount"+$lvl+"++; ";$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";if($breakOnError)out+=" if (!"+$nextValid+") break; ";out+=" } ";if($breakOnError)out+=" else "+$nextValid+" \x3d true; ";out+=" }  ";if($breakOnError){out+=" if ("+$nextValid+") { ";$closingBraces+="}"}var $pgMin=$pgSchema.minimum,$pgMax=$pgSchema.maximum;if($pgMin!==undefined||$pgMax!==undefined){out+=" var "+$valid+" \x3d true; ";var $currErrSchemaPath=$errSchemaPath;if($pgMin!==undefined){var $limit=$pgMin,$reason="minimum",$moreOrLess="less";out+=" "+$valid+" \x3d pgPropCount"+$lvl+" \x3e\x3d "+$pgMin+"; ";$errSchemaPath=it.errSchemaPath+"/patternGroups/minimum";out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"patternGroups"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { reason: '"+$reason+"', limit: "+$limit+", pattern: '"+it.util.escapeQuotes($pgProperty)+"' } ";if(it.opts.messages!==false)out+=" , message: 'should NOT have "+$moreOrLess+" than "+$limit+' properties matching pattern "'+it.util.escapeQuotes($pgProperty)+"\"' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } ";if($pgMax!==undefined)out+=" else "}if($pgMax!==undefined){var $limit=$pgMax,$reason="maximum",$moreOrLess="more";out+=" "+$valid+" \x3d pgPropCount"+$lvl+" \x3c\x3d "+$pgMax+"; ";$errSchemaPath=it.errSchemaPath+"/patternGroups/maximum";out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"patternGroups"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { reason: '"+$reason+"', limit: "+$limit+", pattern: '"+it.util.escapeQuotes($pgProperty)+"' } ";if(it.opts.messages!==false)out+=" , message: 'should NOT have "+$moreOrLess+" than "+$limit+' properties matching pattern "'+it.util.escapeQuotes($pgProperty)+"\"' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } "}$errSchemaPath=$currErrSchemaPath;if($breakOnError){out+=" if ("+$valid+") { ";$closingBraces+="}"}}}}}}if($breakOnError)out+=" "+$closingBraces+" if ("+$errs+" \x3d\x3d errors) {";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate_propertyNames(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $errs="errs__"+$lvl;var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;if(it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema;$it.schemaPath=$schemaPath;$it.errSchemaPath=$errSchemaPath;var $key="key"+$lvl,$idx="idx"+$lvl,$i="i"+$lvl,$invalidName="' + "+$key+" + '",$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;out+=" var "+$errs+" \x3d errors; ";if($ownProperties)out+=" var "+$dataProperties+" \x3d undefined; ";if($ownProperties)out+=" "+$dataProperties+" \x3d "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"\x3d0; "+$idx+"\x3c"+$dataProperties+".length; "+$idx+"++) { var "+$key+" \x3d "+$dataProperties+"["+$idx+"]; ";else out+=" for (var "+$key+" in "+$data+") { ";out+=" var startErrs"+$lvl+" \x3d errors; ";var $passData=$key;var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var $code=it.validate($it);$it.baseId=$currentBaseId;if(it.util.varOccurences($code,$nextData)<2)out+=" "+it.util.varReplace($code,$nextData,$passData)+" ";else out+=" var "+$nextData+" \x3d "+$passData+"; "+$code+" ";it.compositeRule=$it.compositeRule=$wasComposite;out+=" if (!"+$nextValid+") { for (var "+$i+"\x3dstartErrs"+$lvl+"; "+$i+"\x3cerrors; "+$i+"++) { vErrors["+$i+"].propertyName \x3d "+$key+"; }   var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"propertyNames"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { propertyName: '"+$invalidName+"' } ";if(it.opts.messages!==false)out+=" , message: 'property name \\'"+$invalidName+"\\' is invalid' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(vErrors); ";else out+=" validate.errors \x3d vErrors; return false; ";if($breakOnError)out+=" break; ";out+=" } }"}if($breakOnError)out+=" "+$closingBraces+" if ("+$errs+" \x3d\x3d errors) {";out=it.util.cleanUpCode(out);return out}},function(module,exports){module.exports=function generate_required(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $vSchema="schema"+$lvl;if(!$isData)if($schema.length<it.opts.loopRequired&&it.schema.properties&&Object.keys(it.schema.properties).length){var $required=[];var arr1=$schema;if(arr1){var $property,i1=-1,l1=arr1.length-1;while(i1<l1){$property=arr1[i1+=1];var $propertySch=it.schema.properties[$property];if(!($propertySch&&it.util.schemaHasRules($propertySch,it.RULES.all)))$required[$required.length]=$property}}}else var $required=$schema;if($isData||$required.length){var $currentErrorPath=it.errorPath,$loopRequired=$isData||$required.length>=it.opts.loopRequired,$ownProperties=it.opts.ownProperties;if($breakOnError){out+=" var missing"+$lvl+"; ";if($loopRequired){if(!$isData)out+=" var "+$vSchema+" \x3d validate.schema"+$schemaPath+"; ";var $i="i"+$lvl,$propertyPath="schema"+$lvl+"["+$i+"]",$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers);out+=" var "+$valid+" \x3d true; ";if($isData)out+=" if (schema"+$lvl+" \x3d\x3d\x3d undefined) "+$valid+" \x3d true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" \x3d false; else {";out+=" for (var "+$i+" \x3d 0; "+$i+" \x3c "+$vSchema+".length; "+$i+"++) { "+$valid+" \x3d "+$data+"["+$vSchema+"["+$i+"]] !\x3d\x3d undefined ";if($ownProperties)out+=" \x26\x26   Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) ";out+="; if (!"+$valid+") break; } ";if($isData)out+="  }  ";out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else { "}else{out+=" if ( ";var arr2=$required;if(arr2){var $propertyKey,$i=-1,l2=arr2.length-1;while($i<l2){$propertyKey=arr2[$i+=1];if($i)out+=" || ";var $prop=it.util.getProperty($propertyKey),$useData=$data+$prop;out+=" ( ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") \x26\x26 (missing"+$lvl+" \x3d "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}}out+=") {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty)it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,true):$currentErrorPath+" + "+$propertyPath;var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } else { "}}else if($loopRequired){if(!$isData)out+=" var "+$vSchema+" \x3d validate.schema"+$schemaPath+"; ";var $i="i"+$lvl,$propertyPath="schema"+$lvl+"["+$i+"]",$missingProperty="' + "+$propertyPath+" + '";if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers);if($isData){out+=" if ("+$vSchema+" \x26\x26 !Array.isArray("+$vSchema+")) {  var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; } else if ("+$vSchema+" !\x3d\x3d undefined) { "}out+=" for (var "+$i+" \x3d 0; "+$i+" \x3c "+$vSchema+".length; "+$i+"++) { if ("+$data+"["+$vSchema+"["+$i+"]] \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) ";out+=") {  var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; } } ";if($isData)out+="  }  "}else{var arr3=$required;if(arr3){var $propertyKey,i3=-1,l3=arr3.length-1;while(i3<l3){$propertyKey=arr3[i3+=1];var $prop=it.util.getProperty($propertyKey),$missingProperty=it.util.escapeQuotes($propertyKey),$useData=$data+$prop;if(it.opts._errorDataPathProperty)it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers);out+=" if ( "+$useData+" \x3d\x3d\x3d undefined ";if($ownProperties)out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') ";out+=") {  var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+"required"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ";if(it.opts.messages!==false){out+=" , message: '";if(it.opts._errorDataPathProperty)out+="is a required property";else out+="should have required property \\'"+$missingProperty+"\\'";out+="' "}if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; } "}}}it.errorPath=$currentErrorPath}else if($breakOnError)out+=" if (true) {";return out}},function(module,exports){module.exports=function generate_uniqueItems(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;if(($schema||$isData)&&it.opts.uniqueItems!==false){if($isData)out+=" var "+$valid+"; if ("+$schemaValue+" \x3d\x3d\x3d false || "+$schemaValue+" \x3d\x3d\x3d undefined) "+$valid+" \x3d true; else if (typeof "+$schemaValue+" !\x3d 'boolean') "+$valid+" \x3d false; else { ";out+=" var "+$valid+" \x3d true; if ("+$data+".length \x3e 1) { var i \x3d "+$data+".length, j; outer: for (;i--;) { for (j \x3d i; j--;) { if (equal("+$data+"[i], "+$data+"[j])) { "+$valid+" \x3d false; break outer; } } } } ";if($isData)out+="  }  ";out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+"uniqueItems"+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { i: i, j: j } ";if(it.opts.messages!==false)out+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' ";if(it.opts.verbose){out+=" , schema:  ";if($isData)out+="validate.schema"+$schemaPath;else out+=""+$schema;out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "}out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";out+=" } ";if($breakOnError)out+=" else { "}else if($breakOnError)out+=" if (true) { ";return out}},function(module,exports){var KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];module.exports=function(metaSchema,keywordsJsonPointers){for(var i=0;i<keywordsJsonPointers.length;i++){metaSchema=JSON.parse(JSON.stringify(metaSchema));var segments=keywordsJsonPointers[i].split("/");var keywords=metaSchema;var j;for(j=1;j<segments.length;j++)keywords=keywords[segments[j]];for(j=0;j<KEYWORDS.length;j++){var key=KEYWORDS[j];var schema=keywords[key];if(schema)keywords[key]={anyOf:[schema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}}}return metaSchema}},function(module,exports){var META_SCHEMA_ID="http://json-schema.org/draft-06/schema";module.exports=function(ajv){var defaultMeta=ajv._opts.defaultMeta;var metaSchemaRef=typeof defaultMeta=="string"?{$ref:defaultMeta}:ajv.getSchema(META_SCHEMA_ID)?{$ref:META_SCHEMA_ID}:{};ajv.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:metaSchemaRef},additionalProperties:false}}});ajv.RULES.all.properties.implements.push("patternGroups")}},function(module,exports,__webpack_require__){var MissingRefError=__webpack_require__(15).MissingRef;module.exports=compileAsync;function compileAsync(schema,meta,callback){var self=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");if(typeof meta=="function"){callback=meta;meta=undefined}var p=loadMetaSchemaOf(schema).then(function(){var schemaObj=self._addSchema(schema,undefined,meta);return schemaObj.validate||_compileAsync(schemaObj)});if(callback)p.then(function(v){callback(null,v)},callback);return p;function loadMetaSchemaOf(sch){var $schema=sch.$schema;return $schema&&!self.getSchema($schema)?compileAsync.call(self,{$ref:$schema},true):Promise.resolve()}function _compileAsync(schemaObj){try{return self._compile(schemaObj)}catch(e){if(e instanceof MissingRefError)return loadMissingSchema(e);throw e;}function loadMissingSchema(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];if(!schemaPromise){schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref);schemaPromise.then(removePromise,removePromise)}return schemaPromise.then(function(sch){if(!added(ref))return loadMetaSchemaOf(sch).then(function(){if(!added(ref))self.addSchema(sch,ref,undefined,meta)})}).then(function(){return _compileAsync(schemaObj)});function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}}}},function(module,exports,__webpack_require__){var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i;var customRuleCode=__webpack_require__(48);module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword};function addKeyword(keyword,definition){var RULES=this.RULES;if(RULES.keywords[keyword])throw new Error("Keyword "+keyword+" is already defined");if(!IDENTIFIER.test(keyword))throw new Error("Keyword "+keyword+" is not a valid identifier");if(definition){if(definition.macro&&definition.valid!==undefined)throw new Error('"valid" option cannot be used with macro keywords');var dataType=definition.type;if(Array.isArray(dataType)){var i,len=dataType.length;for(i=0;i<len;i++)checkDataType(dataType[i]);for(i=0;i<len;i++)_addRule(keyword,dataType[i],definition)}else{if(dataType)checkDataType(dataType);_addRule(keyword,dataType,definition)}var $data=definition.$data===true&&this._opts.$data;if($data&&!definition.validate)throw new Error('$data support: "validate" function is not defined');var metaSchema=definition.metaSchema;if(metaSchema){if($data)metaSchema={anyOf:[metaSchema,{"$ref":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]};definition.validateSchema=this.compile(metaSchema,true)}}RULES.keywords[keyword]=RULES.all[keyword]=true;function _addRule(keyword,dataType,definition){var ruleGroup;for(var i=0;i<RULES.length;i++){var rg=RULES[i];if(rg.type==dataType){ruleGroup=rg;break}}if(!ruleGroup){ruleGroup={type:dataType,rules:[]};RULES.push(ruleGroup)}var rule={keyword:keyword,definition:definition,custom:true,code:customRuleCode,implements:definition.implements};ruleGroup.rules.push(rule);RULES.custom[keyword]=rule}function checkDataType(dataType){if(!RULES.types[dataType])throw new Error("Unknown type "+dataType);}return this}function getKeyword(keyword){var rule=this.RULES.custom[keyword];return rule?rule.definition:this.RULES.keywords[keyword]||false}function removeKeyword(keyword){var RULES=this.RULES;delete RULES.keywords[keyword];delete RULES.all[keyword];delete RULES.custom[keyword];for(var i=0;i<RULES.length;i++){var rules=RULES[i].rules;for(var j=0;j<rules.length;j++)if(rules[j].keyword==keyword){rules.splice(j,1);break}}return this}},function(module,exports){module.exports=function generate_custom(it,$keyword,$ruleType){var out=" ";var $lvl=it.level;var $dataLvl=it.dataLevel;var $schema=it.schema[$keyword];var $schemaPath=it.schemaPath+it.util.getProperty($keyword);var $errSchemaPath=it.errSchemaPath+"/"+$keyword;var $breakOnError=!it.opts.allErrors;var $errorKeyword;var $data="data"+($dataLvl||"");var $valid="valid"+$lvl;var $errs="errs__"+$lvl;var $isData=it.opts.$data&&$schema&&$schema.$data,$schemaValue;if($isData){out+=" var schema"+$lvl+" \x3d "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ";$schemaValue="schema"+$lvl}else $schemaValue=$schema;var $rule=this,$definition="definition"+$lvl,$rDef=$rule.definition,$closingBraces="";var $compile,$inline,$macro,$ruleValidate,$validateCode;if($isData&&$rDef.$data){$validateCode="keywordValidate"+$lvl;var $validateSchema=$rDef.validateSchema;out+=" var "+$definition+" \x3d RULES.custom['"+$keyword+"'].definition; var "+$validateCode+" \x3d "+$definition+".validate;"}else{$ruleValidate=it.useCustomRule($rule,$schema,it.schema,it);if(!$ruleValidate)return;$schemaValue="validate.schema"+$schemaPath;$validateCode=$ruleValidate.code;$compile=$rDef.compile;$inline=$rDef.inline;$macro=$rDef.macro}var $ruleErrs=$validateCode+".errors",$i="i"+$lvl,$ruleErr="ruleErr"+$lvl,$asyncKeyword=$rDef.async;if($asyncKeyword&&!it.async)throw new Error("async keyword in sync schema");if(!($inline||$macro))out+=""+$ruleErrs+" \x3d null;";out+="var "+$errs+" \x3d errors;var "+$valid+";";if($isData&&$rDef.$data){$closingBraces+="}";out+=" if ("+$schemaValue+" \x3d\x3d\x3d undefined) { "+$valid+" \x3d true; } else { ";if($validateSchema){$closingBraces+="}";out+=" "+$valid+" \x3d "+$definition+".validateSchema("+$schemaValue+"); if ("+$valid+") { "}}if($inline)if($rDef.statements)out+=" "+$ruleValidate.validate+" ";else out+=" "+$valid+" \x3d "+$ruleValidate.validate+"; ";else if($macro){var $it=it.util.copy(it);var $closingBraces="";$it.level++;var $nextValid="valid"+$it.level;$it.schema=$ruleValidate.validate;$it.schemaPath="";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=true;var $code=it.validate($it).replace(/validate\.schema/g,$validateCode);it.compositeRule=$it.compositeRule=$wasComposite;out+=" "+$code}else{var $$outStack=$$outStack||[];$$outStack.push(out);out="";out+="  "+$validateCode+".call( ";if(it.opts.passContext)out+="this";else out+="self";if($compile||$rDef.schema===false)out+=" , "+$data+" ";else out+=" , "+$schemaValue+" , "+$data+" , validate.schema"+it.schemaPath+" ";out+=" , (dataPath || '')";if(it.errorPath!='""')out+=" + "+it.errorPath;var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty";out+=" , "+$parentData+" , "+$parentDataProperty+" , rootData )  ";var def_callRuleValidate=out;out=$$outStack.pop();if($rDef.errors===false){out+=" "+$valid+" \x3d ";if($asyncKeyword)out+=""+it.yieldAwait;out+=""+def_callRuleValidate+"; "}else if($asyncKeyword){$ruleErrs="customErrors"+$lvl;out+=" var "+$ruleErrs+" \x3d null; try { "+$valid+" \x3d "+it.yieldAwait+def_callRuleValidate+"; } catch (e) { "+$valid+" \x3d false; if (e instanceof ValidationError) "+$ruleErrs+" \x3d e.errors; else throw e; } "}else out+=" "+$ruleErrs+" \x3d null; "+$valid+" \x3d "+def_callRuleValidate+"; "}if($rDef.modifying)out+=" if ("+$parentData+") "+$data+" \x3d "+$parentData+"["+$parentDataProperty+"];";out+=""+$closingBraces;if($rDef.valid){if($breakOnError)out+=" if (true) { "}else{out+=" if ( ";if($rDef.valid===undefined){out+=" !";if($macro)out+=""+$nextValid;else out+=""+$valid}else out+=" "+!$rDef.valid+" ";out+=") { ";$errorKeyword=$rule.keyword;var $$outStack=$$outStack||[];$$outStack.push(out);out="";var $$outStack=$$outStack||[];$$outStack.push(out);out="";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ";if(it.opts.messages!==false)out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";var __err=out;out=$$outStack.pop();if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(["+__err+"]); ";else out+=" validate.errors \x3d ["+__err+"]; return false; ";else out+=" var err \x3d "+__err+";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";var def_customError=out;out=$$outStack.pop();if($inline)if($rDef.errors){if($rDef.errors!="full"){out+="  for (var "+$i+"\x3d"+$errs+"; "+$i+"\x3cerrors; "+$i+"++) { var "+$ruleErr+" \x3d vErrors["+$i+"]; if ("+$ruleErr+".dataPath \x3d\x3d\x3d undefined) "+$ruleErr+".dataPath \x3d (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath \x3d\x3d\x3d undefined) { "+$ruleErr+'.schemaPath \x3d "'+$errSchemaPath+'"; } ';if(it.opts.verbose)out+=" "+$ruleErr+".schema \x3d "+$schemaValue+"; "+$ruleErr+".data \x3d "+$data+"; ";out+=" } "}}else if($rDef.errors===false)out+=" "+def_customError+" ";else{out+=" if ("+$errs+" \x3d\x3d errors) { "+def_customError+" } else {  for (var "+$i+"\x3d"+$errs+"; "+$i+"\x3cerrors; "+$i+"++) { var "+$ruleErr+" \x3d vErrors["+$i+"]; if ("+$ruleErr+".dataPath \x3d\x3d\x3d undefined) "+$ruleErr+".dataPath \x3d (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath \x3d\x3d\x3d undefined) { "+$ruleErr+'.schemaPath \x3d "'+$errSchemaPath+'"; } ';if(it.opts.verbose)out+=" "+$ruleErr+".schema \x3d "+$schemaValue+"; "+$ruleErr+".data \x3d "+$data+"; ";out+=" } } "}else if($macro){out+="   var err \x3d   ";if(it.createErrors!==false){out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+$rule.keyword+"' } ";if(it.opts.messages!==false)out+=" , message: 'should pass \""+$rule.keyword+"\" keyword validation' ";if(it.opts.verbose)out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" ";out+=" } "}else out+=" {} ";out+=";  if (vErrors \x3d\x3d\x3d null) vErrors \x3d [err]; else vErrors.push(err); errors++; ";if(!it.compositeRule&&$breakOnError)if(it.async)out+=" throw new ValidationError(vErrors); ";else out+=" validate.errors \x3d vErrors; return false; "}else if($rDef.errors===false)out+=" "+def_customError+" ";else{out+=" if (Array.isArray("+$ruleErrs+")) { if (vErrors \x3d\x3d\x3d null) vErrors \x3d "+$ruleErrs+"; else vErrors \x3d vErrors.concat("+$ruleErrs+"); errors \x3d vErrors.length;  for (var "+$i+"\x3d"+$errs+"; "+$i+"\x3cerrors; "+$i+"++) { var "+$ruleErr+" \x3d vErrors["+$i+"]; if ("+$ruleErr+".dataPath \x3d\x3d\x3d undefined) "+$ruleErr+".dataPath \x3d (dataPath || '') + "+it.errorPath+";  "+$ruleErr+'.schemaPath \x3d "'+$errSchemaPath+'";  ';if(it.opts.verbose)out+=" "+$ruleErr+".schema \x3d "+$schemaValue+"; "+$ruleErr+".data \x3d "+$data+"; ";out+=" } } else { "+def_customError+" } "}out+=" } ";if($breakOnError)out+=" else { "}return out}},function(module,exports){module.exports={"$schema":"http://json-schema.org/draft-06/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#","description":"Meta-schema for $data reference (JSON-schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}},function(module,exports){module.exports={"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}},function(module,exports,__webpack_require__){var ace;if(window.ace)ace=window.ace;else try{ace=__webpack_require__(52);__webpack_require__(54);__webpack_require__(56)}catch(err){}module.exports=ace},function(module,exports,__webpack_require__){(function(){var ACE_NAMESPACE="ace";var global=function(){return this}();if(!global&&typeof window!="undefined")global=window;if(!ACE_NAMESPACE&&typeof acequirejs!=="undefined")return;var define=function(module,deps,payload){if(typeof module!=="string"){if(define.original)define.original.apply(this,arguments);else{console.error("dropping module because define wasn't a string.");console.trace()}return}if(arguments.length==2)payload=deps;if(!define.modules[module]){define.payloads[module]=payload;define.modules[module]=null}};define.modules={};define.payloads={};var _acequire=function(parentId,module,callback){if(typeof module==="string"){var payload=lookup(parentId,module);if(payload!=undefined){callback&&callback();return payload}}else if(Object.prototype.toString.call(module)==="[object Array]"){var params=[];for(var i=0,l=module.length;i<l;++i){var dep=lookup(parentId,module[i]);if(dep==undefined&&acequire.original)return;params.push(dep)}return callback&&callback.apply(null,params)||true}};var acequire=function(module,callback){var packagedModule=_acequire("",module,callback);if(packagedModule==undefined&&acequire.original)return acequire.original.apply(this,arguments);return packagedModule};var normalizeModule=function(parentId,moduleName){if(moduleName.indexOf("!")!==-1){var chunks=moduleName.split("!");return normalizeModule(parentId,chunks[0])+"!"+normalizeModule(parentId,chunks[1])}if(moduleName.charAt(0)=="."){var base=parentId.split("/").slice(0,-1).join("/");moduleName=base+"/"+moduleName;while(moduleName.indexOf(".")!==-1&&previous!=moduleName){var previous=moduleName;moduleName=moduleName.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return moduleName};var lookup=function(parentId,moduleName){moduleName=normalizeModule(parentId,moduleName);var module=define.modules[moduleName];if(!module){module=define.payloads[moduleName];if(typeof module==="function"){var exports={};var mod={id:moduleName,uri:"",exports:exports,packaged:true};var req=function(module,callback){return _acequire(moduleName,module,callback)};var returnValue=module(req,exports,mod);exports=returnValue||mod.exports;define.modules[moduleName]=exports;delete define.payloads[moduleName]}module=define.modules[moduleName]=exports||module}return module};function exportAce(ns){var root=global;if(ns){if(!global[ns])global[ns]={};root=global[ns]}if(!root.define||!root.define.packaged){define.original=root.define;root.define=define;root.define.packaged=true}if(!root.acequire||!root.acequire.packaged){acequire.original=root.acequire;root.acequire=acequire;root.acequire.packaged=true}}exportAce(ACE_NAMESPACE)})();ace.define("ace/lib/regexp",["require","exports","module"],function(acequire,exports,module){var real={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},compliantExecNpcg=real.exec.call(/()??/,"")[1]===undefined,compliantLastIndexIncrement=function(){var x=/^/g;real.test.call(x,"");return!x.lastIndex}();if(compliantLastIndexIncrement&&compliantExecNpcg)return;RegExp.prototype.exec=function(str){var match=real.exec.apply(this,arguments),name,r2;if(typeof str=="string"&&match){if(!compliantExecNpcg&&match.length>1&&indexOf(match,"")>-1){r2=RegExp(this.source,real.replace.call(getNativeFlags(this),"g",""));real.replace.call(str.slice(match.index),r2,function(){for(var i=1;i<arguments.length-2;i++)if(arguments[i]===undefined)match[i]=undefined})}if(this._xregexp&&this._xregexp.captureNames)for(var i=1;i<match.length;i++){name=this._xregexp.captureNames[i-1];if(name)match[name]=match[i]}if(!compliantLastIndexIncrement&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--}return match};if(!compliantLastIndexIncrement)RegExp.prototype.test=function(str){var match=real.exec.call(this,str);if(match&&this.global&&!match[0].length&&this.lastIndex>match.index)this.lastIndex--;return!!match};function getNativeFlags(regex){return(regex.global?"g":"")+(regex.ignoreCase?"i":"")+(regex.multiline?"m":"")+(regex.extended?"x":"")+(regex.sticky?"y":"")}function indexOf(array,item,from){if(Array.prototype.indexOf)return array.indexOf(item,from);for(var i=from||0;i<array.length;i++)if(array[i]===item)return i;return-1}});ace.define("ace/lib/es5-shim",["require","exports","module"],function(acequire,exports,module){function Empty(){}if(!Function.prototype.bind)Function.prototype.bind=function bind(that){var target=this;if(typeof target!="function")throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1);var bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return this}else return target.apply(that,args.concat(slice.call(arguments)))};if(target.prototype){Empty.prototype=target.prototype;bound.prototype=new Empty;Empty.prototype=null}return bound};var call=Function.prototype.call;var prototypeOfArray=Array.prototype;var prototypeOfObject=Object.prototype;var slice=prototypeOfArray.slice;var _toString=call.bind(prototypeOfObject.toString);var owns=call.bind(prototypeOfObject.hasOwnProperty);var defineGetter;var defineSetter;var lookupGetter;var lookupSetter;var supportsAccessors;if(supportsAccessors=owns(prototypeOfObject,"__defineGetter__")){defineGetter=call.bind(prototypeOfObject.__defineGetter__);defineSetter=call.bind(prototypeOfObject.__defineSetter__);lookupGetter=call.bind(prototypeOfObject.__lookupGetter__);lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)}if([1,2].splice(0).length!=2)if(function(){function makeArray(l){var a=new Array(l+2);a[0]=a[1]=0;return a}var array=[],lengthBefore;array.splice.apply(array,makeArray(20));array.splice.apply(array,makeArray(26));lengthBefore=array.length;array.splice(5,0,"XXX");lengthBefore+1==array.length;if(lengthBefore+1==array.length)return true}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){if(!arguments.length)return[];else return array_splice.apply(this,[start===void 0?0:start,deleteCount===void 0?this.length-start:deleteCount].concat(slice.call(arguments,2)))}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;if(pos>0){if(pos>length)pos=length}else if(pos==void 0)pos=0;else if(pos<0)pos=Math.max(length+pos,0);if(!(pos+removeCount<length))removeCount=length-pos;var removed=this.slice(pos,pos+removeCount);var insert=slice.call(arguments,2);var add=insert.length;if(pos===length){if(add)this.push.apply(this,insert)}else{var remove=Math.min(removeCount,length-pos);var tailOldPos=pos+remove;var tailNewPos=tailOldPos+add-remove;var tailCount=length-tailOldPos;var lengthAfterRemove=length-remove;if(tailNewPos<tailOldPos)for(var i=0;i<tailCount;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove){this.length=lengthAfterRemove;this.push.apply(this,insert)}else{this.length=lengthAfterRemove+add;for(i=0;i<add;++i)this[pos+i]=insert[i]}}return removed};if(!Array.isArray)Array.isArray=function isArray(obj){return _toString(obj)=="[object Array]"};var boxedString=Object("a"),splitString=boxedString[0]!="a"||!(0 in boxedString);if(!Array.prototype.forEach)Array.prototype.forEach=function forEach(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError;while(++i<length)if(i in self)fun.call(thisp,self[i],i,object)};if(!Array.prototype.map)Array.prototype.map=function map(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self)result[i]=fun.call(thisp,self[i],i,object);return result};if(!Array.prototype.filter)Array.prototype.filter=function filter(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0,result=[],value,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self){value=self[i];if(fun.call(thisp,value,i,object))result.push(value)}return result};if(!Array.prototype.every)Array.prototype.every=function every(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return false;return true};if(!Array.prototype.some)Array.prototype.some=function some(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,object))return true;return false};if(!Array.prototype.reduce)Array.prototype.reduce=function reduce(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");if(!length&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var i=0;var result;if(arguments.length>=2)result=arguments[1];else{do{if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value");}while(true)}for(;i<length;i++)if(i in self)result=fun.call(void 0,result,self[i],i,object);return result};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function reduceRight(fun){var object=toObject(this),self=splitString&&_toString(this)=="[object String]"?this.split(""):object,length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");if(!length&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else{do{if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value");}while(true)}do if(i in this)result=fun.call(void 0,result,self[i],i,object);while(i--);return result};if(!Array.prototype.indexOf||[0,1].indexOf(1,2)!=-1)Array.prototype.indexOf=function indexOf(sought){var self=splitString&&_toString(this)=="[object String]"?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;if(arguments.length>1)i=toInteger(arguments[1]);i=i>=0?i:Math.max(0,length+i);for(;i<length;i++)if(i in self&&self[i]===sought)return i;return-1};if(!Array.prototype.lastIndexOf||[0,1].lastIndexOf(0,-3)!=-1)Array.prototype.lastIndexOf=function lastIndexOf(sought){var self=splitString&&_toString(this)=="[object String]"?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;if(arguments.length>1)i=Math.min(i,toInteger(arguments[1]));i=i>=0?i:length-Math.abs(i);for(;i>=0;i--)if(i in self&&sought===self[i])return i;return-1};if(!Object.getPrototypeOf)Object.getPrototypeOf=function getPrototypeOf(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)};if(!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a "+"non-object: ";Object.getOwnPropertyDescriptor=function getOwnPropertyDescriptor(object,property){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError(ERR_NON_OBJECT+object);if(!owns(object,property))return;var descriptor,getter,setter;descriptor={enumerable:true,configurable:true};if(supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property);var setter=lookupSetter(object,property);object.__proto__=prototype;if(getter||setter){if(getter)descriptor.get=getter;if(setter)descriptor.set=setter;return descriptor}}descriptor.value=object[property];return descriptor}}if(!Object.getOwnPropertyNames)Object.getOwnPropertyNames=function getOwnPropertyNames(object){return Object.keys(object)};if(!Object.create){var createEmpty;if(Object.prototype.__proto__===null)createEmpty=function(){return{"__proto__":null}};else createEmpty=function(){var empty={};for(var i in empty)empty[i]=null;empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null;return empty};Object.create=function create(prototype,properties){var object;if(prototype===null)object=createEmpty();else{if(typeof prototype!="object")throw new TypeError("typeof prototype["+typeof prototype+"] !\x3d 'object'");var Type=function(){};Type.prototype=prototype;object=new Type;object.__proto__=prototype}if(properties!==void 0)Object.defineProperties(object,properties);return object}}function doesDefinePropertyWork(object){try{Object.defineProperty(object,"sentinel",{});return"sentinel"in object}catch(exception){}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({});var definePropertyWorksOnDom=typeof document=="undefined"||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ";var ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ";var ERR_ACCESSORS_NOT_SUPPORTED="getters \x26 setters can not be defined "+"on this javascript engine";Object.defineProperty=function defineProperty(object,property,descriptor){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(typeof descriptor!="object"&&typeof descriptor!="function"||descriptor===null)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject;delete object[property];object[property]=descriptor.value;object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);if(owns(descriptor,"get"))defineGetter(object,property,descriptor.get);if(owns(descriptor,"set"))defineSetter(object,property,descriptor.set)}return object}}if(!Object.defineProperties)Object.defineProperties=function defineProperties(object,properties){for(var property in properties)if(owns(properties,property))Object.defineProperty(object,property,properties[property]);return object};if(!Object.seal)Object.seal=function seal(object){return object};if(!Object.freeze)Object.freeze=function freeze(object){return object};try{Object.freeze(function(){})}catch(exception){Object.freeze=function freeze(freezeObject){return function freeze(object){if(typeof object=="function")return object;else return freezeObject(object)}}(Object.freeze)}if(!Object.preventExtensions)Object.preventExtensions=function preventExtensions(object){return object};if(!Object.isSealed)Object.isSealed=function isSealed(object){return false};if(!Object.isFrozen)Object.isFrozen=function isFrozen(object){return false};if(!Object.isExtensible)Object.isExtensible=function isExtensible(object){if(Object(object)===object)throw new TypeError;var name="";while(owns(object,name))name+="?";object[name]=true;var returnValue=owns(object,name);delete object[name];return returnValue};if(!Object.keys){var hasDontEnumBug=true,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{"toString":null})hasDontEnumBug=false;Object.keys=function keys(object){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)if(owns(object,name))keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;i<ii;i++){var dontEnum=dontEnums[i];if(owns(object,dontEnum))keys.push(dontEnum)}return keys}}if(!Date.now)Date.now=function now(){return(new Date).getTime()};var ws="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003"+"\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028"+"\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function trim(){return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}function toInteger(n){n=+n;if(n!==n)n=0;else if(n!==0&&n!==1/0&&n!==-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n));return n}function isPrimitive(input){var type=typeof input;return input===null||type==="undefined"||type==="boolean"||type==="number"||type==="string"}function toPrimitive(input){var val,valueOf,toString;if(isPrimitive(input))return input;valueOf=input.valueOf;if(typeof valueOf==="function"){val=valueOf.call(input);if(isPrimitive(val))return val}toString=input.toString;if(typeof toString==="function"){val=toString.call(input);if(isPrimitive(val))return val}throw new TypeError;}var toObject=function(o){if(o==null)throw new TypeError("can't convert "+o+" to object");return Object(o)}});ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(acequire,exports,module){acequire("./regexp");acequire("./es5-shim")});ace.define("ace/lib/dom",["require","exports","module"],function(acequire,exports,module){var XHTML_NS="http://www.w3.org/1999/xhtml";exports.getDocumentHead=function(doc){if(!doc)doc=document;return doc.head||doc.getElementsByTagName("head")[0]||doc.documentElement};exports.createElement=function(tag,ns){return document.createElementNS?document.createElementNS(ns||XHTML_NS,tag):document.createElement(tag)};exports.hasCssClass=function(el,name){var classes=(el.className+"").split(/\s+/g);return classes.indexOf(name)!==-1};exports.addCssClass=function(el,name){if(!exports.hasCssClass(el,name))el.className+=" "+name};exports.removeCssClass=function(el,name){var classes=el.className.split(/\s+/g);while(true){var index=classes.indexOf(name);if(index==-1)break;classes.splice(index,1)}el.className=classes.join(" ")};exports.toggleCssClass=function(el,name){var classes=el.className.split(/\s+/g),add=true;while(true){var index=classes.indexOf(name);if(index==-1)break;add=false;classes.splice(index,1)}if(add)classes.push(name);el.className=classes.join(" ");return add};exports.setCssClass=function(node,className,include){if(include)exports.addCssClass(node,className);else exports.removeCssClass(node,className)};exports.hasCssString=function(id,doc){var index=0,sheets;doc=doc||document;if(doc.createStyleSheet&&(sheets=doc.styleSheets))while(index<sheets.length){if(sheets[index++].owningElement.id===id)return true}else if(sheets=doc.getElementsByTagName("style"))while(index<sheets.length)if(sheets[index++].id===id)return true;return false};exports.importCssString=function importCssString(cssText,id,doc){doc=doc||document;if(id&&exports.hasCssString(id,doc))return null;var style;if(id)cssText+="\n/*# sourceURL\x3dace/css/"+id+" */";if(doc.createStyleSheet){style=doc.createStyleSheet();style.cssText=cssText;if(id)style.owningElement.id=id}else{style=exports.createElement("style");style.appendChild(doc.createTextNode(cssText));if(id)style.id=id;exports.getDocumentHead(doc).appendChild(style)}};exports.importCssStylsheet=function(uri,doc){if(doc.createStyleSheet)doc.createStyleSheet(uri);else{var link=exports.createElement("link");link.rel="stylesheet";link.href=uri;exports.getDocumentHead(doc).appendChild(link)}};exports.getInnerWidth=function(element){return parseInt(exports.computedStyle(element,"paddingLeft"),10)+parseInt(exports.computedStyle(element,"paddingRight"),10)+element.clientWidth};exports.getInnerHeight=function(element){return parseInt(exports.computedStyle(element,"paddingTop"),10)+parseInt(exports.computedStyle(element,"paddingBottom"),10)+element.clientHeight};exports.scrollbarWidth=function(document){var inner=exports.createElement("ace_inner");inner.style.width="100%";inner.style.minWidth="0px";inner.style.height="200px";inner.style.display="block";var outer=exports.createElement("ace_outer");var style=outer.style;style.position="absolute";style.left="-10000px";style.overflow="hidden";style.width="200px";style.minWidth="0px";style.height="150px";style.display="block";outer.appendChild(inner);var body=document.documentElement;body.appendChild(outer);var noScrollbar=inner.offsetWidth;style.overflow="scroll";var withScrollbar=inner.offsetWidth;if(noScrollbar==withScrollbar)withScrollbar=outer.clientWidth;body.removeChild(outer);return noScrollbar-withScrollbar};if(typeof document=="undefined"){exports.importCssString=function(){};return}if(window.pageYOffset!==undefined){exports.getPageScrollTop=function(){return window.pageYOffset};exports.getPageScrollLeft=function(){return window.pageXOffset}}else{exports.getPageScrollTop=function(){return document.body.scrollTop};exports.getPageScrollLeft=function(){return document.body.scrollLeft}}if(window.getComputedStyle)exports.computedStyle=function(element,style){if(style)return(window.getComputedStyle(element,"")||{})[style]||"";return window.getComputedStyle(element,"")||{}};else exports.computedStyle=function(element,style){if(style)return element.currentStyle[style];return element.currentStyle};exports.setInnerHtml=function(el,innerHtml){var element=el.cloneNode(false);element.innerHTML=innerHtml;el.parentNode.replaceChild(element,el);return element};if("textContent"in document.documentElement){exports.setInnerText=function(el,innerText){el.textContent=innerText};exports.getInnerText=function(el){return el.textContent}}else{exports.setInnerText=function(el,innerText){el.innerText=innerText};exports.getInnerText=function(el){return el.innerText}}exports.getParentWindow=function(document){return document.defaultView||document.parentWindow}});ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports,module){exports.inherits=function(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})};exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj};exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}});ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(acequire,exports,module){acequire("./fixoldbrowsers");var oop=acequire("./oop");var Keys=function(){var ret={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{"ctrl":1,"alt":2,"option":2,"shift":4,"super":8,"meta":8,"command":8,"cmd":8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"\x3d",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};var name,i;for(i in ret.FUNCTION_KEYS){name=ret.FUNCTION_KEYS[i].toLowerCase();ret[name]=parseInt(i,10)}for(i in ret.PRINTABLE_KEYS){name=ret.PRINTABLE_KEYS[i].toLowerCase();ret[name]=parseInt(i,10)}oop.mixin(ret,ret.MODIFIER_KEYS);oop.mixin(ret,ret.PRINTABLE_KEYS);oop.mixin(ret,ret.FUNCTION_KEYS);ret.enter=ret["return"];ret.escape=ret.esc;ret.del=ret["delete"];ret[173]="-";(function(){var mods=["cmd","ctrl","alt","shift"];for(var i=Math.pow(2,mods.length);i--;)ret.KEY_MODS[i]=mods.filter(function(x){return i&ret.KEY_MODS[x]}).join("-")+"-"})();ret.KEY_MODS[0]="";ret.KEY_MODS[-1]="input-";return ret}();oop.mixin(exports,Keys);exports.keyCodeToString=function(keyCode){var keyString=Keys[keyCode];if(typeof keyString!="string")keyString=String.fromCharCode(keyCode);return keyString.toLowerCase()}});ace.define("ace/lib/useragent",["require","exports","module"],function(acequire,exports,module){exports.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};exports.getOS=function(){if(exports.isMac)return exports.OS.MAC;else if(exports.isLinux)return exports.OS.LINUX;else return exports.OS.WINDOWS};if(typeof navigator!="object")return;var os=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase();var ua=navigator.userAgent;exports.isWin=os=="win";exports.isMac=os=="mac";exports.isLinux=os=="linux";exports.isIE=navigator.appName=="Microsoft Internet Explorer"||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);exports.isOldIE=exports.isIE&&exports.isIE<9;exports.isGecko=exports.isMozilla=(window.Controllers||window.controllers)&&window.navigator.product==="Gecko";exports.isOldGecko=exports.isGecko&&parseInt((ua.match(/rv:(\d+)/)||[])[1],10)<4;exports.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]";exports.isWebKit=parseFloat(ua.split("WebKit/")[1])||undefined;exports.isChrome=parseFloat(ua.split(" Chrome/")[1])||undefined;exports.isAIR=ua.indexOf("AdobeAIR")>=0;exports.isIPad=ua.indexOf("iPad")>=0;exports.isChromeOS=ua.indexOf(" CrOS ")>=0;exports.isIOS=/iPad|iPhone|iPod/.test(ua)&&!window.MSStream;if(exports.isIOS)exports.isMac=true});ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(acequire,exports,module){var keys=acequire("./keys");var useragent=acequire("./useragent");var pressedKeys=null;var ts=0;exports.addListener=function(elem,type,callback){if(elem.addEventListener)return elem.addEventListener(type,callback,false);if(elem.attachEvent){var wrapper=function(){callback.call(elem,window.event)};callback._wrapper=wrapper;elem.attachEvent("on"+type,wrapper)}};exports.removeListener=function(elem,type,callback){if(elem.removeEventListener)return elem.removeEventListener(type,callback,false);if(elem.detachEvent)elem.detachEvent("on"+type,callback._wrapper||callback)};exports.stopEvent=function(e){exports.stopPropagation(e);exports.preventDefault(e);return false};exports.stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true};exports.preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false};exports.getButton=function(e){if(e.type=="dblclick")return 0;if(e.type=="contextmenu"||useragent.isMac&&(e.ctrlKey&&!e.altKey&&!e.shiftKey))return 2;if(e.preventDefault)return e.button;else return{1:0,2:2,4:1}[e.button]};exports.capture=function(el,eventHandler,releaseCaptureHandler){function onMouseUp(e){eventHandler&&eventHandler(e);releaseCaptureHandler&&releaseCaptureHandler(e);exports.removeListener(document,"mousemove",eventHandler,true);exports.removeListener(document,"mouseup",onMouseUp,true);exports.removeListener(document,"dragstart",onMouseUp,true)}exports.addListener(document,"mousemove",eventHandler,true);exports.addListener(document,"mouseup",onMouseUp,true);exports.addListener(document,"dragstart",onMouseUp,true);return onMouseUp};exports.addTouchMoveListener=function(el,callback){var startx,starty;exports.addListener(el,"touchstart",function(e){var touches=e.touches;var touchObj=touches[0];startx=touchObj.clientX;starty=touchObj.clientY});exports.addListener(el,"touchmove",function(e){var touches=e.touches;if(touches.length>1)return;var touchObj=touches[0];e.wheelX=startx-touchObj.clientX;e.wheelY=starty-touchObj.clientY;startx=touchObj.clientX;starty=touchObj.clientY;callback(e)})};exports.addMouseWheelListener=function(el,callback){if("onmousewheel"in el)exports.addListener(el,"mousewheel",function(e){var factor=8;if(e.wheelDeltaX!==undefined){e.wheelX=-e.wheelDeltaX/factor;e.wheelY=-e.wheelDeltaY/factor}else{e.wheelX=0;e.wheelY=-e.wheelDelta/factor}callback(e)});else if("onwheel"in el)exports.addListener(el,"wheel",function(e){var factor=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*factor||0;e.wheelY=e.deltaY*factor||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=(e.deltaX||0)*5;e.wheelY=(e.deltaY||0)*5;break}callback(e)});else exports.addListener(el,"DOMMouseScroll",function(e){if(e.axis&&e.axis==e.HORIZONTAL_AXIS){e.wheelX=(e.detail||0)*5;e.wheelY=0}else{e.wheelX=0;e.wheelY=(e.detail||0)*5}callback(e)})};exports.addMultiMouseDownListener=function(elements,timeouts,eventHandler,callbackName){var clicks=0;var startX,startY,timer;var eventNames={2:"dblclick",3:"tripleclick",4:"quadclick"};function onMousedown(e){if(exports.getButton(e)!==0)clicks=0;else if(e.detail>1){clicks++;if(clicks>4)clicks=1}else clicks=1;if(useragent.isIE){var isNewClick=Math.abs(e.clientX-startX)>5||Math.abs(e.clientY-startY)>5;if(!timer||isNewClick)clicks=1;if(timer)clearTimeout(timer);timer=setTimeout(function(){timer=null},timeouts[clicks-1]||600);if(clicks==1){startX=e.clientX;startY=e.clientY}}e._clicks=clicks;eventHandler[callbackName]("mousedown",e);if(clicks>4)clicks=0;else if(clicks>1)return eventHandler[callbackName](eventNames[clicks],e)}function onDblclick(e){clicks=2;if(timer)clearTimeout(timer);timer=setTimeout(function(){timer=null},timeouts[clicks-1]||600);eventHandler[callbackName]("mousedown",e);eventHandler[callbackName](eventNames[clicks],e)}if(!Array.isArray(elements))elements=[elements];elements.forEach(function(el){exports.addListener(el,"mousedown",onMousedown);if(useragent.isOldIE)exports.addListener(el,"dblclick",onDblclick)})};var getModifierHash=useragent.isMac&&useragent.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};exports.getModifierString=function(e){return keys.KEY_MODS[getModifierHash(e)]};function normalizeCommandKeys(callback,e,keyCode){var hashId=getModifierHash(e);if(!useragent.isMac&&pressedKeys){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win")))hashId|=8;if(pressedKeys.altGr)if((3&hashId)!=3)pressedKeys.altGr=0;else return;if(keyCode===18||keyCode===17){var location="location"in e?e.location:e.keyLocation;if(keyCode===17&&location===1){if(pressedKeys[keyCode]==1)ts=e.timeStamp}else if(keyCode===18&&hashId===3&&location===2){var dt=e.timeStamp-ts;if(dt<50)pressedKeys.altGr=true}}}if(keyCode in keys.MODIFIER_KEYS)keyCode=-1;if(hashId&8&&(keyCode>=91&&keyCode<=93))keyCode=-1;if(!hashId&&keyCode===13){var location="location"in e?e.location:e.keyLocation;if(location===3){callback(e,hashId,-keyCode);if(e.defaultPrevented)return}}if(useragent.isChromeOS&&hashId&8){callback(e,hashId,keyCode);if(e.defaultPrevented)return;else hashId&=~8}if(!hashId&&!(keyCode in keys.FUNCTION_KEYS)&&!(keyCode in keys.PRINTABLE_KEYS))return false;return callback(e,hashId,keyCode)}exports.addCommandKeyListener=function(el,callback){var addListener=exports.addListener;if(useragent.isOldGecko||useragent.isOpera&&!("KeyboardEvent"in window)){var lastKeyDownKeyCode=null;addListener(el,"keydown",function(e){lastKeyDownKeyCode=e.keyCode});addListener(el,"keypress",function(e){return normalizeCommandKeys(callback,e,lastKeyDownKeyCode)})}else{var lastDefaultPrevented=null;addListener(el,"keydown",function(e){pressedKeys[e.keyCode]=(pressedKeys[e.keyCode]||0)+1;var result=normalizeCommandKeys(callback,e,e.keyCode);lastDefaultPrevented=e.defaultPrevented;return result});addListener(el,"keypress",function(e){if(lastDefaultPrevented&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)){exports.stopEvent(e);lastDefaultPrevented=null}});addListener(el,"keyup",function(e){pressedKeys[e.keyCode]=null});if(!pressedKeys){resetPressedKeys();addListener(window,"focus",resetPressedKeys)}}};function resetPressedKeys(){pressedKeys=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!useragent.isOldIE){var postMessageId=1;exports.nextTick=function(callback,win){win=win||window;var messageName="zero-timeout-message-"+postMessageId;exports.addListener(win,"message",function listener(e){if(e.data==messageName){exports.stopPropagation(e);exports.removeListener(win,"message",listener);callback()}});win.postMessage(messageName,"*")}}exports.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);if(exports.nextFrame)exports.nextFrame=exports.nextFrame.bind(window);else exports.nextFrame=function(callback){setTimeout(callback,17)}});ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports,module){exports.last=function(a){return a[a.length-1]};exports.stringReverse=function(string){return string.split("").reverse().join("")};exports.stringRepeat=function(string,count){var result="";while(count>0){if(count&1)result+=string;if(count>>=1)string+=string}return result};var trimBeginRegexp=/^\s\s*/;var trimEndRegexp=/\s\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")};exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")};exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy};exports.copyArray=function(array){var copy=[];for(var i=0,l=array.length;i<l;i++)if(array[i]&&typeof array[i]=="object")copy[i]=this.copyObject(array[i]);else copy[i]=array[i];return copy};exports.deepCopy=function deepCopy(obj){if(typeof obj!=="object"||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;key<obj.length;key++)copy[key]=deepCopy(obj[key]);return copy}if(Object.prototype.toString.call(obj)!=="[object Object]")return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy};exports.arrayToMap=function(arr){var map={};for(var i=0;i<arr.length;i++)map[arr[i]]=1;return map};exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map};exports.arrayRemove=function(array,value){for(var i=0;i<=array.length;i++)if(value===array[i])array.splice(i,1)};exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};exports.escapeHTML=function(str){return str.replace(/&/g,"\x26#38;").replace(/"/g,"\x26#34;").replace(/'/g,"\x26#39;").replace(/</g,"\x26#60;")};exports.getMatchOffsets=function(string,regExp){var matches=[];string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})});return matches};exports.deferredCall=function(fcn){var timer=null;var callback=function(){timer=null;fcn()};var deferred=function(timeout){deferred.cancel();timer=setTimeout(callback,timeout||0);return deferred};deferred.schedule=deferred;deferred.call=function(){this.cancel();fcn();return deferred};deferred.cancel=function(){clearTimeout(timer);timer=null;return deferred};deferred.isPending=function(){return timer};return deferred};exports.delayedCall=function(fcn,defaultTimeout){var timer=null;var callback=function(){timer=null;fcn()};var _self=function(timeout){if(timer==null)timer=setTimeout(callback,timeout||defaultTimeout)};_self.delay=function(timeout){timer&&clearTimeout(timer);timer=setTimeout(callback,timeout||defaultTimeout)};_self.schedule=_self;_self.call=function(){this.cancel();fcn()};_self.cancel=function(){timer&&clearTimeout(timer);timer=null};_self.isPending=function(){return timer};return _self}});ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(acequire,exports,module){var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var dom=acequire("../lib/dom");var lang=acequire("../lib/lang");var KEYS=acequire("../lib/keys");var MODS=KEYS.KEY_MODS;var BROKEN_SETDATA=useragent.isChrome<18;var USE_IE_MIME_TYPE=useragent.isIE;var TextInput=function(parentNode,host){var self=this;var text=dom.createElement("textarea");text.className=useragent.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input";if(useragent.isTouchPad)text.setAttribute("x-palm-disable-auto-cap",true);text.setAttribute("wrap","off");text.setAttribute("autocorrect","off");text.setAttribute("autocapitalize","off");text.setAttribute("spellcheck",false);text.style.opacity="0";parentNode.insertBefore(text,parentNode.firstChild);var PLACEHOLDER="\n aaaa a\n";var copied=false;var cut=false;var pasted=false;var inComposition=false;var tempStyle="";var isSelectionEmpty=true;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",function(e){host.onBlur(e);isFocused=false});event.addListener(text,"focus",function(e){isFocused=true;host.onFocus(e);resetSelection()});this.focus=function(){if(tempStyle)return text.focus();text.style.position="fixed";text.focus()};this.blur=function(){text.blur()};this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall(function(){isFocused&&resetSelection(isSelectionEmpty)});var syncValue=lang.delayedCall(function(){if(!inComposition){text.value=PLACEHOLDER;isFocused&&resetSelection()}});function resetSelection(isEmpty){if(inComposition)return;inComposition=true;if(inputHandler){selectionStart=0;selectionEnd=isEmpty?0:text.value.length-1}else{var selectionStart=4;var selectionEnd=5}try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e$4){}inComposition=false}function resetValue(){if(inComposition)return;text.value=PLACEHOLDER;if(useragent.isWebKit)syncValue.schedule()}useragent.isWebKit||host.addEventListener("changeSelection",function(){if(host.selection.isEmpty()!=isSelectionEmpty){isSelectionEmpty=!isSelectionEmpty;syncSelection.schedule()}});resetValue();if(isFocused)host.onFocus();var isAllSelected=function(text){return text.selectionStart===0&&text.selectionEnd===text.value.length};var onSelect=function(e){if(isAllSelected(text)){host.selectAll();resetSelection()}else if(inputHandler)resetSelection(host.selection.isEmpty())};var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb};this.getInputHandler=function(){return inputHandler};var afterContextMenu=false;var sendText=function(data){if(text.selectionStart===4&&text.selectionEnd===5)return;if(inputHandler){data=inputHandler(data);inputHandler=null}if(pasted){resetSelection();if(data)host.onPaste(data);pasted=false}else if(data==PLACEHOLDER.substr(0)&&text.selectionStart===4)if(afterContextMenu)host.execCommand("del",{source:"ace"});else host.execCommand("backspace",{source:"ace"});else if(!copied){if(data.substring(0,9)==PLACEHOLDER&&data.length>PLACEHOLDER.length)data=data.substr(9);else if(data.substr(0,4)==PLACEHOLDER.substr(0,4))data=data.substr(4,data.length-PLACEHOLDER.length+1);else if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data==PLACEHOLDER.charAt(0));else if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data)host.onTextInput(data)}if(copied)copied=false;if(afterContextMenu)afterContextMenu=false};var onInput=function(e){if(inComposition)return;var data=text.value;sendText(data);resetValue()};var handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(!clipboardData||BROKEN_SETDATA)return;var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{if(data)return clipboardData.setData(mime,data)!==false;else return clipboardData.getData(mime)}catch(e$5){if(!forceIEMime)return handleClipboardData(e$5,data,true)}};var doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);if(handleClipboardData(e,data)){if(useragent.isIOS){cut=isCut;text.value="\n aa"+data+"a a\n";text.setSelectionRange(4,4+data.length);copied={value:data}}isCut?host.onCut():host.onCopy();if(!useragent.isIOS)event.preventDefault(e)}else{copied=true;text.value=data;text.select();setTimeout(function(){copied=false;resetValue();resetSelection();isCut?host.onCut():host.onCopy()})}};var onCut=function(e){doCopy(e,true)};var onCopy=function(e){doCopy(e,false)};var onPaste=function(e){var data=handleClipboardData(e);if(typeof data=="string"){if(data)host.onPaste(data,e);if(useragent.isIE)setTimeout(resetSelection);event.preventDefault(e)}else{text.value="";pasted=true}};event.addCommandKeyListener(text,host.onCommandKey.bind(host));event.addListener(text,"select",onSelect);event.addListener(text,"input",onInput);event.addListener(text,"cut",onCut);event.addListener(text,"copy",onCopy);event.addListener(text,"paste",onPaste);var onCompositionStart=function(e){if(inComposition||!host.onCompositionStart||host.$readOnly)return;inComposition={};inComposition.canUndo=host.session.$undoManager;host.onCompositionStart();setTimeout(onCompositionUpdate,0);host.on("mousedown",onCompositionEnd);if(inComposition.canUndo&&!host.selection.isEmpty()){host.insert("");host.session.markUndoGroup();host.selection.clearSelection()}host.session.markUndoGroup()};var onCompositionUpdate=function(){if(!inComposition||!host.onCompositionUpdate||host.$readOnly)return;var val=text.value.replace(/\x01/g,"");if(inComposition.lastValue===val)return;host.onCompositionUpdate(val);if(inComposition.lastValue)host.undo();if(inComposition.canUndo)inComposition.lastValue=val;if(inComposition.lastValue){var r=host.selection.getRange();host.insert(inComposition.lastValue);host.session.markUndoGroup();inComposition.range=host.selection.getRange();host.selection.setRange(r);host.selection.clearSelection()}};var onCompositionEnd=function(e){if(!host.onCompositionEnd||host.$readOnly)return;var c=inComposition;inComposition=false;var timer=setTimeout(function(){timer=null;var str=text.value.replace(/\x01/g,"");if(inComposition)return;else if(str==c.lastValue)resetValue();else if(!c.lastValue&&str){resetValue();sendText(str)}});inputHandler=function compositionInputHandler(str){if(timer)clearTimeout(timer);str=str.replace(/\x01/g,"");if(str==c.lastValue)return"";if(c.lastValue&&timer)host.undo();return str};host.onCompositionEnd();host.removeListener("mousedown",onCompositionEnd);if(e.type=="compositionend"&&c.range)host.selection.setRange(c.range);var needsOnInput=!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603;if(needsOnInput)onInput()};var syncComposition=lang.delayedCall(onCompositionUpdate,50);event.addListener(text,"compositionstart",onCompositionStart);if(useragent.isGecko)event.addListener(text,"text",function(){syncComposition.schedule()});else{event.addListener(text,"keyup",function(){syncComposition.schedule()});event.addListener(text,"keydown",function(){syncComposition.schedule()})}event.addListener(text,"compositionend",onCompositionEnd);this.getElement=function(){return text};this.setReadOnly=function(readOnly){text.readOnly=readOnly};this.onContextMenu=function(e){afterContextMenu=true;resetSelection(host.selection.isEmpty());host._emit("nativecontextmenu",{target:host,domEvent:e});this.moveToMouse(e,true)};this.moveToMouse=function(e,bringToFront){if(!tempStyle)tempStyle=text.style.cssText;text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect();var style=dom.computedStyle(host.container);var top=rect.top+(parseInt(style.borderTopWidth)||0);var left=rect.left+(parseInt(rect.borderLeftWidth)||0);var maxTop=rect.bottom-top-text.clientHeight-2;var move=function(e){text.style.left=e.clientX-left-2+"px";text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e);if(e.type!="mousedown")return;if(host.renderer.$keepTextAreaAtCursor)host.renderer.$keepTextAreaAtCursor=null;clearTimeout(closeTimeout);if(useragent.isWin)event.capture(host.container,move,onContextMenuClose)};this.onContextMenuClose=onContextMenuClose;var closeTimeout;function onContextMenuClose(){clearTimeout(closeTimeout);closeTimeout=setTimeout(function(){if(tempStyle){text.style.cssText=tempStyle;tempStyle=""}if(host.renderer.$keepTextAreaAtCursor==null){host.renderer.$keepTextAreaAtCursor=true;host.renderer.$moveTextAreaToCursor()}},0)}var onContextMenu=function(e){host.textInput.onContextMenu(e);onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu);event.addListener(text,"mousedown",function(e){e.preventDefault();onContextMenuClose()});event.addListener(host.renderer.scroller,"contextmenu",onContextMenu);event.addListener(text,"contextmenu",onContextMenu);if(useragent.isIOS){var typingResetTimeout=null;var typing=false;parentNode.addEventListener("keydown",function(e){if(typingResetTimeout)clearTimeout(typingResetTimeout);typing=true});parentNode.addEventListener("keyup",function(e){typingResetTimeout=setTimeout(function(){typing=false},100)});var detectArrowKeys=function(e){if(document.activeElement!==text)return;if(typing)return;if(cut)return setTimeout(function(){cut=false},100);var selectionStart=text.selectionStart;var selectionEnd=text.selectionEnd;text.setSelectionRange(4,5);if(selectionStart==selectionEnd)switch(selectionStart){case 0:host.onCommandKey(null,0,KEYS.up);break;case 1:host.onCommandKey(null,0,KEYS.home);break;case 2:host.onCommandKey(null,MODS.option,KEYS.left);break;case 4:host.onCommandKey(null,0,KEYS.left);break;case 5:host.onCommandKey(null,0,KEYS.right);break;case 7:host.onCommandKey(null,MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,0,KEYS.end);break;case 9:host.onCommandKey(null,0,KEYS.down);break}else{switch(selectionEnd){case 6:host.onCommandKey(null,MODS.shift,KEYS.right);break;case 7:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.right);break;case 8:host.onCommandKey(null,MODS.shift,KEYS.end);break;case 9:host.onCommandKey(null,MODS.shift,KEYS.down);break}switch(selectionStart){case 0:host.onCommandKey(null,MODS.shift,KEYS.up);break;case 1:host.onCommandKey(null,MODS.shift,KEYS.home);break;case 2:host.onCommandKey(null,MODS.shift|MODS.option,KEYS.left);break;case 3:host.onCommandKey(null,MODS.shift,KEYS.left);break}}};document.addEventListener("selectionchange",detectArrowKeys);host.on("destroy",function(){document.removeEventListener("selectionchange",detectArrowKeys)})}};exports.TextInput=TextInput});ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(acequire,exports,module){var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var dom=acequire("../lib/dom");var lang=acequire("../lib/lang");var BROKEN_SETDATA=useragent.isChrome<18;var USE_IE_MIME_TYPE=useragent.isIE;var TextInputIOS=acequire("./textinput_ios").TextInput;var TextInput=function(parentNode,host){if(useragent.isIOS)return TextInputIOS.call(this,parentNode,host);var text=dom.createElement("textarea");text.className="ace_text-input";text.setAttribute("wrap","off");text.setAttribute("autocorrect","off");text.setAttribute("autocapitalize","off");text.setAttribute("spellcheck",false);text.style.opacity="0";parentNode.insertBefore(text,parentNode.firstChild);var PLACEHOLDER="\u2028\u2028";var copied=false;var pasted=false;var inComposition=false;var tempStyle="";var isSelectionEmpty=true;try{var isFocused=document.activeElement===text}catch(e){}event.addListener(text,"blur",function(e){host.onBlur(e);isFocused=false});event.addListener(text,"focus",function(e){isFocused=true;host.onFocus(e);resetSelection()});this.focus=function(){if(tempStyle)return text.focus();var top=text.style.top;text.style.position="fixed";text.style.top="0px";text.focus();setTimeout(function(){text.style.position="";if(text.style.top=="0px")text.style.top=top},0)};this.blur=function(){text.blur()};this.isFocused=function(){return isFocused};var syncSelection=lang.delayedCall(function(){isFocused&&resetSelection(isSelectionEmpty)});var syncValue=lang.delayedCall(function(){if(!inComposition){text.value=PLACEHOLDER;isFocused&&resetSelection()}});function resetSelection(isEmpty){if(inComposition)return;inComposition=true;if(inputHandler){var selectionStart=0;var selectionEnd=isEmpty?0:text.value.length-1}else{var selectionStart=isEmpty?2:1;var selectionEnd=2}try{text.setSelectionRange(selectionStart,selectionEnd)}catch(e$6){}inComposition=false}function resetValue(){if(inComposition)return;text.value=PLACEHOLDER;if(useragent.isWebKit)syncValue.schedule()}useragent.isWebKit||host.addEventListener("changeSelection",function(){if(host.selection.isEmpty()!=isSelectionEmpty){isSelectionEmpty=!isSelectionEmpty;syncSelection.schedule()}});resetValue();if(isFocused)host.onFocus();var isAllSelected=function(text){return text.selectionStart===0&&text.selectionEnd===text.value.length};var onSelect=function(e){if(copied)copied=false;else if(isAllSelected(text)){host.selectAll();resetSelection()}else if(inputHandler)resetSelection(host.selection.isEmpty())};var inputHandler=null;this.setInputHandler=function(cb){inputHandler=cb};this.getInputHandler=function(){return inputHandler};var afterContextMenu=false;var sendText=function(data){if(inputHandler){data=inputHandler(data);inputHandler=null}if(pasted){resetSelection();if(data)host.onPaste(data);pasted=false}else if(data==PLACEHOLDER.charAt(0))if(afterContextMenu)host.execCommand("del",{source:"ace"});else host.execCommand("backspace",{source:"ace"});else{if(data.substring(0,2)==PLACEHOLDER)data=data.substr(2);else if(data.charAt(0)==PLACEHOLDER.charAt(0))data=data.substr(1);else if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data.charAt(data.length-1)==PLACEHOLDER.charAt(0))data=data.slice(0,-1);if(data)host.onTextInput(data)}if(afterContextMenu)afterContextMenu=false};var onInput=function(e){if(inComposition)return;var data=text.value;sendText(data);resetValue()};var handleClipboardData=function(e,data,forceIEMime){var clipboardData=e.clipboardData||window.clipboardData;if(!clipboardData||BROKEN_SETDATA)return;var mime=USE_IE_MIME_TYPE||forceIEMime?"Text":"text/plain";try{if(data)return clipboardData.setData(mime,data)!==false;else return clipboardData.getData(mime)}catch(e$7){if(!forceIEMime)return handleClipboardData(e$7,data,true)}};var doCopy=function(e,isCut){var data=host.getCopyText();if(!data)return event.preventDefault(e);if(handleClipboardData(e,data)){isCut?host.onCut():host.onCopy();event.preventDefault(e)}else{copied=true;text.value=data;text.select();setTimeout(function(){copied=false;resetValue();resetSelection();isCut?host.onCut():host.onCopy()})}};var onCut=function(e){doCopy(e,true)};var onCopy=function(e){doCopy(e,false)};var onPaste=function(e){var data=handleClipboardData(e);if(typeof data=="string"){if(data)host.onPaste(data,e);if(useragent.isIE)setTimeout(resetSelection);event.preventDefault(e)}else{text.value="";pasted=true}};event.addCommandKeyListener(text,host.onCommandKey.bind(host));event.addListener(text,"select",onSelect);event.addListener(text,"input",onInput);event.addListener(text,"cut",onCut);event.addListener(text,"copy",onCopy);event.addListener(text,"paste",onPaste);if(!("oncut"in text)||!("oncopy"in text)||!("onpaste"in text))event.addListener(parentNode,"keydown",function(e){if(useragent.isMac&&!e.metaKey||!e.ctrlKey)return;switch(e.keyCode){case 67:onCopy(e);break;case 86:onPaste(e);break;case 88:onCut(e);break}});var onCompositionStart=function(e){if(inComposition||!host.onCompositionStart||host.$readOnly)return;inComposition={};inComposition.canUndo=host.session.$undoManager;host.onCompositionStart();setTimeout(onCompositionUpdate,0);host.on("mousedown",onCompositionEnd);if(inComposition.canUndo&&!host.selection.isEmpty()){host.insert("");host.session.markUndoGroup();host.selection.clearSelection()}host.session.markUndoGroup()};var onCompositionUpdate=function(){if(!inComposition||!host.onCompositionUpdate||host.$readOnly)return;var val=text.value.replace(/\u2028/g,"");if(inComposition.lastValue===val)return;host.onCompositionUpdate(val);if(inComposition.lastValue)host.undo();if(inComposition.canUndo)inComposition.lastValue=val;if(inComposition.lastValue){var r=host.selection.getRange();host.insert(inComposition.lastValue);host.session.markUndoGroup();inComposition.range=host.selection.getRange();host.selection.setRange(r);host.selection.clearSelection()}};var onCompositionEnd=function(e){if(!host.onCompositionEnd||host.$readOnly)return;var c=inComposition;inComposition=false;var timer=setTimeout(function(){timer=null;var str=text.value.replace(/\u2028/g,"");if(inComposition)return;else if(str==c.lastValue)resetValue();else if(!c.lastValue&&str){resetValue();sendText(str)}});inputHandler=function compositionInputHandler(str){if(timer)clearTimeout(timer);str=str.replace(/\u2028/g,"");if(str==c.lastValue)return"";if(c.lastValue&&timer)host.undo();return str};host.onCompositionEnd();host.removeListener("mousedown",onCompositionEnd);if(e.type=="compositionend"&&c.range)host.selection.setRange(c.range);var needsOnInput=!!useragent.isChrome&&useragent.isChrome>=53||!!useragent.isWebKit&&useragent.isWebKit>=603;if(needsOnInput)onInput()};var syncComposition=lang.delayedCall(onCompositionUpdate,50);event.addListener(text,"compositionstart",onCompositionStart);if(useragent.isGecko)event.addListener(text,"text",function(){syncComposition.schedule()});else{event.addListener(text,"keyup",function(){syncComposition.schedule()});event.addListener(text,"keydown",function(){syncComposition.schedule()})}event.addListener(text,"compositionend",onCompositionEnd);this.getElement=function(){return text};this.setReadOnly=function(readOnly){text.readOnly=readOnly};this.onContextMenu=function(e){afterContextMenu=true;resetSelection(host.selection.isEmpty());host._emit("nativecontextmenu",{target:host,domEvent:e});this.moveToMouse(e,true)};this.moveToMouse=function(e,bringToFront){if(!tempStyle)tempStyle=text.style.cssText;text.style.cssText=(bringToFront?"z-index:100000;":"")+"height:"+text.style.height+";"+(useragent.isIE?"opacity:0.1;":"");var rect=host.container.getBoundingClientRect();var style=dom.computedStyle(host.container);var top=rect.top+(parseInt(style.borderTopWidth)||0);var left=rect.left+(parseInt(rect.borderLeftWidth)||0);var maxTop=rect.bottom-top-text.clientHeight-2;var move=function(e){text.style.left=e.clientX-left-2+"px";text.style.top=Math.min(e.clientY-top-2,maxTop)+"px"};move(e);if(e.type!="mousedown")return;if(host.renderer.$keepTextAreaAtCursor)host.renderer.$keepTextAreaAtCursor=null;clearTimeout(closeTimeout);if(useragent.isWin)event.capture(host.container,move,onContextMenuClose)};this.onContextMenuClose=onContextMenuClose;var closeTimeout;function onContextMenuClose(){clearTimeout(closeTimeout);closeTimeout=setTimeout(function(){if(tempStyle){text.style.cssText=tempStyle;tempStyle=""}if(host.renderer.$keepTextAreaAtCursor==null){host.renderer.$keepTextAreaAtCursor=true;host.renderer.$moveTextAreaToCursor()}},0)}var onContextMenu=function(e){host.textInput.onContextMenu(e);onContextMenuClose()};event.addListener(text,"mouseup",onContextMenu);event.addListener(text,"mousedown",function(e){e.preventDefault();onContextMenuClose()});event.addListener(host.renderer.scroller,"contextmenu",onContextMenu);event.addListener(text,"contextmenu",onContextMenu)};exports.TextInput=TextInput});ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(acequire,exports,module){var dom=acequire("../lib/dom");var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var DRAG_OFFSET=0;var SCROLL_COOLDOWN_T=250;function DefaultHandlers(mouseHandler){mouseHandler.$clickSelection=null;var editor=mouseHandler.editor;editor.setDefaultHandler("mousedown",this.onMouseDown.bind(mouseHandler));editor.setDefaultHandler("dblclick",this.onDoubleClick.bind(mouseHandler));editor.setDefaultHandler("tripleclick",this.onTripleClick.bind(mouseHandler));editor.setDefaultHandler("quadclick",this.onQuadClick.bind(mouseHandler));editor.setDefaultHandler("mousewheel",this.onMouseWheel.bind(mouseHandler));editor.setDefaultHandler("touchmove",this.onTouchMove.bind(mouseHandler));var exports=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];exports.forEach(function(x){mouseHandler[x]=this[x]},this);mouseHandler.selectByLines=this.extendSelectionBy.bind(mouseHandler,"getLineRange");mouseHandler.selectByWords=this.extendSelectionBy.bind(mouseHandler,"getWordRange")}(function(){this.onMouseDown=function(ev){var inSelection=ev.inSelection();var pos=ev.getDocumentPosition();this.mousedownEvent=ev;var editor=this.editor;var button=ev.getButton();if(button!==0){var selectionRange=editor.getSelectionRange();var selectionEmpty=selectionRange.isEmpty();editor.$blockScrolling++;if(selectionEmpty||button==1)editor.selection.moveToPosition(pos);editor.$blockScrolling--;if(button==2){editor.textInput.onContextMenu(ev.domEvent);if(!useragent.isMozilla)ev.preventDefault()}return}this.mousedownEvent.time=Date.now();if(inSelection&&!editor.isFocused()){editor.focus();if(this.$focusTimout&&!this.$clickSelection&&!editor.inMultiSelectMode){this.setState("focusWait");this.captureMouse(ev);return}}this.captureMouse(ev);this.startSelect(pos,ev.domEvent._clicks>1);return ev.preventDefault()};this.startSelect=function(pos,waitForClickSelection){pos=pos||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var editor=this.editor;editor.$blockScrolling++;if(this.mousedownEvent.getShiftKey())editor.selection.selectToPosition(pos);else if(!waitForClickSelection)editor.selection.moveToPosition(pos);if(!waitForClickSelection)this.select();if(editor.renderer.scroller.setCapture)editor.renderer.scroller.setCapture();editor.setStyle("ace_selecting");this.setState("select");editor.$blockScrolling--};this.select=function(){var anchor,editor=this.editor;var cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);editor.$blockScrolling++;if(this.$clickSelection){var cmp=this.$clickSelection.comparePoint(cursor);if(cmp==-1)anchor=this.$clickSelection.end;else if(cmp==1)anchor=this.$clickSelection.start;else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor;anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor);editor.$blockScrolling--;editor.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(unitName){var anchor,editor=this.editor;var cursor=editor.renderer.screenToTextCoordinates(this.x,this.y);var range=editor.selection[unitName](cursor.row,cursor.column);editor.$blockScrolling++;if(this.$clickSelection){var cmpStart=this.$clickSelection.comparePoint(range.start);var cmpEnd=this.$clickSelection.comparePoint(range.end);if(cmpStart==-1&&cmpEnd<=0){anchor=this.$clickSelection.end;if(range.end.row!=cursor.row||range.end.column!=cursor.column)cursor=range.start}else if(cmpEnd==1&&cmpStart>=0){anchor=this.$clickSelection.start;if(range.start.row!=cursor.row||range.start.column!=cursor.column)cursor=range.end}else if(cmpStart==-1&&cmpEnd==1){cursor=range.end;anchor=range.start}else{var orientedRange=calcRangeOrientation(this.$clickSelection,cursor);cursor=orientedRange.cursor;anchor=orientedRange.anchor}editor.selection.setSelectionAnchor(anchor.row,anchor.column)}editor.selection.selectToPosition(cursor);editor.$blockScrolling--;editor.renderer.scrollCursorIntoView()};this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting");if(this.editor.renderer.scroller.releaseCapture)this.editor.renderer.scroller.releaseCapture()};this.focusWait=function(){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);var time=Date.now();if(distance>DRAG_OFFSET||time-this.mousedownEvent.time>this.$focusTimout)this.startSelect(this.mousedownEvent.getDocumentPosition())};this.onDoubleClick=function(ev){var pos=ev.getDocumentPosition();var editor=this.editor;var session=editor.session;var range=session.getBracketRange(pos);if(range){if(range.isEmpty()){range.start.column--;range.end.column++}this.setState("select")}else{range=editor.selection.getWordRange(pos.row,pos.column);this.setState("selectByWords")}this.$clickSelection=range;this.select()};this.onTripleClick=function(ev){var pos=ev.getDocumentPosition();var editor=this.editor;this.setState("selectByLines");var range=editor.getSelectionRange();if(range.isMultiLine()&&range.contains(pos.row,pos.column)){this.$clickSelection=editor.selection.getLineRange(range.start.row);this.$clickSelection.end=editor.selection.getLineRange(range.end.row).end}else this.$clickSelection=editor.selection.getLineRange(pos.row);this.select()};this.onQuadClick=function(ev){var editor=this.editor;editor.selectAll();this.$clickSelection=editor.getSelectionRange();this.setState("selectAll")};this.onMouseWheel=function(ev){if(ev.getAccelKey())return;if(ev.getShiftKey()&&ev.wheelY&&!ev.wheelX){ev.wheelX=ev.wheelY;ev.wheelY=0}var editor=this.editor;if(!this.$lastScroll)this.$lastScroll={t:0,vx:0,vy:0,allowed:0};var prevScroll=this.$lastScroll;var t=ev.domEvent.timeStamp;var dt=t-prevScroll.t;var vx=ev.wheelX/dt;var vy=ev.wheelY/dt;if(dt<SCROLL_COOLDOWN_T){vx=(vx+prevScroll.vx)/2;vy=(vy+prevScroll.vy)/2}var direction=Math.abs(vx/vy);var canScroll=false;if(direction>=1&&editor.renderer.isScrollableBy(ev.wheelX*ev.speed,0))canScroll=true;if(direction<=1&&editor.renderer.isScrollableBy(0,ev.wheelY*ev.speed))canScroll=true;if(canScroll)prevScroll.allowed=t;else if(t-prevScroll.allowed<SCROLL_COOLDOWN_T){var isSlower=Math.abs(vx)<=1.1*Math.abs(prevScroll.vx)&&Math.abs(vy)<=1.1*Math.abs(prevScroll.vy);if(isSlower){canScroll=true;prevScroll.allowed=t}else prevScroll.allowed=0}prevScroll.t=t;prevScroll.vx=vx;prevScroll.vy=vy;if(canScroll){editor.renderer.scrollBy(ev.wheelX*ev.speed,ev.wheelY*ev.speed);return ev.stop()}};this.onTouchMove=function(ev){this.editor._emit("mousewheel",ev)}}).call(DefaultHandlers.prototype);exports.DefaultHandlers=DefaultHandlers;function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}function calcRangeOrientation(range,cursor){if(range.start.row==range.end.row)var cmp=2*cursor.column-range.start.column-range.end.column;else if(range.start.row==range.end.row-1&&!range.start.column&&!range.end.column)var cmp=cursor.column-4;else var cmp=2*cursor.row-range.start.row-range.end.row;if(cmp<0)return{cursor:range.start,anchor:range.end};else return{cursor:range.end,anchor:range.start}}});ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(acequire,exports,module){var oop=acequire("./lib/oop");var dom=acequire("./lib/dom");function Tooltip(parentNode){this.isOpen=false;this.$element=null;this.$parentNode=parentNode}(function(){this.$init=function(){this.$element=dom.createElement("div");this.$element.className="ace_tooltip";this.$element.style.display="none";this.$parentNode.appendChild(this.$element);return this.$element};this.getElement=function(){return this.$element||this.$init()};this.setText=function(text){dom.setInnerText(this.getElement(),text)};this.setHtml=function(html){this.getElement().innerHTML=html};this.setPosition=function(x,y){this.getElement().style.left=x+"px";this.getElement().style.top=y+"px"};this.setClassName=function(className){dom.addCssClass(this.getElement(),className)};this.show=function(text,x,y){if(text!=null)this.setText(text);if(x!=null&&y!=null)this.setPosition(x,y);if(!this.isOpen){this.getElement().style.display="block";this.isOpen=true}};this.hide=function(){if(this.isOpen){this.getElement().style.display="none";this.isOpen=false}};this.getHeight=function(){return this.getElement().offsetHeight};this.getWidth=function(){return this.getElement().offsetWidth};this.destroy=function(){this.isOpen=false;if(this.$element&&this.$element.parentNode)this.$element.parentNode.removeChild(this.$element)}}).call(Tooltip.prototype);exports.Tooltip=Tooltip});ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(acequire,exports,module){var dom=acequire("../lib/dom");var oop=acequire("../lib/oop");var event=acequire("../lib/event");var Tooltip=acequire("../tooltip").Tooltip;function GutterHandler(mouseHandler){var editor=mouseHandler.editor;var gutter=editor.renderer.$gutterLayer;var tooltip=new GutterTooltip(editor.container);mouseHandler.editor.setDefaultHandler("guttermousedown",function(e){if(!editor.isFocused()||e.getButton()!=0)return;var gutterRegion=gutter.getRegion(e);if(gutterRegion=="foldWidgets")return;var row=e.getDocumentPosition().row;var selection=editor.session.selection;if(e.getShiftKey())selection.selectTo(row,0);else{if(e.domEvent.detail==2){editor.selectAll();return e.preventDefault()}mouseHandler.$clickSelection=editor.selection.getLineRange(row)}mouseHandler.setState("selectByLines");mouseHandler.captureMouse(e);return e.preventDefault()});var tooltipTimeout,mouseEvent,tooltipAnnotation;function showTooltip(){var row=mouseEvent.getDocumentPosition().row;var annotation=gutter.$annotations[row];if(!annotation)return hideTooltip();var maxRow=editor.session.getLength();if(row==maxRow){var screenRow=editor.renderer.pixelToScreenCoordinates(0,mouseEvent.y).row;var pos=mouseEvent.$pos;if(screenRow>editor.session.documentToScreenRow(pos.row,pos.column))return hideTooltip()}if(tooltipAnnotation==annotation)return;tooltipAnnotation=annotation.text.join("\x3cbr/\x3e");tooltip.setHtml(tooltipAnnotation);tooltip.show();editor._signal("showGutterTooltip",tooltip);editor.on("mousewheel",hideTooltip);if(mouseHandler.$tooltipFollowsMouse)moveTooltip(mouseEvent);else{var gutterElement=mouseEvent.domEvent.target;var rect=gutterElement.getBoundingClientRect();var style=tooltip.getElement().style;style.left=rect.right+"px";style.top=rect.bottom+"px"}}function hideTooltip(){if(tooltipTimeout)tooltipTimeout=clearTimeout(tooltipTimeout);if(tooltipAnnotation){tooltip.hide();tooltipAnnotation=null;editor._signal("hideGutterTooltip",tooltip);editor.removeEventListener("mousewheel",hideTooltip)}}function moveTooltip(e){tooltip.setPosition(e.x,e.y)}mouseHandler.editor.setDefaultHandler("guttermousemove",function(e){var target=e.domEvent.target||e.domEvent.srcElement;if(dom.hasCssClass(target,"ace_fold-widget"))return hideTooltip();if(tooltipAnnotation&&mouseHandler.$tooltipFollowsMouse)moveTooltip(e);mouseEvent=e;if(tooltipTimeout)return;tooltipTimeout=setTimeout(function(){tooltipTimeout=null;if(mouseEvent&&!mouseHandler.isMousePressed)showTooltip();else hideTooltip()},50)});event.addListener(editor.renderer.$gutter,"mouseout",function(e){mouseEvent=null;if(!tooltipAnnotation||tooltipTimeout)return;tooltipTimeout=setTimeout(function(){tooltipTimeout=null;hideTooltip()},50)});editor.on("changeSession",hideTooltip)}function GutterTooltip(parentNode){Tooltip.call(this,parentNode)}oop.inherits(GutterTooltip,Tooltip);(function(){this.setPosition=function(x,y){var windowWidth=window.innerWidth||document.documentElement.clientWidth;var windowHeight=window.innerHeight||document.documentElement.clientHeight;var width=this.getWidth();var height=this.getHeight();x+=15;y+=15;if(x+width>windowWidth)x-=x+width-windowWidth;if(y+height>windowHeight)y-=20+height;Tooltip.prototype.setPosition.call(this,x,y)}}).call(GutterTooltip.prototype);exports.GutterHandler=GutterHandler});ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(acequire,exports,module){var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var MouseEvent=exports.MouseEvent=function(domEvent,editor){this.domEvent=domEvent;this.editor=editor;this.x=this.clientX=domEvent.clientX;this.y=this.clientY=domEvent.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=false;this.defaultPrevented=false};(function(){this.stopPropagation=function(){event.stopPropagation(this.domEvent);this.propagationStopped=true};this.preventDefault=function(){event.preventDefault(this.domEvent);this.defaultPrevented=true};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){if(this.$pos)return this.$pos;this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY);return this.$pos};this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var editor=this.editor;var selectionRange=editor.getSelectionRange();if(selectionRange.isEmpty())this.$inSelection=false;else{var pos=this.getDocumentPosition();this.$inSelection=selectionRange.contains(pos.row,pos.column)}return this.$inSelection};this.getButton=function(){return event.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=useragent.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(MouseEvent.prototype)});ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(acequire,exports,module){var dom=acequire("../lib/dom");var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var AUTOSCROLL_DELAY=200;var SCROLL_CURSOR_DELAY=200;var SCROLL_CURSOR_HYSTERESIS=5;function DragdropHandler(mouseHandler){var editor=mouseHandler.editor;var blankImage=dom.createElement("img");blankImage.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";if(useragent.isOpera)blankImage.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;";var exports=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];exports.forEach(function(x){mouseHandler[x]=this[x]},this);editor.addEventListener("mousedown",this.onMouseDown.bind(mouseHandler));var mouseTarget=editor.container;var dragSelectionMarker,x,y;var timerId,range;var dragCursor,counter=0;var dragOperation;var isInternal;var autoScrollStartTime;var cursorMovedTime;var cursorPointOnCaretMoved;this.onDragStart=function(e){if(this.cancelDrag||!mouseTarget.draggable){var self=this;setTimeout(function(){self.startSelect();self.captureMouse(e)},0);return e.preventDefault()}range=editor.getSelectionRange();var dataTransfer=e.dataTransfer;dataTransfer.effectAllowed=editor.getReadOnly()?"copy":"copyMove";if(useragent.isOpera){editor.container.appendChild(blankImage);blankImage.scrollTop=0}dataTransfer.setDragImage&&dataTransfer.setDragImage(blankImage,0,0);if(useragent.isOpera)editor.container.removeChild(blankImage);dataTransfer.clearData();dataTransfer.setData("Text",editor.session.getTextRange());isInternal=true;this.setState("drag")};this.onDragEnd=function(e){mouseTarget.draggable=false;isInternal=false;this.setState(null);if(!editor.getReadOnly()){var dropEffect=e.dataTransfer.dropEffect;if(!dragOperation&&dropEffect=="move")editor.session.remove(editor.getSelectionRange());editor.renderer.$cursorLayer.setBlinking(true)}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(e){if(editor.getReadOnly()||!canAccept(e.dataTransfer))return;x=e.clientX;y=e.clientY;if(!dragSelectionMarker)addDragMarker();counter++;e.dataTransfer.dropEffect=dragOperation=getDropEffect(e);return event.preventDefault(e)};this.onDragOver=function(e){if(editor.getReadOnly()||!canAccept(e.dataTransfer))return;x=e.clientX;y=e.clientY;if(!dragSelectionMarker){addDragMarker();counter++}if(onMouseMoveTimer!==null)onMouseMoveTimer=null;e.dataTransfer.dropEffect=dragOperation=getDropEffect(e);return event.preventDefault(e)};this.onDragLeave=function(e){counter--;if(counter<=0&&dragSelectionMarker){clearDragMarker();dragOperation=null;return event.preventDefault(e)}};this.onDrop=function(e){if(!dragCursor)return;var dataTransfer=e.dataTransfer;if(isInternal)switch(dragOperation){case "move":if(range.contains(dragCursor.row,dragCursor.column))range={start:dragCursor,end:dragCursor};else range=editor.moveText(range,dragCursor);break;case "copy":range=editor.moveText(range,dragCursor,true);break}else{var dropData=dataTransfer.getData("Text");range={start:dragCursor,end:editor.session.insert(dragCursor,dropData)};editor.focus();dragOperation=null}clearDragMarker();return event.preventDefault(e)};event.addListener(mouseTarget,"dragstart",this.onDragStart.bind(mouseHandler));event.addListener(mouseTarget,"dragend",this.onDragEnd.bind(mouseHandler));event.addListener(mouseTarget,"dragenter",this.onDragEnter.bind(mouseHandler));event.addListener(mouseTarget,"dragover",this.onDragOver.bind(mouseHandler));event.addListener(mouseTarget,"dragleave",this.onDragLeave.bind(mouseHandler));event.addListener(mouseTarget,"drop",this.onDrop.bind(mouseHandler));function scrollCursorIntoView(cursor,prevCursor){var now=Date.now();var vMovement=!prevCursor||cursor.row!=prevCursor.row;var hMovement=!prevCursor||cursor.column!=prevCursor.column;if(!cursorMovedTime||vMovement||hMovement){editor.$blockScrolling+=1;editor.moveCursorToPosition(cursor);editor.$blockScrolling-=1;cursorMovedTime=now;cursorPointOnCaretMoved={x:x,y:y}}else{var distance=calcDistance(cursorPointOnCaretMoved.x,cursorPointOnCaretMoved.y,x,y);if(distance>SCROLL_CURSOR_HYSTERESIS)cursorMovedTime=null;else if(now-cursorMovedTime>=SCROLL_CURSOR_DELAY){editor.renderer.scrollCursorIntoView();cursorMovedTime=null}}}function autoScroll(cursor,prevCursor){var now=Date.now();var lineHeight=editor.renderer.layerConfig.lineHeight;var characterWidth=editor.renderer.layerConfig.characterWidth;var editorRect=editor.renderer.scroller.getBoundingClientRect();var offsets={x:{left:x-editorRect.left,right:editorRect.right-x},y:{top:y-editorRect.top,bottom:editorRect.bottom-y}};var nearestXOffset=Math.min(offsets.x.left,offsets.x.right);var nearestYOffset=Math.min(offsets.y.top,offsets.y.bottom);var scrollCursor={row:cursor.row,column:cursor.column};if(nearestXOffset/characterWidth<=2)scrollCursor.column+=offsets.x.left<offsets.x.right?-3:+2;if(nearestYOffset/lineHeight<=1)scrollCursor.row+=offsets.y.top<offsets.y.bottom?-1:+1;var vScroll=cursor.row!=scrollCursor.row;var hScroll=cursor.column!=scrollCursor.column;var vMovement=!prevCursor||cursor.row!=prevCursor.row;if(vScroll||hScroll&&!vMovement)if(!autoScrollStartTime)autoScrollStartTime=now;else{if(now-autoScrollStartTime>=AUTOSCROLL_DELAY)editor.renderer.scrollCursorIntoView(scrollCursor)}else autoScrollStartTime=null}function onDragInterval(){var prevCursor=dragCursor;dragCursor=editor.renderer.screenToTextCoordinates(x,y);scrollCursorIntoView(dragCursor,prevCursor);autoScroll(dragCursor,prevCursor)}function addDragMarker(){range=editor.selection.toOrientedRange();dragSelectionMarker=editor.session.addMarker(range,"ace_selection",editor.getSelectionStyle());editor.clearSelection();if(editor.isFocused())editor.renderer.$cursorLayer.setBlinking(false);clearInterval(timerId);onDragInterval();timerId=setInterval(onDragInterval,20);counter=0;event.addListener(document,"mousemove",onMouseMove)}function clearDragMarker(){clearInterval(timerId);editor.session.removeMarker(dragSelectionMarker);dragSelectionMarker=null;editor.$blockScrolling+=1;editor.selection.fromOrientedRange(range);editor.$blockScrolling-=1;if(editor.isFocused()&&!isInternal)editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());range=null;dragCursor=null;counter=0;autoScrollStartTime=null;cursorMovedTime=null;event.removeListener(document,"mousemove",onMouseMove)}var onMouseMoveTimer=null;function onMouseMove(){if(onMouseMoveTimer==null)onMouseMoveTimer=setTimeout(function(){if(onMouseMoveTimer!=null&&dragSelectionMarker)clearDragMarker()},20)}function canAccept(dataTransfer){var types=dataTransfer.types;return!types||Array.prototype.some.call(types,function(type){return type=="text/plain"||type=="Text"})}function getDropEffect(e){var copyAllowed=["copy","copymove","all","uninitialized"];var moveAllowed=["move","copymove","linkmove","all","uninitialized"];var copyModifierState=useragent.isMac?e.altKey:e.ctrlKey;var effectAllowed="uninitialized";try{effectAllowed=e.dataTransfer.effectAllowed.toLowerCase()}catch(e$8){}var dropEffect="none";if(copyModifierState&&copyAllowed.indexOf(effectAllowed)>=0)dropEffect="copy";else if(moveAllowed.indexOf(effectAllowed)>=0)dropEffect="move";else if(copyAllowed.indexOf(effectAllowed)>=0)dropEffect="copy";return dropEffect}}(function(){this.dragWait=function(){var interval=Date.now()-this.mousedownEvent.time;if(interval>this.editor.getDragDelay())this.startDrag()};this.dragWaitEnd=function(){var target=this.editor.container;target.draggable=false;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){this.cancelDrag=false;var editor=this.editor;var target=editor.container;target.draggable=true;editor.renderer.$cursorLayer.setBlinking(false);editor.setStyle("ace_dragging");var cursorStyle=useragent.isWin?"default":"move";editor.renderer.setCursorStyle(cursorStyle);this.setState("dragReady")};this.onMouseDrag=function(e){var target=this.editor.container;if(useragent.isIE&&this.state=="dragReady"){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(distance>3)target.dragDrop()}if(this.state==="dragWait"){var distance=calcDistance(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);if(distance>0){target.draggable=false;this.startSelect(this.mousedownEvent.getDocumentPosition())}}};this.onMouseDown=function(e){if(!this.$dragEnabled)return;this.mousedownEvent=e;var editor=this.editor;var inSelection=e.inSelection();var button=e.getButton();var clickCount=e.domEvent.detail||1;if(clickCount===1&&button===0&&inSelection){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var eventTarget=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in eventTarget)eventTarget.unselectable="on";if(editor.getDragDelay()){if(useragent.isWebKit){this.cancelDrag=true;var mouseTarget=editor.container;mouseTarget.draggable=true}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this));e.defaultPrevented=true}}}).call(DragdropHandler.prototype);function calcDistance(ax,ay,bx,by){return Math.sqrt(Math.pow(bx-ax,2)+Math.pow(by-ay,2))}exports.DragdropHandler=DragdropHandler});ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(acequire,exports,module){var dom=acequire("./dom");exports.get=function(url,callback){var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.onreadystatechange=function(){if(xhr.readyState===4)callback(xhr.responseText)};xhr.send(null)};exports.loadScript=function(path,callback){var head=dom.getDocumentHead();var s=document.createElement("script");s.src=path;head.appendChild(s);s.onload=s.onreadystatechange=function(_,isAbort){if(isAbort||!s.readyState||s.readyState=="loaded"||s.readyState=="complete"){s=s.onload=s.onreadystatechange=null;if(!isAbort)callback()}}};exports.qualifyURL=function(url){var a=document.createElement("a");a.href=url;return a.href}});ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports,module){var EventEmitter={};var stopPropagation=function(){this.propagationStopped=true};var preventDefault=function(){this.defaultPrevented=true};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={});this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[];var defaultHandler=this._defaultHandlers[eventName];if(!listeners.length&&!defaultHandler)return;if(typeof e!="object"||!e)e={};if(!e.type)e.type=eventName;if(!e.stopPropagation)e.stopPropagation=stopPropagation;if(!e.preventDefault)e.preventDefault=preventDefault;listeners=listeners.slice();for(var i=0;i<listeners.length;i++){listeners[i](e,this);if(e.propagationStopped)break}if(defaultHandler&&!e.defaultPrevented)return defaultHandler(e,this)};EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(!listeners)return;listeners=listeners.slice();for(var i=0;i<listeners.length;i++)listeners[i](e,this)};EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback);callback.apply(null,arguments)})};EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(!handlers)handlers=this._defaultHandlers={_disabled_:{}};if(handlers[eventName]){var old=handlers[eventName];var disabled=handlers._disabled_[eventName];if(!disabled)handlers._disabled_[eventName]=disabled=[];disabled.push(old);var i=disabled.indexOf(callback);if(i!=-1)disabled.splice(i,1)}handlers[eventName]=callback};EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(!handlers)return;var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback){var old=handlers[eventName];if(disabled)this.setDefaultHandler(eventName,disabled.pop())}else if(disabled){var i=disabled.indexOf(callback);if(i!=-1)disabled.splice(i,1)}};EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(!listeners)listeners=this._eventRegistry[eventName]=[];if(listeners.indexOf(callback)==-1)listeners[capturing?"unshift":"push"](callback);return callback};EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(!listeners)return;var index=listeners.indexOf(callback);if(index!==-1)listeners.splice(index,1)};EventEmitter.removeAllListeners=function(eventName){if(this._eventRegistry)this._eventRegistry[eventName]=[]};exports.EventEmitter=EventEmitter});ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports,module){"no use strict";var oop=acequire("./oop");var EventEmitter=acequire("./event_emitter").EventEmitter;var optionsProvider={setOptions:function(optList){Object.keys(optList).forEach(function(key){this.setOption(key,optList[key])},this)},getOptions:function(optionNames){var result={};if(!optionNames)optionNames=Object.keys(this.$options);else if(!Array.isArray(optionNames)){result=optionNames;optionNames=Object.keys(result)}optionNames.forEach(function(key){result[key]=this.getOption(key)},this);return result},setOption:function(name,value){if(this["$"+name]===value)return;var opt=this.$options[name];if(!opt)return warn('misspelled option "'+name+'"');if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].setOption(name,value);if(!opt.handlesSet)this["$"+name]=value;if(opt&&opt.set)opt.set.call(this,value)},getOption:function(name){var opt=this.$options[name];if(!opt)return warn('misspelled option "'+name+'"');if(opt.forwardTo)return this[opt.forwardTo]&&this[opt.forwardTo].getOption(name);return opt&&opt.get?opt.get.call(this):this["$"+name]}};function warn(message){if(typeof console!="undefined"&&console.warn)console.warn.apply(console,arguments)}function reportError(msg,data){var e=new Error(msg);e.data=data;if(typeof console=="object"&&console.error)console.error(e);setTimeout(function(){throw e;})}var AppConfig=function(){this.$defaultOptions={}};(function(){oop.implement(this,EventEmitter);this.defineOptions=function(obj,path,options){if(!obj.$options)this.$defaultOptions[path]=obj.$options={};Object.keys(options).forEach(function(key){var opt=options[key];if(typeof opt=="string")opt={forwardTo:opt};opt.name||(opt.name=key);obj.$options[opt.name]=opt;if("initialValue"in opt)obj["$"+opt.name]=opt.initialValue});oop.implement(obj,optionsProvider);return this};this.resetOptions=function(obj){Object.keys(obj.$options).forEach(function(key){var opt=obj.$options[key];if("value"in opt)obj.setOption(key,opt.value)})};this.setDefaultValue=function(path,name,value){var opts=this.$defaultOptions[path]||(this.$defaultOptions[path]={});if(opts[name])if(opts.forwardTo)this.setDefaultValue(opts.forwardTo,name,value);else opts[name].value=value};this.setDefaultValues=function(path,optionHash){Object.keys(optionHash).forEach(function(key){this.setDefaultValue(path,key,optionHash[key])},this)};this.warn=warn;this.reportError=reportError}).call(AppConfig.prototype);exports.AppConfig=AppConfig});ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(acequire,exports,module){"no use strict";var lang=acequire("./lib/lang");var oop=acequire("./lib/oop");var net=acequire("./lib/net");var AppConfig=acequire("./lib/app_config").AppConfig;module.exports=exports=new AppConfig;var global=function(){return this||typeof window!="undefined"&&window}();var options={packaged:false,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};exports.get=function(key){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);return options[key]};exports.set=function(key,value){if(!options.hasOwnProperty(key))throw new Error("Unknown config key: "+key);options[key]=value};exports.all=function(){return lang.copyObject(options)};exports.moduleUrl=function(name,component){if(options.$moduleUrls[name])return options.$moduleUrls[name];var parts=name.split("/");component=component||parts[parts.length-2]||"";var sep=component=="snippets"?"/":"-";var base=parts[parts.length-1];if(component=="worker"&&sep=="-"){var re=new RegExp("^"+component+"[\\-_]|[\\-_]"+component+"$","g");base=base.replace(re,"")}if((!base||base==component)&&parts.length>1)base=parts[parts.length-2];var path=options[component+"Path"];if(path==null)path=options.basePath;else if(sep=="/")component=sep="";if(path&&path.slice(-1)!="/")path+="/";return path+component+sep+base+this.get("suffix")};exports.setModuleUrl=function(name,subst){return options.$moduleUrls[name]=subst};exports.$loading={};exports.loadModule=function(moduleName,onLoad){var module,moduleType;if(Array.isArray(moduleName)){moduleType=moduleName[0];moduleName=moduleName[1]}try{module=acequire(moduleName)}catch(e){}if(module&&!exports.$loading[moduleName])return onLoad&&onLoad(module);if(!exports.$loading[moduleName])exports.$loading[moduleName]=[];exports.$loading[moduleName].push(onLoad);if(exports.$loading[moduleName].length>1)return;var afterLoad=function(){acequire([moduleName],function(module){exports._emit("load.module",{name:moduleName,module:module});var listeners=exports.$loading[moduleName];exports.$loading[moduleName]=null;listeners.forEach(function(onLoad){onLoad&&onLoad(module)})})};if(!exports.get("packaged"))return afterLoad();net.loadScript(exports.moduleUrl(moduleName,moduleType),afterLoad)};init(true);function init(packaged){if(!global||!global.document)return;options.packaged=packaged||acequire.packaged||module.packaged||global.define&&__webpack_require__(53).packaged;var scriptOptions={};var scriptUrl="";var currentScript=document.currentScript||document._currentScript;var currentDocument=currentScript&&currentScript.ownerDocument||document;var scripts=currentDocument.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var script=scripts[i];var src=script.src||script.getAttribute("src");if(!src)continue;var attributes=script.attributes;for(var j=0,l=attributes.length;j<l;j++){var attr=attributes[j];if(attr.name.indexOf("data-ace-")===0)scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/,""))]=attr.value}var m=src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);if(m)scriptUrl=m[1]}if(scriptUrl){scriptOptions.base=scriptOptions.base||scriptUrl;scriptOptions.packaged=true}scriptOptions.basePath=scriptOptions.base;scriptOptions.workerPath=scriptOptions.workerPath||scriptOptions.base;scriptOptions.modePath=scriptOptions.modePath||scriptOptions.base;scriptOptions.themePath=scriptOptions.themePath||scriptOptions.base;delete scriptOptions.base;for(var key in scriptOptions)if(typeof scriptOptions[key]!=="undefined")exports.set(key,scriptOptions[key])}exports.init=init;function deHyphenate(str){return str.replace(/-(.)/g,function(m,m1){return m1.toUpperCase()})}});ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(acequire,exports,module){var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");var DefaultHandlers=acequire("./default_handlers").DefaultHandlers;var DefaultGutterHandler=acequire("./default_gutter_handler").GutterHandler;var MouseEvent=acequire("./mouse_event").MouseEvent;var DragdropHandler=acequire("./dragdrop_handler").DragdropHandler;var config=acequire("../config");var MouseHandler=function(editor){var _self=this;this.editor=editor;new DefaultHandlers(this);new DefaultGutterHandler(this);new DragdropHandler(this);var focusEditor=function(e){var windowBlurred=!document.hasFocus||!document.hasFocus()||!editor.isFocused()&&document.activeElement==(editor.textInput&&editor.textInput.getElement());if(windowBlurred)window.focus();editor.focus()};var mouseTarget=editor.renderer.getMouseEventTarget();event.addListener(mouseTarget,"click",this.onMouseEvent.bind(this,"click"));event.addListener(mouseTarget,"mousemove",this.onMouseMove.bind(this,"mousemove"));event.addMultiMouseDownListener([mouseTarget,editor.renderer.scrollBarV&&editor.renderer.scrollBarV.inner,editor.renderer.scrollBarH&&editor.renderer.scrollBarH.inner,editor.textInput&&editor.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent");event.addMouseWheelListener(editor.container,this.onMouseWheel.bind(this,"mousewheel"));event.addTouchMoveListener(editor.container,this.onTouchMove.bind(this,"touchmove"));var gutterEl=editor.renderer.$gutter;event.addListener(gutterEl,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));event.addListener(gutterEl,"click",this.onMouseEvent.bind(this,"gutterclick"));event.addListener(gutterEl,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"));event.addListener(gutterEl,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"));event.addListener(mouseTarget,"mousedown",focusEditor);event.addListener(gutterEl,"mousedown",focusEditor);if(useragent.isIE&&editor.renderer.scrollBarV){event.addListener(editor.renderer.scrollBarV.element,"mousedown",focusEditor);event.addListener(editor.renderer.scrollBarH.element,"mousedown",focusEditor)}editor.on("mousemove",function(e){if(_self.state||_self.$dragDelay||!_self.$dragEnabled)return;var character=editor.renderer.screenToTextCoordinates(e.x,e.y);var range=editor.session.selection.getRange();var renderer=editor.renderer;if(!range.isEmpty()&&range.insideStart(character.row,character.column))renderer.setCursorStyle("default");else renderer.setCursorStyle("")})};(function(){this.onMouseEvent=function(name,e){this.editor._emit(name,new MouseEvent(e,this.editor))};this.onMouseMove=function(name,e){var listeners=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!listeners||!listeners.length)return;this.editor._emit(name,new MouseEvent(e,this.editor))};this.onMouseWheel=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=this.$scrollSpeed*2;mouseEvent.wheelX=e.wheelX;mouseEvent.wheelY=e.wheelY;this.editor._emit(name,mouseEvent)};this.onTouchMove=function(name,e){var mouseEvent=new MouseEvent(e,this.editor);mouseEvent.speed=1;mouseEvent.wheelX=e.wheelX;mouseEvent.wheelY=e.wheelY;this.editor._emit(name,mouseEvent)};this.setState=function(state){this.state=state};this.captureMouse=function(ev,mouseMoveHandler){this.x=ev.x;this.y=ev.y;this.isMousePressed=true;var renderer=this.editor.renderer;if(renderer.$keepTextAreaAtCursor)renderer.$keepTextAreaAtCursor=null;var self=this;var onMouseMove=function(e){if(!e)return;if(useragent.isWebKit&&!e.which&&self.releaseMouse)return self.releaseMouse();self.x=e.clientX;self.y=e.clientY;mouseMoveHandler&&mouseMoveHandler(e);self.mouseEvent=new MouseEvent(e,self.editor);self.$mouseMoved=true};var onCaptureEnd=function(e){clearInterval(timerId);onCaptureInterval();self[self.state+"End"]&&self[self.state+"End"](e);self.state="";if(renderer.$keepTextAreaAtCursor==null){renderer.$keepTextAreaAtCursor=true;renderer.$moveTextAreaToCursor()}self.isMousePressed=false;self.$onCaptureMouseMove=self.releaseMouse=null;e&&self.onMouseEvent("mouseup",e)};var onCaptureInterval=function(){self[self.state]&&self[self.state]();self.$mouseMoved=false};if(useragent.isOldIE&&ev.domEvent.type=="dblclick")return setTimeout(function(){onCaptureEnd(ev)});self.$onCaptureMouseMove=onMouseMove;self.releaseMouse=event.capture(this.editor.container,onMouseMove,onCaptureEnd);var timerId=setInterval(onCaptureInterval,20)};this.releaseMouse=null;this.cancelContextMenu=function(){var stop=function(e){if(e&&e.domEvent&&e.domEvent.type!="contextmenu")return;this.editor.off("nativecontextmenu",stop);if(e&&e.domEvent)event.stopEvent(e.domEvent)}.bind(this);setTimeout(stop,10);this.editor.on("nativecontextmenu",stop)}}).call(MouseHandler.prototype);config.defineOptions(MouseHandler.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:useragent.isMac?150:0},dragEnabled:{initialValue:true},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:true}});exports.MouseHandler=MouseHandler});ace.define("ace/mouse/fold_handler",["require","exports","module"],function(acequire,exports,module){function FoldHandler(editor){editor.on("click",function(e){var position=e.getDocumentPosition();var session=editor.session;var fold=session.getFoldAt(position.row,position.column,1);if(fold){if(e.getAccelKey())session.removeFold(fold);else session.expandFold(fold);e.stop()}});editor.on("gutterclick",function(e){var gutterRegion=editor.renderer.$gutterLayer.getRegion(e);if(gutterRegion=="foldWidgets"){var row=e.getDocumentPosition().row;var session=editor.session;if(session.foldWidgets&&session.foldWidgets[row])editor.session.onFoldWidgetClick(row,e);if(!editor.isFocused())editor.focus();e.stop()}});editor.on("gutterdblclick",function(e){var gutterRegion=editor.renderer.$gutterLayer.getRegion(e);if(gutterRegion=="foldWidgets"){var row=e.getDocumentPosition().row;var session=editor.session;var data=session.getParentFoldRangeData(row,true);var range=data.range||data.firstRange;if(range){row=range.start.row;var fold=session.getFoldAt(row,session.getLine(row).length,1);if(fold)session.removeFold(fold);else{session.addFold("...",range);editor.renderer.scrollCursorIntoView({row:range.start.row,column:0})}}e.stop()}})}exports.FoldHandler=FoldHandler});ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(acequire,exports,module){var keyUtil=acequire("../lib/keys");var event=acequire("../lib/event");var KeyBinding=function(editor){this.$editor=editor;this.$data={editor:editor};this.$handlers=[];this.setDefaultHandler(editor.commands)};(function(){this.setDefaultHandler=function(kb){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=kb;this.addKeyboardHandler(kb,0)};this.setKeyboardHandler=function(kb){var h=this.$handlers;if(h[h.length-1]==kb)return;while(h[h.length-1]&&h[h.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(h[h.length-1]);this.addKeyboardHandler(kb,1)};this.addKeyboardHandler=function(kb,pos){if(!kb)return;if(typeof kb=="function"&&!kb.handleKeyboard)kb.handleKeyboard=kb;var i=this.$handlers.indexOf(kb);if(i!=-1)this.$handlers.splice(i,1);if(pos==undefined)this.$handlers.push(kb);else this.$handlers.splice(pos,0,kb);if(i==-1&&kb.attach)kb.attach(this.$editor)};this.removeKeyboardHandler=function(kb){var i=this.$handlers.indexOf(kb);if(i==-1)return false;this.$handlers.splice(i,1);kb.detach&&kb.detach(this.$editor);return true};this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]};this.getStatusText=function(){var data=this.$data;var editor=data.editor;return this.$handlers.map(function(h){return h.getStatusText&&h.getStatusText(editor,data)||""}).filter(Boolean).join(" ")};this.$callKeyboardHandlers=function(hashId,keyString,keyCode,e){var toExecute;var success=false;var commands=this.$editor.commands;for(var i=this.$handlers.length;i--;){toExecute=this.$handlers[i].handleKeyboard(this.$data,hashId,keyString,keyCode,e);if(!toExecute||!toExecute.command)continue;if(toExecute.command=="null")success=true;else success=commands.exec(toExecute.command,this.$editor,toExecute.args,e);if(success&&e&&hashId!=-1&&toExecute.passEvent!=true&&toExecute.command.passEvent!=true)event.stopEvent(e);if(success)break}if(!success&&hashId==-1){toExecute={command:"insertstring"};success=commands.exec("insertstring",this.$editor,keyString)}if(success&&this.$editor._signal)this.$editor._signal("keyboardActivity",toExecute);return success};this.onCommandKey=function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);this.$callKeyboardHandlers(hashId,keyString,keyCode,e)};this.onTextInput=function(text){this.$callKeyboardHandlers(-1,text)}}).call(KeyBinding.prototype);exports.KeyBinding=KeyBinding});ace.define("ace/lib/bidiutil",["require","exports","module"],function(acequire,exports,module){var ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];var ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];var dir=0,hiLevel=0;var lastArabic=false,hasUBAT_AL=false,hasUBAT_B=false,hasUBAT_S=false,hasBlockSep=false,hasSegSep=false;var impTab_LTR=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];var impTab_RTL=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];var LTR=0,RTL=1;var L=0;var R=1;var EN=2;var AN=3;var ON=4;var B=5;var S=6;var AL=7;var WS=8;var CS=9;var ES=10;var ET=11;var NSM=12;var LRE=13;var RLE=14;var PDF=15;var LRO=16;var RLO=17;var BN=18;var UnicodeTBL00=[BN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,WS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,EN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,BN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,CS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,ET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON];var UnicodeTBL20=[WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,ET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS];function _computeLevels(chars,levels,len,charTypes){var impTab=dir?impTab_RTL:impTab_LTR,prevState=null,newClass=null,newLevel=null,newState=0,action=null,cond=null,condPos=-1,i=null,ix=null,classes=[];if(!charTypes)for(i=0,charTypes=[];i<len;i++)charTypes[i]=_getCharacterType(chars[i]);hiLevel=dir;lastArabic=false;hasUBAT_AL=false;hasUBAT_B=false;hasUBAT_S=false;for(ix=0;ix<len;ix++){prevState=newState;classes[ix]=newClass=_getCharClass(chars,charTypes,classes,ix);newState=impTab[prevState][newClass];action=newState&240;newState&=15;levels[ix]=newLevel=impTab[newState][5];if(action>0)if(action==16){for(i=condPos;i<ix;i++)levels[i]=1;condPos=-1}else condPos=-1;cond=impTab[newState][6];if(cond){if(condPos==-1)condPos=ix}else if(condPos>-1){for(i=condPos;i<ix;i++)levels[i]=newLevel;condPos=-1}if(charTypes[ix]==B)levels[ix]=0;hiLevel|=newLevel}if(hasUBAT_S)for(i=0;i<len;i++)if(charTypes[i]==S){levels[i]=dir;for(var j=i-1;j>=0;j--)if(charTypes[j]==WS)levels[j]=dir;else break}}function _invertLevel(lev,levels,_array){if(hiLevel<lev)return;if(lev==1&&dir==RTL&&!hasUBAT_B){_array.reverse();return}var len=_array.length,start=0,end,lo,hi,tmp;while(start<len){if(levels[start]>=lev){end=start+1;while(end<len&&levels[end]>=lev)end++;for(lo=start,hi=end-1;lo<hi;lo++,hi--){tmp=_array[lo];_array[lo]=_array[hi];_array[hi]=tmp}start=end}start++}}function _getCharClass(chars,types,classes,ix){var cType=types[ix],wType,nType,len,i;switch(cType){case L:case R:lastArabic=false;case ON:case AN:return cType;case EN:return lastArabic?AN:EN;case AL:lastArabic=true;hasUBAT_AL=true;return R;case WS:return ON;case CS:if(ix<1||ix+1>=types.length||(wType=classes[ix-1])!=EN&&wType!=AN||(nType=types[ix+1])!=EN&&nType!=AN)return ON;if(lastArabic)nType=AN;return nType==wType?nType:ON;case ES:wType=ix>0?classes[ix-1]:B;if(wType==EN&&ix+1<types.length&&types[ix+1]==EN)return EN;return ON;case ET:if(ix>0&&classes[ix-1]==EN)return EN;if(lastArabic)return ON;i=ix+1;len=types.length;while(i<len&&types[i]==ET)i++;if(i<len&&types[i]==EN)return EN;return ON;case NSM:len=types.length;i=ix+1;while(i<len&&types[i]==NSM)i++;if(i<len){var c=chars[ix],rtlCandidate=c>=1425&&c<=2303||c==64286;wType=types[i];if(rtlCandidate&&(wType==R||wType==AL))return R}if(ix<1||(wType=types[ix-1])==B)return ON;return classes[ix-1];case B:lastArabic=false;hasUBAT_B=true;return dir;case S:hasUBAT_S=true;return ON;case LRE:case RLE:case LRO:case RLO:case PDF:lastArabic=false;case BN:return ON}}function _getCharacterType(ch){var uc=ch.charCodeAt(0),hi=uc>>8;if(hi==0)return uc>191?L:UnicodeTBL00[uc];else if(hi==5)return/[\u0591-\u05f4]/.test(ch)?R:L;else if(hi==6)if(/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))return NSM;else if(/[\u0660-\u0669\u066b-\u066c]/.test(ch))return AN;else if(uc==1642)return ET;else if(/[\u06f0-\u06f9]/.test(ch))return EN;else return AL;else if(hi==32&&uc<=8287)return UnicodeTBL20[uc&255];else if(hi==254)return uc>=65136?AL:ON;return ON}function _isArabicDiacritics(ch){return ch>="\u064b"&&ch<="\u0655"}exports.L=L;exports.R=R;exports.EN=EN;exports.ON_R=3;exports.AN=4;exports.R_H=5;exports.B=6;exports.DOT="\u00b7";exports.doBidiReorder=function(text,textCharTypes,isRtl){if(text.length<2)return{};var chars=text.split(""),logicalFromVisual=new Array(chars.length),bidiLevels=new Array(chars.length),levels=[];dir=isRtl?RTL:LTR;_computeLevels(chars,levels,chars.length,textCharTypes);for(var i=0;i<logicalFromVisual.length;logicalFromVisual[i]=i,i++);_invertLevel(2,levels,logicalFromVisual);_invertLevel(1,levels,logicalFromVisual);for(var i=0;i<logicalFromVisual.length-1;i++)if(textCharTypes[i]===AN)levels[i]=exports.AN;else if(levels[i]===R&&(textCharTypes[i]>AL&&textCharTypes[i]<LRE||textCharTypes[i]===ON||textCharTypes[i]===BN))levels[i]=exports.ON_R;else if(i>0&&chars[i-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(chars[i])){levels[i-1]=levels[i]=exports.R_H;i++}if(chars[chars.length-1]===exports.DOT)levels[chars.length-1]=exports.B;for(var i=0;i<logicalFromVisual.length;i++)bidiLevels[i]=levels[logicalFromVisual[i]];return{"logicalFromVisual":logicalFromVisual,"bidiLevels":bidiLevels}};exports.hasBidiCharacters=function(text,textCharTypes){var ret=false;for(var i=0;i<text.length;i++){textCharTypes[i]=_getCharacterType(text.charAt(i));if(!ret&&(textCharTypes[i]==R||textCharTypes[i]==AL))ret=true}return ret};exports.getVisualFromLogicalIdx=function(logIdx,rowMap){for(var i=0;i<rowMap.logicalFromVisual.length;i++)if(rowMap.logicalFromVisual[i]==logIdx)return i;return 0}});ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(acequire,exports,module){var bidiUtil=acequire("./lib/bidiutil");var lang=acequire("./lib/lang");var useragent=acequire("./lib/useragent");var bidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var BidiHandler=function(session){this.session=session;this.bidiMap={};this.currentRow=null;this.bidiUtil=bidiUtil;this.charWidths=[];this.EOL="\u00ac";this.showInvisibles=true;this.isRtlDir=false;this.line="";this.wrapIndent=0;this.isLastRow=false;this.EOF="\u00b6";this.seenBidi=false};(function(){this.isBidiRow=function(screenRow,docRow,splitIndex){if(!this.seenBidi)return false;if(screenRow!==this.currentRow){this.currentRow=screenRow;this.updateRowLine(docRow,splitIndex);this.updateBidiMap()}return this.bidiMap.bidiLevels};this.onChange=function(delta){if(!this.seenBidi){if(delta.action=="insert"&&bidiRE.test(delta.lines.join("\n"))){this.seenBidi=true;this.currentRow=null}}else this.currentRow=null};this.getDocumentRow=function(){var docRow=0;var rowCache=this.session.$screenRowCache;if(rowCache.length){var index=this.session.$getRowCacheIndex(rowCache,this.currentRow);if(index>=0)docRow=this.session.$docRowCache[index]}return docRow};this.getSplitIndex=function(){var splitIndex=0;var rowCache=this.session.$screenRowCache;if(rowCache.length){var currentIndex,prevIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow);while(this.currentRow-splitIndex>0){currentIndex=this.session.$getRowCacheIndex(rowCache,this.currentRow-splitIndex-1);if(currentIndex!==prevIndex)break;prevIndex=currentIndex;splitIndex++}}return splitIndex};this.updateRowLine=function(docRow,splitIndex){if(docRow===undefined)docRow=this.getDocumentRow();this.wrapIndent=0;this.isLastRow=docRow===this.session.getLength()-1;this.line=this.session.getLine(docRow);if(this.session.$useWrapMode){var splits=this.session.$wrapData[docRow];if(splits){if(splitIndex===undefined)splitIndex=this.getSplitIndex();if(splitIndex>0&&splits.length){this.wrapIndent=splits.indent;this.line=splitIndex<splits.length?this.line.substring(splits[splitIndex-1],splits[splits.length-1]):this.line.substring(splits[splits.length-1])}else this.line=this.line.substring(0,splits[splitIndex])}}var session=this.session,shift=0,size;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(ch,i){if(ch==="\t"||session.isFullWidth(ch.charCodeAt(0))){size=ch==="\t"?session.getScreenTabSize(i+shift):2;shift+=size-1;return lang.stringRepeat(bidiUtil.DOT,size)}return ch})};this.updateBidiMap=function(){var textCharTypes=[],endOfLine=this.isLastRow?this.EOF:this.EOL;var line=this.line+(this.showInvisibles?endOfLine:bidiUtil.DOT);if(bidiUtil.hasBidiCharacters(line,textCharTypes))this.bidiMap=bidiUtil.doBidiReorder(line,textCharTypes,this.isRtlDir);else this.bidiMap={}};this.markAsDirty=function(){this.currentRow=null};this.updateCharacterWidths=function(fontMetrics){if(!this.seenBidi)return;if(this.characterWidth===fontMetrics.$characterSize.width)return;var characterWidth=this.characterWidth=fontMetrics.$characterSize.width;var bidiCharWidth=fontMetrics.$measureCharWidth("\u05d4");this.charWidths[bidiUtil.L]=this.charWidths[bidiUtil.EN]=this.charWidths[bidiUtil.ON_R]=characterWidth;this.charWidths[bidiUtil.R]=this.charWidths[bidiUtil.AN]=bidiCharWidth;this.charWidths[bidiUtil.R_H]=useragent.isChrome?bidiCharWidth:bidiCharWidth*.45;this.charWidths[bidiUtil.B]=0;this.currentRow=null};this.getShowInvisibles=function(){return this.showInvisibles};this.setShowInvisibles=function(showInvisibles){this.showInvisibles=showInvisibles;this.currentRow=null};this.setEolChar=function(eolChar){this.EOL=eolChar};this.setTextDir=function(isRtlDir){this.isRtlDir=isRtlDir};this.getPosLeft=function(col){col-=this.wrapIndent;var visualIdx=bidiUtil.getVisualFromLogicalIdx(col>0?col-1:0,this.bidiMap),levels=this.bidiMap.bidiLevels,left=0;if(col===0&&levels[visualIdx]%2!==0)visualIdx++;for(var i=0;i<visualIdx;i++)left+=this.charWidths[levels[i]];if(col!==0&&levels[visualIdx]%2===0)left+=this.charWidths[levels[visualIdx]];if(this.wrapIndent)left+=this.wrapIndent*this.charWidths[bidiUtil.L];return left};this.getSelections=function(startCol,endCol){var map=this.bidiMap,levels=map.bidiLevels,level,offset=this.wrapIndent*this.charWidths[bidiUtil.L],selections=[],selColMin=Math.min(startCol,endCol)-this.wrapIndent,selColMax=Math.max(startCol,endCol)-this.wrapIndent,isSelected=false,isSelectedPrev=false,selectionStart=0;for(var logIdx,visIdx=0;visIdx<levels.length;visIdx++){logIdx=map.logicalFromVisual[visIdx];level=levels[visIdx];isSelected=logIdx>=selColMin&&logIdx<selColMax;if(isSelected&&!isSelectedPrev)selectionStart=offset;else if(!isSelected&&isSelectedPrev)selections.push({left:selectionStart,width:offset-selectionStart});offset+=this.charWidths[level];isSelectedPrev=isSelected}if(isSelected&&visIdx===levels.length)selections.push({left:selectionStart,width:offset-selectionStart});return selections};this.offsetToCol=function(posX){var logicalIdx=0,posX=Math.max(posX,0),offset=0,visualIdx=0,levels=this.bidiMap.bidiLevels,charWidth=this.charWidths[levels[visualIdx]];if(this.wrapIndent)posX-=this.wrapIndent*this.charWidths[bidiUtil.L];while(posX>offset+charWidth/2){offset+=charWidth;if(visualIdx===levels.length-1){charWidth=0;break}charWidth=this.charWidths[levels[++visualIdx]]}if(visualIdx>0&&levels[visualIdx-1]%2!==0&&levels[visualIdx]%2===0){if(posX<offset)visualIdx--;logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]}else if(visualIdx>0&&levels[visualIdx-1]%2===0&&levels[visualIdx]%2!==0)logicalIdx=1+(posX>offset?this.bidiMap.logicalFromVisual[visualIdx]:this.bidiMap.logicalFromVisual[visualIdx-1]);else if(this.isRtlDir&&visualIdx===levels.length-1&&charWidth===0&&levels[visualIdx-1]%2===0||!this.isRtlDir&&visualIdx===0&&levels[visualIdx]%2!==0)logicalIdx=1+this.bidiMap.logicalFromVisual[visualIdx];else{if(visualIdx>0&&levels[visualIdx-1]%2!==0&&charWidth!==0)visualIdx--;logicalIdx=this.bidiMap.logicalFromVisual[visualIdx]}return logicalIdx+this.wrapIndent}}).call(BidiHandler.prototype);exports.BidiHandler=BidiHandler});ace.define("ace/range",["require","exports","module"],function(acequire,exports,module){var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column};var Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn};this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -\x3e ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(row,column){return this.compare(row,column)==0};this.compareRange=function(range){var cmp,end=range.end,start=range.start;cmp=this.compare(end.row,end.column);if(cmp==1){cmp=this.compare(start.row,start.column);if(cmp==1)return 2;else if(cmp==0)return 1;else return 0}else if(cmp==-1)return-2;else{cmp=this.compare(start.row,start.column);if(cmp==-1)return-1;else if(cmp==1)return 42;else return 0}};this.comparePoint=function(p){return this.compare(p.row,p.column)};this.containsRange=function(range){return this.comparePoint(range.start)==0&&this.comparePoint(range.end)==0};this.intersects=function(range){var cmp=this.compareRange(range);return cmp==-1||cmp==0||cmp==1};this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column};this.isStart=function(row,column){return this.start.row==row&&this.start.column==column};this.setStart=function(row,column){if(typeof row=="object"){this.start.column=row.column;this.start.row=row.row}else{this.start.row=row;this.start.column=column}};this.setEnd=function(row,column){if(typeof row=="object"){this.end.column=row.column;this.end.row=row.row}else{this.end.row=row;this.end.column=column}};this.inside=function(row,column){if(this.compare(row,column)==0)if(this.isEnd(row,column)||this.isStart(row,column))return false;else return true;return false};this.insideStart=function(row,column){if(this.compare(row,column)==0)if(this.isEnd(row,column))return false;else return true;return false};this.insideEnd=function(row,column){if(this.compare(row,column)==0)if(this.isStart(row,column))return false;else return true;return false};this.compare=function(row,column){if(!this.isMultiLine())if(row===this.start.row)return column<this.start.column?-1:column>this.end.column?1:0;if(row<this.start.row)return-1;if(row>this.end.row)return 1;if(this.start.row===row)return column>=this.start.column?0:-1;if(this.end.row===row)return column<=this.end.column?0:1;return 0};this.compareStart=function(row,column){if(this.start.row==row&&this.start.column==column)return-1;else return this.compare(row,column)};this.compareEnd=function(row,column){if(this.end.row==row&&this.end.column==column)return 1;else return this.compare(row,column)};this.compareInside=function(row,column){if(this.end.row==row&&this.end.column==column)return 1;else if(this.start.row==row&&this.start.column==column)return-1;else return this.compare(row,column)};this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(this.end.row<firstRow)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(this.start.row<firstRow)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)};this.extend=function(row,column){var cmp=this.compare(row,column);if(cmp==0)return this;else if(cmp==-1)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)};this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return Range.fromPoints(this.start,this.end)};this.collapseRows=function(){if(this.end.column==0)return new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0);else return new Range(this.start.row,0,this.end.row,0)};this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start);var screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)};this.moveBy=function(row,column){this.start.row+=row;this.start.column+=column;this.end.row+=row;this.end.column+=column}}).call(Range.prototype);Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)};Range.comparePoints=comparePoints;Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column};exports.Range=Range});ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(acequire,exports,module){var oop=acequire("./lib/oop");var lang=acequire("./lib/lang");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var Range=acequire("./range").Range;var Selection=function(session){this.session=session;this.doc=session.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var self=this;this.lead.on("change",function(e){self._emit("changeCursor");if(!self.$isEmpty)self._emit("changeSelection");if(!self.$keepDesiredColumnOnChange&&e.old.column!=e.value.column)self.$desiredColumn=null});this.selectionAnchor.on("change",function(){if(!self.$isEmpty)self._emit("changeSelection")})};(function(){oop.implement(this,EventEmitter);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){if(this.isEmpty())return false;return this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(row,column){this.anchor.setPosition(row,column);if(this.$isEmpty){this.$isEmpty=false;this._emit("changeSelection")}};this.getSelectionAnchor=function(){if(this.$isEmpty)return this.getSelectionLead();else return this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(columns){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+columns);return}var anchor=this.getSelectionAnchor();var lead=this.getSelectionLead();var isBackwards=this.isBackwards();if(!isBackwards||anchor.column!==0)this.setSelectionAnchor(anchor.row,anchor.column+columns);if(isBackwards||lead.column!==0)this.$moveSelection(function(){this.moveCursorTo(lead.row,lead.column+columns)})};this.isBackwards=function(){var anchor=this.anchor;var lead=this.lead;return anchor.row>lead.row||anchor.row==lead.row&&anchor.column>lead.column};this.getRange=function(){var anchor=this.anchor;var lead=this.lead;if(this.isEmpty())return Range.fromPoints(lead,lead);if(this.isBackwards())return Range.fromPoints(lead,anchor);else return Range.fromPoints(anchor,lead)};this.clearSelection=function(){if(!this.$isEmpty){this.$isEmpty=true;this._emit("changeSelection")}};this.selectAll=function(){var lastRow=this.doc.getLength()-1;this.setSelectionAnchor(0,0);this.moveCursorTo(lastRow,this.doc.getLine(lastRow).length)};this.setRange=this.setSelectionRange=function(range,reverse){if(reverse){this.setSelectionAnchor(range.end.row,range.end.column);this.selectTo(range.start.row,range.start.column)}else{this.setSelectionAnchor(range.start.row,range.start.column);this.selectTo(range.end.row,range.end.column)}if(this.getRange().isEmpty())this.$isEmpty=true;this.$desiredColumn=null};this.$moveSelection=function(mover){var lead=this.lead;if(this.$isEmpty)this.setSelectionAnchor(lead.row,lead.column);mover.call(this)};this.selectTo=function(row,column){this.$moveSelection(function(){this.moveCursorTo(row,column)})};this.selectToPosition=function(pos){this.$moveSelection(function(){this.moveCursorToPosition(pos)})};this.moveTo=function(row,column){this.clearSelection();this.moveCursorTo(row,column)};this.moveToPosition=function(pos){this.clearSelection();this.moveCursorToPosition(pos)};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(row,column){if(typeof column=="undefined"){var cursor=row||this.lead;row=cursor.row;column=cursor.column}return this.session.getWordRange(row,column)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};this.selectAWord=function(){var cursor=this.getCursor();var range=this.session.getAWordRange(cursor.row,cursor.column);this.setSelectionRange(range)};this.getLineRange=function(row,excludeLastChar){var rowStart=typeof row=="number"?row:this.lead.row;var rowEnd;var foldLine=this.session.getFoldLine(rowStart);if(foldLine){rowStart=foldLine.start.row;rowEnd=foldLine.end.row}else rowEnd=rowStart;if(excludeLastChar===true)return new Range(rowStart,0,rowEnd,this.session.getLine(rowEnd).length);else return new Range(rowStart,0,rowEnd+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,0)};this.wouldMoveIntoSoftTab=function(cursor,tabSize,direction){var start=cursor.column;var end=cursor.column+tabSize;if(direction<0){start=cursor.column-tabSize;end=cursor.column}return this.session.isTabStop(cursor)&&this.doc.getLine(cursor.row).slice(start,end).split(" ").length-1==tabSize};this.moveCursorLeft=function(){var cursor=this.lead.getPosition(),fold;if(fold=this.session.getFoldAt(cursor.row,cursor.column,-1))this.moveCursorTo(fold.start.row,fold.start.column);else if(cursor.column===0){if(cursor.row>0)this.moveCursorTo(cursor.row-1,this.doc.getLine(cursor.row-1).length)}else{var tabSize=this.session.getTabSize();if(this.wouldMoveIntoSoftTab(cursor,tabSize,-1)&&!this.session.getNavigateWithinSoftTabs())this.moveCursorBy(0,-tabSize);else this.moveCursorBy(0,-1)}};this.moveCursorRight=function(){var cursor=this.lead.getPosition(),fold;if(fold=this.session.getFoldAt(cursor.row,cursor.column,1))this.moveCursorTo(fold.end.row,fold.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length){if(this.lead.row<this.doc.getLength()-1)this.moveCursorTo(this.lead.row+1,0)}else{var tabSize=this.session.getTabSize();var cursor=this.lead;if(this.wouldMoveIntoSoftTab(cursor,tabSize,1)&&!this.session.getNavigateWithinSoftTabs())this.moveCursorBy(0,tabSize);else this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var row=this.lead.row;var column=this.lead.column;var screenRow=this.session.documentToScreenRow(row,column);var firstColumnPosition=this.session.screenToDocumentPosition(screenRow,0);var beforeCursor=this.session.getDisplayLine(row,null,firstColumnPosition.row,firstColumnPosition.column);var leadingSpace=beforeCursor.match(/^\s*/);if(leadingSpace[0].length!=column&&!this.session.$useEmacsStyleLineStart)firstColumnPosition.column+=leadingSpace[0].length;this.moveCursorToPosition(firstColumnPosition)};this.moveCursorLineEnd=function(){var lead=this.lead;var lineEnd=this.session.getDocumentLastRowColumnPosition(lead.row,lead.column);if(this.lead.column==lineEnd.column){var line=this.session.getLine(lineEnd.row);if(lineEnd.column==line.length){var textEnd=line.search(/\s+$/);if(textEnd>0)lineEnd.column=textEnd}}this.moveCursorTo(lineEnd.row,lineEnd.column)};this.moveCursorFileEnd=function(){var row=this.doc.getLength()-1;var column=this.doc.getLine(row).length;this.moveCursorTo(row,column)};this.moveCursorFileStart=function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var row=this.lead.row;var column=this.lead.column;var line=this.doc.getLine(row);var rightOfCursor=line.substring(column);var match;this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var fold=this.session.getFoldAt(row,column,1);if(fold){this.moveCursorTo(fold.end.row,fold.end.column);return}if(match=this.session.nonTokenRe.exec(rightOfCursor)){column+=this.session.nonTokenRe.lastIndex;this.session.nonTokenRe.lastIndex=0;rightOfCursor=line.substring(column)}if(column>=line.length){this.moveCursorTo(row,line.length);this.moveCursorRight();if(row<this.doc.getLength()-1)this.moveCursorWordRight();return}if(match=this.session.tokenRe.exec(rightOfCursor)){column+=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(row,column)};this.moveCursorLongWordLeft=function(){var row=this.lead.row;var column=this.lead.column;var fold;if(fold=this.session.getFoldAt(row,column,-1)){this.moveCursorTo(fold.start.row,fold.start.column);return}var str=this.session.getFoldStringAt(row,column,-1);if(str==null)str=this.doc.getLine(row).substring(0,column);var leftOfCursor=lang.stringReverse(str);var match;this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;if(match=this.session.nonTokenRe.exec(leftOfCursor)){column-=this.session.nonTokenRe.lastIndex;leftOfCursor=leftOfCursor.slice(this.session.nonTokenRe.lastIndex);this.session.nonTokenRe.lastIndex=0}if(column<=0){this.moveCursorTo(row,0);this.moveCursorLeft();if(row>0)this.moveCursorWordLeft();return}if(match=this.session.tokenRe.exec(leftOfCursor)){column-=this.session.tokenRe.lastIndex;this.session.tokenRe.lastIndex=0}this.moveCursorTo(row,column)};this.$shortWordEndIndex=function(rightOfCursor){var match,index=0,ch;var whitespaceRe=/\s/;var tokenRe=this.session.tokenRe;tokenRe.lastIndex=0;if(match=this.session.tokenRe.exec(rightOfCursor))index=this.session.tokenRe.lastIndex;else{while((ch=rightOfCursor[index])&&whitespaceRe.test(ch))index++;if(index<1){tokenRe.lastIndex=0;while((ch=rightOfCursor[index])&&!tokenRe.test(ch)){tokenRe.lastIndex=0;index++;if(whitespaceRe.test(ch))if(index>2){index--;break}else{while((ch=rightOfCursor[index])&&whitespaceRe.test(ch))index++;if(index>2)break}}}}tokenRe.lastIndex=0;return index};this.moveCursorShortWordRight=function(){var row=this.lead.row;var column=this.lead.column;var line=this.doc.getLine(row);var rightOfCursor=line.substring(column);var fold=this.session.getFoldAt(row,column,1);if(fold)return this.moveCursorTo(fold.end.row,fold.end.column);if(column==line.length){var l=this.doc.getLength();do{row++;rightOfCursor=this.doc.getLine(row)}while(row<l&&/^\s*$/.test(rightOfCursor));if(!/^\s+/.test(rightOfCursor))rightOfCursor="";column=0}var index=this.$shortWordEndIndex(rightOfCursor);this.moveCursorTo(row,column+index)};this.moveCursorShortWordLeft=function(){var row=this.lead.row;var column=this.lead.column;var fold;if(fold=this.session.getFoldAt(row,column,-1))return this.moveCursorTo(fold.start.row,fold.start.column);var line=this.session.getLine(row).substring(0,column);if(column===0){do{row--;line=this.doc.getLine(row)}while(row>0&&/^\s*$/.test(line));column=line.length;if(!/\s+$/.test(line))line=""}var leftOfCursor=lang.stringReverse(line);var index=this.$shortWordEndIndex(leftOfCursor);return this.moveCursorTo(row,column-index)};this.moveCursorWordRight=function(){if(this.session.$selectLongWords)this.moveCursorLongWordRight();else this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){if(this.session.$selectLongWords)this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft()};this.moveCursorBy=function(rows,chars){var screenPos=this.session.documentToScreenPosition(this.lead.row,this.lead.column);var offsetX;if(chars===0){if(rows!==0)if(this.session.$bidiHandler.isBidiRow(screenPos.row,this.lead.row)){offsetX=this.session.$bidiHandler.getPosLeft(screenPos.column);screenPos.column=Math.round(offsetX/this.session.$bidiHandler.charWidths[0])}else offsetX=screenPos.column*this.session.$bidiHandler.charWidths[0];if(this.$desiredColumn)screenPos.column=this.$desiredColumn;else this.$desiredColumn=screenPos.column}var docPos=this.session.screenToDocumentPosition(screenPos.row+rows,screenPos.column,offsetX);if(rows!==0&&chars===0&&docPos.row===this.lead.row&&docPos.column===this.lead.column)if(this.session.lineWidgets&&this.session.lineWidgets[docPos.row])if(docPos.row>0||rows>0)docPos.row++;this.moveCursorTo(docPos.row,docPos.column+chars,chars===0)};this.moveCursorToPosition=function(position){this.moveCursorTo(position.row,position.column)};this.moveCursorTo=function(row,column,keepDesiredColumn){var fold=this.session.getFoldAt(row,column,1);if(fold){row=fold.start.row;column=fold.start.column}this.$keepDesiredColumnOnChange=true;var line=this.session.getLine(row);if(/[\uDC00-\uDFFF]/.test(line.charAt(column))&&line.charAt(column-1))if(this.lead.row==row&&this.lead.column==column+1)column=column-1;else column=column+1;this.lead.setPosition(row,column);this.$keepDesiredColumnOnChange=false;if(!keepDesiredColumn)this.$desiredColumn=null};this.moveCursorToScreen=function(row,column,keepDesiredColumn){var pos=this.session.screenToDocumentPosition(row,column);this.moveCursorTo(pos.row,pos.column,keepDesiredColumn)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=function(range){this.setSelectionRange(range,range.cursor==range.start);this.$desiredColumn=range.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(range){var r=this.getRange();if(range){range.start.column=r.start.column;range.start.row=r.start.row;range.end.column=r.end.column;range.end.row=r.end.row}else range=r;range.cursor=this.isBackwards()?range.start:range.end;range.desiredColumn=this.$desiredColumn;return range};this.getRangeOfMovements=function(func){var start=this.getCursor();try{func(this);var end=this.getCursor();return Range.fromPoints(start,end)}catch(e){return Range.fromPoints(start,start)}finally{this.moveCursorToPosition(start)}};this.toJSON=function(){if(this.rangeCount)var data=this.ranges.map(function(r){var r1=r.clone();r1.isBackwards=r.cursor==r.start;return r1});else{var data=this.getRange();data.isBackwards=this.isBackwards()}return data};this.fromJSON=function(data){if(data.start==undefined)if(this.rangeList){this.toSingleRange(data[0]);for(var i=data.length;i--;){var r=Range.fromPoints(data[i].start,data[i].end);if(data[i].isBackwards)r.cursor=r.start;this.addRange(r,true)}return}else data=data[0];if(this.rangeList)this.toSingleRange(data);this.setSelectionRange(data,data.isBackwards)};this.isEqual=function(data){if((data.length||this.rangeCount)&&data.length!=this.rangeCount)return false;if(!data.length||!this.ranges)return this.getRange().isEqual(data);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(data[i]))return false;return true}}).call(Selection.prototype);exports.Selection=Selection});ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(acequire,exports,module){var config=acequire("./config");var MAX_TOKEN_COUNT=2E3;var Tokenizer=function(rules){this.states=rules;this.regExps={};this.matchMappings={};for(var key in this.states){var state=this.states[key];var ruleRegExps=[];var matchTotal=0;var mapping=this.matchMappings[key]={defaultToken:"text"};var flag="g";var splitterRurles=[];for(var i=0;i<state.length;i++){var rule=state[i];if(rule.defaultToken)mapping.defaultToken=rule.defaultToken;if(rule.caseInsensitive)flag="gi";if(rule.regex==null)continue;if(rule.regex instanceof RegExp)rule.regex=rule.regex.toString().slice(1,-1);var adjustedregex=rule.regex;var matchcount=(new RegExp("(?:("+adjustedregex+")|(.))")).exec("a").length-2;if(Array.isArray(rule.token))if(rule.token.length==1||matchcount==1)rule.token=rule.token[0];else if(matchcount-1!=rule.token.length){this.reportError("number of classes and regexp groups doesn't match",{rule:rule,groupCount:matchcount-1});rule.token=rule.token[0]}else{rule.tokenArray=rule.token;rule.token=null;rule.onMatch=this.$arrayTokens}else if(typeof rule.token=="function"&&!rule.onMatch)if(matchcount>1)rule.onMatch=this.$applyToken;else rule.onMatch=rule.token;if(matchcount>1){if(/\\\d/.test(rule.regex))adjustedregex=rule.regex.replace(/\\([0-9]+)/g,function(match,digit){return"\\"+(parseInt(digit,10)+matchTotal+1)});else{matchcount=1;adjustedregex=this.removeCapturingGroups(rule.regex)}if(!rule.splitRegex&&typeof rule.token!="string")splitterRurles.push(rule)}mapping[matchTotal]=i;matchTotal+=matchcount;ruleRegExps.push(adjustedregex);if(!rule.onMatch)rule.onMatch=null}if(!ruleRegExps.length){mapping[0]=0;ruleRegExps.push("$")}splitterRurles.forEach(function(rule){rule.splitRegex=this.createSplitterRegexp(rule.regex,flag)},this);this.regExps[key]=new RegExp("("+ruleRegExps.join(")|(")+")|($)",flag)}};(function(){this.$setMaxTokenCount=function(m){MAX_TOKEN_COUNT=m|0};this.$applyToken=function(str){var values=this.splitRegex.exec(str).slice(1);var types=this.token.apply(this,values);if(typeof types==="string")return[{type:types,value:str}];var tokens=[];for(var i=0,l=types.length;i<l;i++)if(values[i])tokens[tokens.length]={type:types[i],value:values[i]};return tokens};this.$arrayTokens=function(str){if(!str)return[];var values=this.splitRegex.exec(str);if(!values)return"text";var tokens=[];var types=this.tokenArray;for(var i=0,l=types.length;i<l;i++)if(values[i+1])tokens[tokens.length]={type:types[i],value:values[i+1]};return tokens};this.removeCapturingGroups=function(src){var r=src.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(x,y){return y?"(?:":x});return r};this.createSplitterRegexp=function(src,flag){if(src.indexOf("(?\x3d")!=-1){var stack=0;var inChClass=false;var lastCapture={};src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(m,esc,parenOpen,parenClose,square,index){if(inChClass)inChClass=square!="]";else if(square)inChClass=true;else if(parenClose){if(stack==lastCapture.stack){lastCapture.end=index+1;lastCapture.stack=-1}stack--}else if(parenOpen){stack++;if(parenOpen.length!=1){lastCapture.stack=stack;lastCapture.start=index}}return m});if(lastCapture.end!=null&&/^\)*$/.test(src.substr(lastCapture.end)))src=src.substring(0,lastCapture.start)+src.substr(lastCapture.end)}if(src.charAt(0)!="^")src="^"+src;if(src.charAt(src.length-1)!="$")src+="$";return new RegExp(src,(flag||"").replace("g",""))};this.getLineTokens=function(line,startState){if(startState&&typeof startState!="string"){var stack=startState.slice(0);startState=stack[0];if(startState==="#tmp"){stack.shift();startState=stack.shift()}}else var stack=[];var currentState=startState||"start";var state=this.states[currentState];if(!state){currentState="start";state=this.states[currentState]}var mapping=this.matchMappings[currentState];var re=this.regExps[currentState];re.lastIndex=0;var match,tokens=[];var lastIndex=0;var matchAttempts=0;var token={type:null,value:""};while(match=re.exec(line)){var type=mapping.defaultToken;var rule=null;var value=match[0];var index=re.lastIndex;if(index-value.length>lastIndex){var skipped=line.substring(lastIndex,index-value.length);if(token.type==type)token.value+=skipped;else{if(token.type)tokens.push(token);token={type:type,value:skipped}}}for(var i=0;i<match.length-2;i++){if(match[i+1]===undefined)continue;rule=state[mapping[i]];if(rule.onMatch)type=rule.onMatch(value,currentState,stack,line);else type=rule.token;if(rule.next){if(typeof rule.next=="string")currentState=rule.next;else currentState=rule.next(currentState,stack);state=this.states[currentState];if(!state){this.reportError("state doesn't exist",currentState);currentState="start";state=this.states[currentState]}mapping=this.matchMappings[currentState];lastIndex=index;re=this.regExps[currentState];re.lastIndex=index}if(rule.consumeLineEnd)lastIndex=index;break}if(value)if(typeof type==="string")if((!rule||rule.merge!==false)&&token.type===type)token.value+=value;else{if(token.type)tokens.push(token);token={type:type,value:value}}else if(type){if(token.type)tokens.push(token);token={type:null,value:""};for(var i=0;i<type.length;i++)tokens.push(type[i])}if(lastIndex==line.length)break;lastIndex=index;if(matchAttempts++>MAX_TOKEN_COUNT){if(matchAttempts>2*line.length)this.reportError("infinite loop with in ace tokenizer",{startState:startState,line:line});while(lastIndex<line.length){if(token.type)tokens.push(token);token={value:line.substring(lastIndex,lastIndex+=2E3),type:"overflow"}}currentState="start";stack=[];break}}if(token.type)tokens.push(token);if(stack.length>1)if(stack[0]!==currentState)stack.unshift("#tmp",currentState);return{tokens:tokens,state:stack.length?stack:currentState}};this.reportError=config.reportError}).call(Tokenizer.prototype);exports.Tokenizer=Tokenizer});ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(acequire,exports,module){var lang=acequire("../lib/lang");var TextHighlightRules=function(){this.$rules={"start":[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(rules,prefix){if(!prefix){for(var key in rules)this.$rules[key]=rules[key];return}for(var key in rules){var state=rules[key];for(var i=0;i<state.length;i++){var rule=state[i];if(rule.next||rule.onMatch){if(typeof rule.next=="string")if(rule.next.indexOf(prefix)!==0)rule.next=prefix+rule.next;if(rule.nextState&&rule.nextState.indexOf(prefix)!==0)rule.nextState=prefix+rule.nextState}}this.$rules[prefix+key]=state}};this.getRules=function(){return this.$rules};this.embedRules=function(HighlightRules,prefix,escapeRules,states,append){var embedRules=typeof HighlightRules=="function"?(new HighlightRules).getRules():HighlightRules;if(states)for(var i=0;i<states.length;i++)states[i]=prefix+states[i];else{states=[];for(var key in embedRules)states.push(prefix+key)}this.addRules(embedRules,prefix);if(escapeRules){var addRules=Array.prototype[append?"push":"unshift"];for(var i=0;i<states.length;i++)addRules.apply(this.$rules[states[i]],lang.deepCopy(escapeRules))}if(!this.$embeds)this.$embeds=[];this.$embeds.push(prefix)};this.getEmbeds=function(){return this.$embeds};var pushState=function(currentState,stack){if(currentState!="start"||stack.length)stack.unshift(this.nextState,currentState);return this.nextState};var popState=function(currentState,stack){stack.shift();return stack.shift()||"start"};this.normalizeRules=function(){var id=0;var rules=this.$rules;function processState(key){var state=rules[key];state.processed=true;for(var i=0;i<state.length;i++){var rule=state[i];var toInsert=null;if(Array.isArray(rule)){toInsert=rule;rule={}}if(!rule.regex&&rule.start){rule.regex=rule.start;if(!rule.next)rule.next=[];rule.next.push({defaultToken:rule.token},{token:rule.token+".end",regex:rule.end||rule.start,next:"pop"});rule.token=rule.token+".start";rule.push=true}var next=rule.next||rule.push;if(next&&Array.isArray(next)){var stateName=rule.stateName;if(!stateName){stateName=rule.token;if(typeof stateName!="string")stateName=stateName[0]||"";if(rules[stateName])stateName+=id++}rules[stateName]=next;rule.next=stateName;processState(stateName)}else if(next=="pop")rule.next=popState;if(rule.push){rule.nextState=rule.next||rule.push;rule.next=pushState;delete rule.push}if(rule.rules)for(var r in rule.rules)if(rules[r]){if(rules[r].push)rules[r].push.apply(rules[r],rule.rules[r])}else rules[r]=rule.rules[r];var includeName=typeof rule=="string"?rule:rule.include;if(includeName)if(Array.isArray(includeName))toInsert=includeName.map(function(x){return rules[x]});else toInsert=rules[includeName];if(toInsert){var args=[i,1].concat(toInsert);if(rule.noEscape)args=args.filter(function(x){return!x.next});state.splice.apply(state,args);i--}if(rule.keywordMap){rule.token=this.createKeywordMapper(rule.keywordMap,rule.defaultToken||"text",rule.caseInsensitive);delete rule.defaultToken}}}Object.keys(rules).forEach(processState,this)};this.createKeywordMapper=function(map,defaultToken,ignoreCase,splitChar){var keywords=Object.create(null);Object.keys(map).forEach(function(className){var a=map[className];if(ignoreCase)a=a.toLowerCase();var list=a.split(splitChar||"|");for(var i=list.length;i--;)keywords[list[i]]=className});if(Object.getPrototypeOf(keywords))keywords.__proto__=null;this.$keywordList=Object.keys(keywords);map=null;return ignoreCase?function(value){return keywords[value.toLowerCase()]||defaultToken}:function(value){return keywords[value]||defaultToken}};this.getKeywords=function(){return this.$keywords}}).call(TextHighlightRules.prototype);exports.TextHighlightRules=TextHighlightRules});ace.define("ace/mode/behaviour",["require","exports","module"],function(acequire,exports,module){var Behaviour=function(){this.$behaviours={}};(function(){this.add=function(name,action,callback){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[name]:this.$behaviours[name]={}}this.$behaviours[name][action]=callback};this.addBehaviours=function(behaviours){for(var key in behaviours)for(var action in behaviours[key])this.add(key,action,behaviours[key][action])};this.remove=function(name){if(this.$behaviours&&this.$behaviours[name])delete this.$behaviours[name]};this.inherit=function(mode,filter){if(typeof mode==="function")var behaviours=(new mode).getBehaviours(filter);else var behaviours=mode.getBehaviours(filter);this.addBehaviours(behaviours)};this.getBehaviours=function(filter){if(!filter)return this.$behaviours;else{var ret={};for(var i=0;i<filter.length;i++)if(this.$behaviours[filter[i]])ret[filter[i]]=this.$behaviours[filter[i]];return ret}}}).call(Behaviour.prototype);exports.Behaviour=Behaviour});ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("./range").Range;var TokenIterator=function(session,initialRow,initialColumn){this.$session=session;this.$row=initialRow;this.$rowTokens=session.getTokens(initialRow);var token=session.getTokenAt(initialRow,initialColumn);this.$tokenIndex=token?token.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0){this.$row=0;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){this.$tokenIndex+=1;var rowCount;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1;if(!rowCount)rowCount=this.$session.getLength();if(this.$row>=rowCount){this.$row=rowCount-1;return null}this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var rowTokens=this.$rowTokens;var tokenIndex=this.$tokenIndex;var column=rowTokens[tokenIndex].start;if(column!==undefined)return column;column=0;while(tokenIndex>0){tokenIndex-=1;column+=rowTokens[tokenIndex].value.length}return column};this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}};this.getCurrentTokenRange=function(){var token=this.$rowTokens[this.$tokenIndex];var column=this.getCurrentTokenColumn();return new Range(this.$row,column,this.$row,column+token.value.length)}}).call(TokenIterator.prototype);exports.TokenIterator=TokenIterator});ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(acequire,exports,module){var oop=acequire("../../lib/oop");var Behaviour=acequire("../behaviour").Behaviour;var TokenIterator=acequire("../../token_iterator").TokenIterator;var lang=acequire("../../lib/lang");var SAFE_INSERT_IN_TOKENS=["text","paren.rparen","punctuation.operator"];var SAFE_INSERT_BEFORE_TOKENS=["text","paren.rparen","punctuation.operator","comment"];var context;var contextCache={};var defaultQuotes={'"':'"',"'":"'"};var initContext=function(editor){var id=-1;if(editor.multiSelect){id=editor.selection.index;if(contextCache.rangeCount!=editor.multiSelect.rangeCount)contextCache={rangeCount:editor.multiSelect.rangeCount}}if(contextCache[id])return context=contextCache[id];context=contextCache[id]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}};var getWrapped=function(selection,selected,opening,closing){var rowDiff=selection.end.row-selection.start.row;return{text:opening+selected+closing,selection:[0,selection.start.column+1,rowDiff,selection.end.column+(rowDiff?0:1)]}};var CstyleBehaviour=function(options){this.add("braces","insertion",function(state,action,editor,session,text){var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);if(text=="{"){initContext(editor);var selection=editor.getSelectionRange();var selected=session.doc.getTextRange(selection);if(selected!==""&&selected!=="{"&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"{","}");else if(CstyleBehaviour.isSaneInsertion(editor,session))if(/[\]\}\)]/.test(line[cursor.column])||editor.inMultiSelectMode||options&&options.braces){CstyleBehaviour.recordAutoInsert(editor,session,"}");return{text:"{}",selection:[1,1]}}else{CstyleBehaviour.recordMaybeInsert(editor,session,"{");return{text:"{",selection:[1,1]}}}else if(text=="}"){initContext(editor);var rightChar=line.substring(cursor.column,cursor.column+1);if(rightChar=="}"){var matching=session.$findOpeningBracket("}",{column:cursor.column+1,row:cursor.row});if(matching!==null&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}else if(text=="\n"||text=="\r\n"){initContext(editor);var closing="";if(CstyleBehaviour.isMaybeInsertedClosing(cursor,line)){closing=lang.stringRepeat("}",context.maybeInsertedBrackets);CstyleBehaviour.clearMaybeInsertedClosing()}var rightChar=line.substring(cursor.column,cursor.column+1);if(rightChar==="}"){var openBracePos=session.findMatchingBracket({row:cursor.row,column:cursor.column+1},"}");if(!openBracePos)return null;var next_indent=this.$getIndent(session.getLine(openBracePos.row))}else if(closing)var next_indent=this.$getIndent(line);else{CstyleBehaviour.clearMaybeInsertedClosing();return}var indent=next_indent+session.getTabString();return{text:"\n"+indent+"\n"+next_indent+closing,selection:[1,indent.length,1,indent.length]}}else CstyleBehaviour.clearMaybeInsertedClosing()});this.add("braces","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&selected=="{"){initContext(editor);var line=session.doc.getLine(range.start.row);var rightChar=line.substring(range.end.column,range.end.column+1);if(rightChar=="}"){range.end.column++;return range}else context.maybeInsertedBrackets--}});this.add("parens","insertion",function(state,action,editor,session,text){if(text=="("){initContext(editor);var selection=editor.getSelectionRange();var selected=session.doc.getTextRange(selection);if(selected!==""&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"(",")");else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,")");return{text:"()",selection:[1,1]}}}else if(text==")"){initContext(editor);var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);var rightChar=line.substring(cursor.column,cursor.column+1);if(rightChar==")"){var matching=session.$findOpeningBracket(")",{column:cursor.column+1,row:cursor.row});if(matching!==null&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("parens","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&selected=="("){initContext(editor);var line=session.doc.getLine(range.start.row);var rightChar=line.substring(range.start.column+1,range.start.column+2);if(rightChar==")"){range.end.column++;return range}}});this.add("brackets","insertion",function(state,action,editor,session,text){if(text=="["){initContext(editor);var selection=editor.getSelectionRange();var selected=session.doc.getTextRange(selection);if(selected!==""&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,"[","]");else if(CstyleBehaviour.isSaneInsertion(editor,session)){CstyleBehaviour.recordAutoInsert(editor,session,"]");return{text:"[]",selection:[1,1]}}}else if(text=="]"){initContext(editor);var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);var rightChar=line.substring(cursor.column,cursor.column+1);if(rightChar=="]"){var matching=session.$findOpeningBracket("]",{column:cursor.column+1,row:cursor.row});if(matching!==null&&CstyleBehaviour.isAutoInsertedClosing(cursor,line,text)){CstyleBehaviour.popAutoInsertedClosing();return{text:"",selection:[1,1]}}}}});this.add("brackets","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&selected=="["){initContext(editor);var line=session.doc.getLine(range.start.row);var rightChar=line.substring(range.start.column+1,range.start.column+2);if(rightChar=="]"){range.end.column++;return range}}});this.add("string_dquotes","insertion",function(state,action,editor,session,text){var quotes=session.$mode.$quotes||defaultQuotes;if(text.length==1&&quotes[text]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(text)!=-1)return;initContext(editor);var quote=text;var selection=editor.getSelectionRange();var selected=session.doc.getTextRange(selection);if(selected!==""&&(selected.length!=1||!quotes[selected])&&editor.getWrapBehavioursEnabled())return getWrapped(selection,selected,quote,quote);else if(!selected){var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);var leftChar=line.substring(cursor.column-1,cursor.column);var rightChar=line.substring(cursor.column,cursor.column+1);var token=session.getTokenAt(cursor.row,cursor.column);var rightToken=session.getTokenAt(cursor.row,cursor.column+1);if(leftChar=="\\"&&token&&/escape/.test(token.type))return null;var stringBefore=token&&/string|escape/.test(token.type);var stringAfter=!rightToken||/string|escape/.test(rightToken.type);var pair;if(rightChar==quote){pair=stringBefore!==stringAfter;if(pair&&/string\.end/.test(rightToken.type))pair=false}else{if(stringBefore&&!stringAfter)return null;if(stringBefore&&stringAfter)return null;var wordRe=session.$mode.tokenRe;wordRe.lastIndex=0;var isWordBefore=wordRe.test(leftChar);wordRe.lastIndex=0;var isWordAfter=wordRe.test(leftChar);if(isWordBefore||isWordAfter)return null;if(rightChar&&!/[\s;,.})\]\\]/.test(rightChar))return null;pair=true}return{text:pair?quote+quote:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(state,action,editor,session,range){var selected=session.doc.getTextRange(range);if(!range.isMultiLine()&&(selected=='"'||selected=="'")){initContext(editor);var line=session.doc.getLine(range.start.row);var rightChar=line.substring(range.start.column+1,range.start.column+2);if(rightChar==selected){range.end.column++;return range}}})};CstyleBehaviour.isSaneInsertion=function(editor,session){var cursor=editor.getCursorPosition();var iterator=new TokenIterator(session,cursor.row,cursor.column);if(!this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS)){var iterator2=new TokenIterator(session,cursor.row,cursor.column+1);if(!this.$matchTokenType(iterator2.getCurrentToken()||"text",SAFE_INSERT_IN_TOKENS))return false}iterator.stepForward();return iterator.getCurrentTokenRow()!==cursor.row||this.$matchTokenType(iterator.getCurrentToken()||"text",SAFE_INSERT_BEFORE_TOKENS)};CstyleBehaviour.$matchTokenType=function(token,types){return types.indexOf(token.type||token)>-1};CstyleBehaviour.recordAutoInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);if(!this.isAutoInsertedClosing(cursor,line,context.autoInsertedLineEnd[0]))context.autoInsertedBrackets=0;context.autoInsertedRow=cursor.row;context.autoInsertedLineEnd=bracket+line.substr(cursor.column);context.autoInsertedBrackets++};CstyleBehaviour.recordMaybeInsert=function(editor,session,bracket){var cursor=editor.getCursorPosition();var line=session.doc.getLine(cursor.row);if(!this.isMaybeInsertedClosing(cursor,line))context.maybeInsertedBrackets=0;context.maybeInsertedRow=cursor.row;context.maybeInsertedLineStart=line.substr(0,cursor.column)+bracket;context.maybeInsertedLineEnd=line.substr(cursor.column);context.maybeInsertedBrackets++};CstyleBehaviour.isAutoInsertedClosing=function(cursor,line,bracket){return context.autoInsertedBrackets>0&&cursor.row===context.autoInsertedRow&&bracket===context.autoInsertedLineEnd[0]&&line.substr(cursor.column)===context.autoInsertedLineEnd};CstyleBehaviour.isMaybeInsertedClosing=function(cursor,line){return context.maybeInsertedBrackets>0&&cursor.row===context.maybeInsertedRow&&line.substr(cursor.column)===context.maybeInsertedLineEnd&&line.substr(0,cursor.column)==context.maybeInsertedLineStart};CstyleBehaviour.popAutoInsertedClosing=function(){context.autoInsertedLineEnd=context.autoInsertedLineEnd.substr(1);context.autoInsertedBrackets--};CstyleBehaviour.clearMaybeInsertedClosing=function(){if(context){context.maybeInsertedBrackets=0;context.maybeInsertedRow=-1}};oop.inherits(CstyleBehaviour,Behaviour);exports.CstyleBehaviour=CstyleBehaviour});ace.define("ace/unicode",["require","exports","module"],function(acequire,exports,module){exports.packages={};addUnicodePackage({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"});function addUnicodePackage(pack){var codePoint=/\w{4}/g;for(var name in pack)exports.packages[name]=pack[name].replace(codePoint,"\\u$\x26")}});ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(acequire,exports,module){var Tokenizer=acequire("../tokenizer").Tokenizer;var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour;var unicode=acequire("../unicode");var lang=acequire("../lib/lang");var TokenIterator=acequire("../token_iterator").TokenIterator;var Range=acequire("../range").Range;var Mode=function(){this.HighlightRules=TextHighlightRules};(function(){this.$defaultBehaviour=new CstyleBehaviour;this.tokenRe=new RegExp("^["+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+unicode.packages.L+unicode.packages.Mn+unicode.packages.Mc+unicode.packages.Nd+unicode.packages.Pc+"\\$_]|\\s])+","g");this.getTokenizer=function(){if(!this.$tokenizer){this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig);this.$tokenizer=new Tokenizer(this.$highlightRules.getRules())}return this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(state,session,startRow,endRow){var doc=session.doc;var ignoreBlankLines=true;var shouldRemove=true;var minIndent=Infinity;var tabSize=session.getTabSize();var insertAtTabStop=false;if(!this.lineCommentStart){if(!this.blockComment)return false;var lineCommentStart=this.blockComment.start;var lineCommentEnd=this.blockComment.end;var regexpStart=new RegExp("^(\\s*)(?:"+lang.escapeRegExp(lineCommentStart)+")");var regexpEnd=new RegExp("(?:"+lang.escapeRegExp(lineCommentEnd)+")\\s*$");var comment=function(line,i){if(testRemove(line,i))return;if(!ignoreBlankLines||/\S/.test(line)){doc.insertInLine({row:i,column:line.length},lineCommentEnd);doc.insertInLine({row:i,column:minIndent},lineCommentStart)}};var uncomment=function(line,i){var m;if(m=line.match(regexpEnd))doc.removeInLine(i,line.length-m[0].length,line.length);if(m=line.match(regexpStart))doc.removeInLine(i,m[1].length,m[0].length)};var testRemove=function(line,row){if(regexpStart.test(line))return true;var tokens=session.getTokens(row);for(var i=0;i<tokens.length;i++)if(tokens[i].type==="comment")return true}}else{if(Array.isArray(this.lineCommentStart)){var regexpStart=this.lineCommentStart.map(lang.escapeRegExp).join("|");var lineCommentStart=this.lineCommentStart[0]}else{var regexpStart=lang.escapeRegExp(this.lineCommentStart);var lineCommentStart=this.lineCommentStart}regexpStart=new RegExp("^(\\s*)(?:"+regexpStart+") ?");insertAtTabStop=session.getUseSoftTabs();var uncomment=function(line,i){var m=line.match(regexpStart);if(!m)return;var start=m[1].length,end=m[0].length;if(!shouldInsertSpace(line,start,end)&&m[0][end-1]==" ")end--;doc.removeInLine(i,start,end)};var commentWithSpace=lineCommentStart+" ";var comment=function(line,i){if(!ignoreBlankLines||/\S/.test(line))if(shouldInsertSpace(line,minIndent,minIndent))doc.insertInLine({row:i,column:minIndent},commentWithSpace);else doc.insertInLine({row:i,column:minIndent},lineCommentStart)};var testRemove=function(line,i){return regexpStart.test(line)};var shouldInsertSpace=function(line,before,after){var spaces=0;while(before--&&line.charAt(before)==" ")spaces++;if(spaces%tabSize!=0)return false;var spaces=0;while(line.charAt(after++)==" ")spaces++;if(tabSize>2)return spaces%tabSize!=tabSize-1;else return spaces%tabSize==0;return true}}function iter(fun){for(var i=startRow;i<=endRow;i++)fun(doc.getLine(i),i)}var minEmptyLength=Infinity;iter(function(line,i){var indent=line.search(/\S/);if(indent!==-1){if(indent<minIndent)minIndent=indent;if(shouldRemove&&!testRemove(line,i))shouldRemove=false}else if(minEmptyLength>line.length)minEmptyLength=line.length});if(minIndent==Infinity){minIndent=minEmptyLength;ignoreBlankLines=false;shouldRemove=false}if(insertAtTabStop&&minIndent%tabSize!=0)minIndent=Math.floor(minIndent/tabSize)*tabSize;iter(shouldRemove?uncomment:comment)};this.toggleBlockComment=function(state,session,range,cursor){var comment=this.blockComment;if(!comment)return;if(!comment.start&&comment[0])comment=comment[0];var iterator=new TokenIterator(session,cursor.row,cursor.column);var token=iterator.getCurrentToken();var sel=session.selection;var initialRange=session.selection.toOrientedRange();var startRow,colDiff;if(token&&/comment/.test(token.type)){var startRange,endRange;while(token&&/comment/.test(token.type)){var i=token.value.indexOf(comment.start);if(i!=-1){var row=iterator.getCurrentTokenRow();var column=iterator.getCurrentTokenColumn()+i;startRange=new Range(row,column,row,column+comment.start.length);break}token=iterator.stepBackward()}var iterator=new TokenIterator(session,cursor.row,cursor.column);var token=iterator.getCurrentToken();while(token&&/comment/.test(token.type)){var i=token.value.indexOf(comment.end);if(i!=-1){var row=iterator.getCurrentTokenRow();var column=iterator.getCurrentTokenColumn()+i;endRange=new Range(row,column,row,column+comment.end.length);break}token=iterator.stepForward()}if(endRange)session.remove(endRange);if(startRange){session.remove(startRange);startRow=startRange.start.row;colDiff=-comment.start.length}}else{colDiff=comment.start.length;startRow=range.start.row;session.insert(range.end,comment.end);session.insert(range.start,comment.start)}if(initialRange.start.row==startRow)initialRange.start.column+=colDiff;if(initialRange.end.row==startRow)initialRange.end.column+=colDiff;session.selection.fromOrientedRange(initialRange)};this.getNextLineIndent=function(state,line,tab){return this.$getIndent(line)};this.checkOutdent=function(state,line,input){return false};this.autoOutdent=function(state,doc,row){};this.$getIndent=function(line){return line.match(/^\s*/)[0]};this.createWorker=function(session){return null};this.createModeDelegates=function(mapping){this.$embeds=[];this.$modes={};for(var i in mapping)if(mapping[i]){this.$embeds.push(i);this.$modes[i]=new mapping[i]}var delegations=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(var i=0;i<delegations.length;i++)(function(scope){var functionName=delegations[i];var defaultHandler=scope[functionName];scope[delegations[i]]=function(){return this.$delegator(functionName,arguments,defaultHandler)}})(this)};this.$delegator=function(method,args,defaultHandler){var state=args[0];if(typeof state!="string")state=state[0];for(var i=0;i<this.$embeds.length;i++){if(!this.$modes[this.$embeds[i]])continue;var split=state.split(this.$embeds[i]);if(!split[0]&&split[1]){args[0]=split[1];var mode=this.$modes[this.$embeds[i]];return mode[method].apply(mode,args)}}var ret=defaultHandler.apply(this,args);return defaultHandler?ret:undefined};this.transformAction=function(state,action,editor,session,param){if(this.$behaviour){var behaviours=this.$behaviour.getBehaviours();for(var key in behaviours)if(behaviours[key][action]){var ret=behaviours[key][action].apply(this,arguments);if(ret)return ret}}};this.getKeywords=function(append){if(!this.completionKeywords){var rules=this.$tokenizer.rules;var completionKeywords=[];for(var rule in rules){var ruleItr=rules[rule];for(var r=0,l=ruleItr.length;r<l;r++)if(typeof ruleItr[r].token==="string"){if(/keyword|support|storage/.test(ruleItr[r].token))completionKeywords.push(ruleItr[r].regex)}else if(typeof ruleItr[r].token==="object")for(var a=0,aLength=ruleItr[r].token.length;a<aLength;a++)if(/keyword|support|storage/.test(ruleItr[r].token[a])){var rule=ruleItr[r].regex.match(/\(.+?\)/g)[a];completionKeywords.push(rule.substr(1,rule.length-2))}}this.completionKeywords=completionKeywords}if(!append)return this.$keywordList;return completionKeywords.concat(this.$keywordList||[])};this.$createKeywordList=function(){if(!this.$highlightRules)this.getTokenizer();return this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(state,session,pos,prefix){var keywords=this.$keywordList||this.$createKeywordList();return keywords.map(function(word){return{name:word,value:word,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}).call(Mode.prototype);exports.Mode=Mode});ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports,module){function throwDeltaError(delta,errorText){console.log("Invalid Delta:",delta);throw"Invalid Delta: "+errorText;}function positionInDocument(docLines,position){return position.row>=0&&position.row<docLines.length&&position.column>=0&&position.column<=docLines[position.row].length}function validateDelta(docLines,delta){if(delta.action!="insert"&&delta.action!="remove")throwDeltaError(delta,"delta.action must be 'insert' or 'remove'");if(!(delta.lines instanceof Array))throwDeltaError(delta,"delta.lines must be an Array");if(!delta.start||!delta.end)throwDeltaError(delta,"delta.start/end must be an present");var start=delta.start;if(!positionInDocument(docLines,delta.start))throwDeltaError(delta,"delta.start must be contained in document");var end=delta.end;if(delta.action=="remove"&&!positionInDocument(docLines,end))throwDeltaError(delta,"delta.end must contained in document for 'remove' actions");var numRangeRows=end.row-start.row;var numRangeLastLineChars=end.column-(numRangeRows==0?start.column:0);if(numRangeRows!=delta.lines.length-1||delta.lines[numRangeRows].length!=numRangeLastLineChars)throwDeltaError(delta,"delta.range must match delta lines")}exports.applyDelta=function(docLines,delta,doNotValidate){var row=delta.start.row;var startColumn=delta.start.column;var line=docLines[row]||"";switch(delta.action){case "insert":var lines=delta.lines;if(lines.length===1)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args);docLines[row]=line.substring(0,startColumn)+docLines[row];docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case "remove":var endColumn=delta.end.column;var endRow=delta.end.row;if(row===endRow)docLines[row]=line.substring(0,startColumn)+line.substring(endColumn);else docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn));break}}});ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("./lib/oop");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this);this.attach(doc);if(typeof column=="undefined")this.setPosition(row.row,row.column);else this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};this.$insertRight=false;this.onChange=function(delta){if(delta.start.row==delta.end.row&&delta.start.row!=this.row)return;if(delta.start.row>this.row)return;var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,true)};function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=delta.action=="insert";var deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row);var deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column);var deltaStart=delta.start;var deltaEnd=deltaIsInsert?deltaStart:delta.end;if($pointsInOrder(point,deltaStart,moveIfEqual))return{row:point.row,column:point.column};if($pointsInOrder(deltaEnd,point,!moveIfEqual))return{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)};return{row:deltaStart.row,column:deltaStart.column}}this.setPosition=function(row,column,noClip){var pos;if(noClip)pos={row:row,column:column};else pos=this.$clipPositionToDocument(row,column);if(this.row==pos.row&&this.column==pos.column)return;var old={row:this.row,column:this.column};this.row=pos.row;this.column=pos.column;this._signal("change",{old:old,value:pos})};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.attach=function(doc){this.document=doc||this.document;this.document.on("change",this.$onChange)};this.$clipPositionToDocument=function(row,column){var pos={};if(row>=this.document.getLength()){pos.row=Math.max(0,this.document.getLength()-1);pos.column=this.document.getLine(pos.row).length}else if(row<0){pos.row=0;pos.column=0}else{pos.row=row;pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))}if(column<0)pos.column=0;return pos}}).call(Anchor.prototype)});ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports,module){var oop=acequire("./lib/oop");var applyDelta=acequire("./apply_delta").applyDelta;var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var Range=acequire("./range").Range;var Anchor=acequire("./anchor").Anchor;var Document=function(textOrLines){this.$lines=[""];if(textOrLines.length===0)this.$lines=[""];else if(Array.isArray(textOrLines))this.insertMergedLines({row:0,column:0},textOrLines);else this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter);this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length));this.insert({row:0,column:0},text)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(row,column){return new Anchor(this,row,column)};if("aaa".split(/a/).length===0)this.$split=function(text){return text.replace(/\r\n|\r/g,"\n").split("\n")};else this.$split=function(text){return text.split(/\r\n|\r|\n/)};this.$detectNewLine=function(text){var match=text.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=match?match[1]:"\n";this._signal("changeNewLineMode")};this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";default:return this.$autoNewLine||"\n"}};this.$autoNewLine="";this.$newLineMode="auto";this.setNewLineMode=function(newLineMode){if(this.$newLineMode===newLineMode)return;this.$newLineMode=newLineMode;this._signal("changeNewLineMode")};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(text){return text=="\r\n"||text=="\r"||text=="\n"};this.getLine=function(row){return this.$lines[row]||""};this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())};this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;if(range.end.row-range.start.row==l)lines[l]=lines[l].substring(0,range.end.column)}return lines};this.insertLines=function(row,lines){console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");return this.insertFullLines(row,lines)};this.removeLines=function(firstRow,lastRow){console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");return this.removeFullLines(firstRow,lastRow)};this.insertNewLine=function(position){console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");return this.insertMergedLines(position,["",""])};this.insert=function(position,text){if(this.getLength()<=1)this.$detectNewLine(text);return this.insertMergedLines(position,this.$split(text))};this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column);var end=this.pos(position.row,position.column+text.length);this.applyDelta({start:start,end:end,action:"insert",lines:[text]},true);return this.clonePos(end)};this.clippedPos=function(row,column){var length=this.getLength();if(row===undefined)row=length;else if(row<0)row=0;else if(row>=length){row=length-1;column=undefined}var line=this.getLine(row);if(column==undefined)column=line.length;column=Math.min(Math.max(column,0),line.length);return{row:row,column:column}};this.clonePos=function(pos){return{row:pos.row,column:pos.column}};this.pos=function(row,column){return{row:row,column:column}};this.$clipPosition=function(position){var length=this.getLength();if(position.row>=length){position.row=Math.max(0,length-1);position.column=this.getLine(length-1).length}else{position.row=Math.max(0,position.row);position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)}return position};this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;if(row<this.getLength()){lines=lines.concat([""]);column=0}else{lines=[""].concat(lines);row--;column=this.$lines[row].length}this.insertMergedLines({row:row,column:column},lines)};this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column);var end={row:start.row+lines.length-1,column:(lines.length==1?start.column:0)+lines[lines.length-1].length};this.applyDelta({start:start,end:end,action:"insert",lines:lines});return this.clonePos(end)};this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column);var end=this.clippedPos(range.end.row,range.end.column);this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})});return this.clonePos(start)};this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn);var end=this.clippedPos(row,endColumn);this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},true);return this.clonePos(start)};this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1);lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0;var deleteLastNewLine=lastRow<this.getLength()-1;var startRow=deleteFirstNewLine?firstRow-1:firstRow;var startCol=deleteFirstNewLine?this.getLine(startRow).length:0;var endRow=deleteLastNewLine?lastRow+1:lastRow;var endCol=deleteLastNewLine?0:this.getLine(endRow).length;var range=new Range(startRow,startCol,endRow,endCol);var deletedLines=this.$lines.slice(firstRow,lastRow+1);this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)});return deletedLines};this.removeNewLine=function(row){if(row<this.getLength()-1&&row>=0)this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})};this.replace=function(range,text){if(!(range instanceof Range))range=Range.fromPoints(range.start,range.end);if(text.length===0&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;if(text)end=this.insert(range.start,text);else end=range.start;return end};this.applyDeltas=function(deltas){for(var i=0;i<deltas.length;i++)this.applyDelta(deltas[i])};this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])};this.applyDelta=function(delta,doNotValidate){var isInsert=delta.action=="insert";if(isInsert?delta.lines.length<=1&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))return;if(isInsert&&delta.lines.length>2E4)this.$splitAndapplyLargeDelta(delta,2E4);applyDelta(this.$lines,delta,doNotValidate);this._signal("change",delta)};this.$splitAndapplyLargeDelta=function(delta,MAX){var lines=delta.lines;var l=lines.length;var row=delta.start.row;var column=delta.start.column;var from=0,to=0;do{from=to;to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk;delta.start.row=row+from;delta.start.column=column;break}chunk.push("");this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},true)}while(true)};this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:delta.action=="insert"?"remove":"insert",lines:delta.lines.slice()})};this.indexToPosition=function(index,startRow){var lines=this.$lines||this.getAllLines();var newlineLength=this.getNewLineCharacter().length;for(var i=startRow||0,l=lines.length;i<l;i++){index-=lines[i].length+newlineLength;if(index<0)return{row:i,column:index+lines[i].length+newlineLength}}return{row:l-1,column:lines[l-1].length}};this.positionToIndex=function(pos,startRow){var lines=this.$lines||this.getAllLines();var newlineLength=this.getNewLineCharacter().length;var index=0;var row=Math.min(pos.row,lines.length);for(var i=startRow||0;i<row;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype);exports.Document=Document});ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("./lib/oop");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var BackgroundTokenizer=function(tokenizer,editor){this.running=false;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=tokenizer;var self=this;this.$worker=function(){if(!self.running)return;var workerStart=new Date;var currentLine=self.currentLine;var endLine=-1;var doc=self.doc;var startLine=currentLine;while(self.lines[currentLine])currentLine++;var len=doc.getLength();var processedLines=0;self.running=false;while(currentLine<len){self.$tokenizeRow(currentLine);endLine=currentLine;do currentLine++;while(self.lines[currentLine]);processedLines++;if(processedLines%5===0&&new Date-workerStart>20){self.running=setTimeout(self.$worker,20);break}}self.currentLine=currentLine;if(endLine==-1)endLine=currentLine;if(startLine<=endLine)self.fireUpdateEvent(startLine,endLine)}};(function(){oop.implement(this,EventEmitter);this.setTokenizer=function(tokenizer){this.tokenizer=tokenizer;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(doc){this.doc=doc;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(firstRow,lastRow){var data={first:firstRow,last:lastRow};this._signal("update",{data:data})};this.start=function(startRow){this.currentLine=Math.min(startRow||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.scheduleStart=function(){if(!this.running)this.running=setTimeout(this.$worker,700)};this.$updateOnChange=function(delta){var startRow=delta.start.row;var len=delta.end.row-startRow;if(len===0)this.lines[startRow]=null;else if(delta.action=="remove"){this.lines.splice(startRow,len+1,null);this.states.splice(startRow,len+1,null)}else{var args=Array(len+1);args.unshift(startRow,1);this.lines.splice.apply(this.lines,args);this.states.splice.apply(this.states,args)}this.currentLine=Math.min(startRow,this.currentLine,this.doc.getLength());this.stop()};this.stop=function(){if(this.running)clearTimeout(this.running);this.running=false};this.getTokens=function(row){return this.lines[row]||this.$tokenizeRow(row)};this.getState=function(row){if(this.currentLine==row)this.$tokenizeRow(row);return this.states[row]||"start"};this.$tokenizeRow=function(row){var line=this.doc.getLine(row);var state=this.states[row-1];var data=this.tokenizer.getLineTokens(line,state,row);if(this.states[row]+""!==data.state+""){this.states[row]=data.state;this.lines[row+1]=null;if(this.currentLine>row+1)this.currentLine=row+1}else if(this.currentLine==row)this.currentLine=row+1;return this.lines[row]=data.tokens}}).call(BackgroundTokenizer.prototype);exports.BackgroundTokenizer=BackgroundTokenizer});ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(acequire,exports,module){var lang=acequire("./lib/lang");var oop=acequire("./lib/oop");var Range=acequire("./range").Range;var SearchHighlight=function(regExp,clazz,type){this.setRegexp(regExp);this.clazz=clazz;this.type=type||"text"};(function(){this.MAX_RANGES=500;this.setRegexp=function(regExp){if(this.regExp+""==regExp+"")return;this.regExp=regExp;this.cache=[]};this.update=function(html,markerLayer,session,config){if(!this.regExp)return;var start=config.firstRow,end=config.lastRow;for(var i=start;i<=end;i++){var ranges=this.cache[i];if(ranges==null){ranges=lang.getMatchOffsets(session.getLine(i),this.regExp);if(ranges.length>this.MAX_RANGES)ranges=ranges.slice(0,this.MAX_RANGES);ranges=ranges.map(function(match){return new Range(i,match.offset,i,match.offset+match.length)});this.cache[i]=ranges.length?ranges:""}for(var j=ranges.length;j--;)markerLayer.drawSingleLineMarker(html,ranges[j].toScreenRange(session),this.clazz,config)}}}).call(SearchHighlight.prototype);exports.SearchHighlight=SearchHighlight});ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("../range").Range;function FoldLine(foldData,folds){this.foldData=foldData;if(Array.isArray(folds))this.folds=folds;else folds=this.folds=[folds];var last=folds[folds.length-1];this.range=new Range(folds[0].start.row,folds[0].start.column,last.end.row,last.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(fold){fold.setFoldLine(this)},this)}(function(){this.shiftRow=function(shift){this.start.row+=shift;this.end.row+=shift;this.folds.forEach(function(fold){fold.start.row+=shift;fold.end.row+=shift})};this.addFold=function(fold){if(fold.sameRow){if(fold.start.row<this.startRow||fold.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(fold);this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)});if(this.range.compareEnd(fold.start.row,fold.start.column)>0){this.end.row=fold.end.row;this.end.column=fold.end.column}else if(this.range.compareStart(fold.end.row,fold.end.column)<0){this.start.row=fold.start.row;this.start.column=fold.start.column}}else if(fold.start.row==this.end.row){this.folds.push(fold);this.end.row=fold.end.row;this.end.column=fold.end.column}else if(fold.end.row==this.start.row){this.folds.unshift(fold);this.start.row=fold.start.row;this.start.column=fold.start.column}else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");fold.foldLine=this};this.containsRow=function(row){return row>=this.start.row&&row<=this.end.row};this.walk=function(callback,endRow,endColumn){var lastEnd=0,folds=this.folds,fold,cmp,stop,isNewRow=true;if(endRow==null){endRow=this.end.row;endColumn=this.end.column}for(var i=0;i<folds.length;i++){fold=folds[i];cmp=fold.range.compareStart(endRow,endColumn);if(cmp==-1){callback(null,endRow,endColumn,lastEnd,isNewRow);return}stop=callback(null,fold.start.row,fold.start.column,lastEnd,isNewRow);stop=!stop&&callback(fold.placeholder,fold.start.row,fold.start.column,lastEnd);if(stop||cmp===0)return;isNewRow=!fold.sameRow;lastEnd=fold.end.column}callback(null,endRow,endColumn,lastEnd,isNewRow)};this.getNextFoldTo=function(row,column){var fold,cmp;for(var i=0;i<this.folds.length;i++){fold=this.folds[i];cmp=fold.range.compareEnd(row,column);if(cmp==-1)return{fold:fold,kind:"after"};else if(cmp===0)return{fold:fold,kind:"inside"}}return null};this.addRemoveChars=function(row,column,len){var ret=this.getNextFoldTo(row,column),fold,folds;if(ret){fold=ret.fold;if(ret.kind=="inside"&&fold.start.column!=column&&fold.start.row!=row)window.console&&window.console.log(row,column,fold);else if(fold.start.row==row){folds=this.folds;var i=folds.indexOf(fold);if(i===0)this.start.column+=len;for(i;i<folds.length;i++){fold=folds[i];fold.start.column+=len;if(!fold.sameRow)return;fold.end.column+=len}this.end.column+=len}}};this.split=function(row,column){var pos=this.getNextFoldTo(row,column);if(!pos||pos.kind=="inside")return null;var fold=pos.fold;var folds=this.folds;var foldData=this.foldData;var i=folds.indexOf(fold);var foldBefore=folds[i-1];this.end.row=foldBefore.end.row;this.end.column=foldBefore.end.column;folds=folds.splice(i,folds.length-i);var newFoldLine=new FoldLine(foldData,folds);foldData.splice(foldData.indexOf(this)+1,0,newFoldLine);return newFoldLine};this.merge=function(foldLineNext){var folds=foldLineNext.folds;for(var i=0;i<folds.length;i++)this.addFold(folds[i]);var foldData=this.foldData;foldData.splice(foldData.indexOf(foldLineNext),1)};this.toString=function(){var ret=[this.range.toString()+": ["];this.folds.forEach(function(fold){ret.push("  "+fold.toString())});ret.push("]");return ret.join("\n")};this.idxToPosition=function(idx){var lastFoldEndColumn=0;for(var i=0;i<this.folds.length;i++){var fold=this.folds[i];idx-=fold.start.column-lastFoldEndColumn;if(idx<0)return{row:fold.start.row,column:fold.start.column+idx};idx-=fold.placeholder.length;if(idx<0)return fold.start;lastFoldEndColumn=fold.end.column}return{row:this.end.row,column:this.end.column+idx}}}).call(FoldLine.prototype);exports.FoldLine=FoldLine});ace.define("ace/range_list",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("./range").Range;var comparePoints=Range.comparePoints;var RangeList=function(){this.ranges=[]};(function(){this.comparePoints=comparePoints;this.pointIndex=function(pos,excludeEdges,startIndex){var list=this.ranges;for(var i=startIndex||0;i<list.length;i++){var range=list[i];var cmpEnd=comparePoints(pos,range.end);if(cmpEnd>0)continue;var cmpStart=comparePoints(pos,range.start);if(cmpEnd===0)return excludeEdges&&cmpStart!==0?-i-2:i;if(cmpStart>0||cmpStart===0&&!excludeEdges)return i;return-i-1}return-i-1};this.add=function(range){var excludeEdges=!range.isEmpty();var startIndex=this.pointIndex(range.start,excludeEdges);if(startIndex<0)startIndex=-startIndex-1;var endIndex=this.pointIndex(range.end,excludeEdges,startIndex);if(endIndex<0)endIndex=-endIndex-1;else endIndex++;return this.ranges.splice(startIndex,endIndex-startIndex,range)};this.addList=function(list){var removed=[];for(var i=list.length;i--;)removed.push.apply(removed,this.add(list[i]));return removed};this.substractPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges.splice(i,1)};this.merge=function(){var removed=[];var list=this.ranges;list=list.sort(function(a,b){return comparePoints(a.start,b.start)});var next=list[0],range;for(var i=1;i<list.length;i++){range=next;next=list[i];var cmp=comparePoints(range.end,next.start);if(cmp<0)continue;if(cmp==0&&!range.isEmpty()&&!next.isEmpty())continue;if(comparePoints(range.end,next.end)<0){range.end.row=next.end.row;range.end.column=next.end.column}list.splice(i,1);removed.push(next);next=range;i--}this.ranges=list;return removed};this.contains=function(row,column){return this.pointIndex({row:row,column:column})>=0};this.containsPoint=function(pos){return this.pointIndex(pos)>=0};this.rangeAtPoint=function(pos){var i=this.pointIndex(pos);if(i>=0)return this.ranges[i]};this.clipRows=function(startRow,endRow){var list=this.ranges;if(list[0].start.row>endRow||list[list.length-1].start.row<startRow)return[];var startIndex=this.pointIndex({row:startRow,column:0});if(startIndex<0)startIndex=-startIndex-1;var endIndex=this.pointIndex({row:endRow,column:0},startIndex);if(endIndex<0)endIndex=-endIndex-1;var clipped=[];for(var i=startIndex;i<endIndex;i++)clipped.push(list[i]);return clipped};this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(session){if(this.session)this.detach();this.session=session;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange);this.session=null};this.$onChange=function(delta){if(delta.action=="insert"){var start=delta.start;var end=delta.end}else{var end=delta.start;var start=delta.end}var startRow=start.row;var endRow=end.row;var lineDif=endRow-startRow;var colDiff=-start.column+end.column;var ranges=this.ranges;for(var i=0,n=ranges.length;i<n;i++){var r=ranges[i];if(r.end.row<startRow)continue;if(r.start.row>startRow)break;if(r.start.row==startRow&&r.start.column>=start.column)if(r.start.column==start.column&&this.$insertRight);else{r.start.column+=colDiff;r.start.row+=lineDif}if(r.end.row==startRow&&r.end.column>=start.column){if(r.end.column==start.column&&this.$insertRight)continue;if(r.end.column==start.column&&colDiff>0&&i<n-1)if(r.end.column>r.start.column&&r.end.column==ranges[i+1].start.column)r.end.column-=colDiff;r.end.column+=colDiff;r.end.row+=lineDif}}if(lineDif!=0&&i<n)for(;i<n;i++){var r=ranges[i];r.start.row+=lineDif;r.end.row+=lineDif}}}).call(RangeList.prototype);exports.RangeList=RangeList});ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(acequire,exports,module){var Range=acequire("../range").Range;var RangeList=acequire("../range_list").RangeList;var oop=acequire("../lib/oop");var Fold=exports.Fold=function(range,placeholder){this.foldLine=null;this.placeholder=placeholder;this.range=range;this.start=range.start;this.end=range.end;this.sameRow=range.start.row==range.end.row;this.subFolds=this.ranges=[]};oop.inherits(Fold,RangeList);(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(foldLine){this.foldLine=foldLine;this.subFolds.forEach(function(fold){fold.setFoldLine(foldLine)})};this.clone=function(){var range=this.range.clone();var fold=new Fold(range,this.placeholder);this.subFolds.forEach(function(subFold){fold.subFolds.push(subFold.clone())});fold.collapseChildren=this.collapseChildren;return fold};this.addSubFold=function(fold){if(this.range.isEqual(fold))return;if(!this.range.containsRange(fold))throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);consumeRange(fold,this.start);var row=fold.start.row,column=fold.start.column;for(var i=0,cmp=-1;i<this.subFolds.length;i++){cmp=this.subFolds[i].range.compare(row,column);if(cmp!=1)break}var afterStart=this.subFolds[i];if(cmp==0)return afterStart.addSubFold(fold);var row=fold.range.end.row,column=fold.range.end.column;for(var j=i,cmp=-1;j<this.subFolds.length;j++){cmp=this.subFolds[j].range.compare(row,column);if(cmp!=1)break}var afterEnd=this.subFolds[j];if(cmp==0)throw new Error("A fold can't intersect already existing fold"+fold.range+this.range);var consumedFolds=this.subFolds.splice(i,j-i,fold);fold.setFoldLine(this.foldLine);return fold};this.restoreRange=function(range){return restoreRange(range,this.start)}}).call(Fold.prototype);function consumePoint(point,anchor){point.row-=anchor.row;if(point.row==0)point.column-=anchor.column}function consumeRange(range,anchor){consumePoint(range.start,anchor);consumePoint(range.end,anchor)}function restorePoint(point,anchor){if(point.row==0)point.column+=anchor.column;point.row+=anchor.row}function restoreRange(range,anchor){restorePoint(range.start,anchor);restorePoint(range.end,anchor)}});ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(acequire,exports,module){var Range=acequire("../range").Range;var FoldLine=acequire("./fold_line").FoldLine;var Fold=acequire("./fold").Fold;var TokenIterator=acequire("../token_iterator").TokenIterator;function Folding(){this.getFoldAt=function(row,column,side){var foldLine=this.getFoldLine(row);if(!foldLine)return null;var folds=foldLine.folds;for(var i=0;i<folds.length;i++){var fold=folds[i];if(fold.range.contains(row,column)){if(side==1&&fold.range.isEnd(row,column))continue;else if(side==-1&&fold.range.isStart(row,column))continue;return fold}}};this.getFoldsInRange=function(range){var start=range.start;var end=range.end;var foldLines=this.$foldData;var foundFolds=[];start.column+=1;end.column-=1;for(var i=0;i<foldLines.length;i++){var cmp=foldLines[i].range.compareRange(range);if(cmp==2)continue;else if(cmp==-2)break;var folds=foldLines[i].folds;for(var j=0;j<folds.length;j++){var fold=folds[j];cmp=fold.range.compareRange(range);if(cmp==-2)break;else if(cmp==2)continue;else if(cmp==42)break;foundFolds.push(fold)}}start.column-=1;end.column+=1;return foundFolds};this.getFoldsInRangeList=function(ranges){if(Array.isArray(ranges)){var folds=[];ranges.forEach(function(range){folds=folds.concat(this.getFoldsInRange(range))},this)}else var folds=this.getFoldsInRange(ranges);return folds};this.getAllFolds=function(){var folds=[];var foldLines=this.$foldData;for(var i=0;i<foldLines.length;i++)for(var j=0;j<foldLines[i].folds.length;j++)folds.push(foldLines[i].folds[j]);return folds};this.getFoldStringAt=function(row,column,trim,foldLine){foldLine=foldLine||this.getFoldLine(row);if(!foldLine)return null;var lastFold={end:{column:0}};var str,fold;for(var i=0;i<foldLine.folds.length;i++){fold=foldLine.folds[i];var cmp=fold.range.compareEnd(row,column);if(cmp==-1){str=this.getLine(fold.start.row).substring(lastFold.end.column,fold.start.column);break}else if(cmp===0)return null;lastFold=fold}if(!str)str=this.getLine(fold.start.row).substring(lastFold.end.column);if(trim==-1)return str.substring(0,column-lastFold.end.column);else if(trim==1)return str.substring(column-lastFold.end.column);else return str};this.getFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData;var i=0;if(startFoldLine)i=foldData.indexOf(startFoldLine);if(i==-1)i=0;for(i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.start.row<=docRow&&foldLine.end.row>=docRow)return foldLine;else if(foldLine.end.row>docRow)return null}return null};this.getNextFoldLine=function(docRow,startFoldLine){var foldData=this.$foldData;var i=0;if(startFoldLine)i=foldData.indexOf(startFoldLine);if(i==-1)i=0;for(i;i<foldData.length;i++){var foldLine=foldData[i];if(foldLine.end.row>=docRow)return foldLine}return null};this.getFoldedRowCount=function(first,last){var foldData=this.$foldData,rowCount=last-first+1;for(var i=0;i<foldData.length;i++){var foldLine=foldData[i],end=foldLine.end.row,start=foldLine.start.row;if(end>=last){if(start<last)if(start>=first)rowCount-=last-start;else rowCount=0;break}else if(end>=first)if(start>=first)rowCount-=end-start;else rowCount-=end-first+1}return rowCount};this.$addFoldLine=function(foldLine){this.$foldData.push(foldLine);this.$foldData.sort(function(a,b){return a.start.row-b.start.row});return foldLine};this.addFold=function(placeholder,range){var foldData=this.$foldData;var added=false;var fold;if(placeholder instanceof Fold)fold=placeholder;else{fold=new Fold(range,placeholder);fold.collapseChildren=range.collapseChildren}this.$clipRangeToDocument(fold.range);var startRow=fold.start.row;var startColumn=fold.start.column;var endRow=fold.end.row;var endColumn=fold.end.column;if(!(startRow<endRow||startRow==endRow&&startColumn<=endColumn-2))throw new Error("The range has to be at least 2 characters width");var startFold=this.getFoldAt(startRow,startColumn,1);var endFold=this.getFoldAt(endRow,endColumn,-1);if(startFold&&endFold==startFold)return startFold.addSubFold(fold);if(startFold&&!startFold.range.isStart(startRow,startColumn))this.removeFold(startFold);if(endFold&&!endFold.range.isEnd(endRow,endColumn))this.removeFold(endFold);var folds=this.getFoldsInRange(fold.range);if(folds.length>0){this.removeFolds(folds);folds.forEach(function(subFold){fold.addSubFold(subFold)})}for(var i=0;i<foldData.length;i++){var foldLine=foldData[i];if(endRow==foldLine.start.row){foldLine.addFold(fold);added=true;break}else if(startRow==foldLine.end.row){foldLine.addFold(fold);added=true;if(!fold.sameRow){var foldLineNext=foldData[i+1];if(foldLineNext&&foldLineNext.start.row==endRow){foldLine.merge(foldLineNext);break}}break}else if(endRow<=foldLine.start.row)break}if(!added)foldLine=this.$addFoldLine(new FoldLine(this.$foldData,fold));if(this.$useWrapMode)this.$updateWrapData(foldLine.start.row,foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row,foldLine.start.row);this.$modified=true;this._signal("changeFold",{data:fold,action:"add"});return fold};this.addFolds=function(folds){folds.forEach(function(fold){this.addFold(fold)},this)};this.removeFold=function(fold){var foldLine=fold.foldLine;var startRow=foldLine.start.row;var endRow=foldLine.end.row;var foldLines=this.$foldData;var folds=foldLine.folds;if(folds.length==1)foldLines.splice(foldLines.indexOf(foldLine),1);else if(foldLine.range.isEnd(fold.end.row,fold.end.column)){folds.pop();foldLine.end.row=folds[folds.length-1].end.row;foldLine.end.column=folds[folds.length-1].end.column}else if(foldLine.range.isStart(fold.start.row,fold.start.column)){folds.shift();foldLine.start.row=folds[0].start.row;foldLine.start.column=folds[0].start.column}else if(fold.sameRow)folds.splice(folds.indexOf(fold),1);else{var newFoldLine=foldLine.split(fold.start.row,fold.start.column);folds=newFoldLine.folds;folds.shift();newFoldLine.start.row=folds[0].start.row;newFoldLine.start.column=folds[0].start.column}if(!this.$updating)if(this.$useWrapMode)this.$updateWrapData(startRow,endRow);else this.$updateRowLengthCache(startRow,endRow);this.$modified=true;this._signal("changeFold",{data:fold,action:"remove"})};this.removeFolds=function(folds){var cloneFolds=[];for(var i=0;i<folds.length;i++)cloneFolds.push(folds[i]);cloneFolds.forEach(function(fold){this.removeFold(fold)},this);this.$modified=true};this.expandFold=function(fold){this.removeFold(fold);fold.subFolds.forEach(function(subFold){fold.restoreRange(subFold);this.addFold(subFold)},this);if(fold.collapseChildren>0)this.foldAll(fold.start.row+1,fold.end.row,fold.collapseChildren-1);fold.subFolds=[]};this.expandFolds=function(folds){folds.forEach(function(fold){this.expandFold(fold)},this)};this.unfold=function(location,expandInner){var range,folds;if(location==null){range=new Range(0,0,this.getLength(),0);expandInner=true}else if(typeof location=="number")range=new Range(location,0,location,this.getLine(location).length);else if("row"in location)range=Range.fromPoints(location,location);else range=location;folds=this.getFoldsInRangeList(range);if(expandInner)this.removeFolds(folds);else{var subFolds=folds;while(subFolds.length){this.expandFolds(subFolds);subFolds=this.getFoldsInRangeList(range)}}if(folds.length)return folds};this.isRowFolded=function(docRow,startFoldRow){return!!this.getFoldLine(docRow,startFoldRow)};this.getRowFoldEnd=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.end.row:docRow};this.getRowFoldStart=function(docRow,startFoldRow){var foldLine=this.getFoldLine(docRow,startFoldRow);return foldLine?foldLine.start.row:docRow};this.getFoldDisplayLine=function(foldLine,endRow,endColumn,startRow,startColumn){if(startRow==null)startRow=foldLine.start.row;if(startColumn==null)startColumn=0;if(endRow==null)endRow=foldLine.end.row;if(endColumn==null)endColumn=this.getLine(endRow).length;var doc=this.doc;var textLine="";foldLine.walk(function(placeholder,row,column,lastColumn){if(row<startRow)return;if(row==startRow){if(column<startColumn)return;lastColumn=Math.max(startColumn,lastColumn)}if(placeholder!=null)textLine+=placeholder;else textLine+=doc.getLine(row).substring(lastColumn,column)},endRow,endColumn);return textLine};this.getDisplayLine=function(row,endColumn,startRow,startColumn){var foldLine=this.getFoldLine(row);if(!foldLine){var line;line=this.doc.getLine(row);return line.substring(startColumn||0,endColumn||line.length)}else return this.getFoldDisplayLine(foldLine,row,endColumn,startRow,startColumn)};this.$cloneFoldData=function(){var fd=[];fd=this.$foldData.map(function(foldLine){var folds=foldLine.folds.map(function(fold){return fold.clone()});return new FoldLine(fd,folds)});return fd};this.toggleFold=function(tryToUnfold){var selection=this.selection;var range=selection.getRange();var fold;var bracketPos;if(range.isEmpty()){var cursor=range.start;fold=this.getFoldAt(cursor.row,cursor.column);if(fold){this.expandFold(fold);return}else if(bracketPos=this.findMatchingBracket(cursor))if(range.comparePoint(bracketPos)==1)range.end=bracketPos;else{range.start=bracketPos;range.start.column++;range.end.column--}else if(bracketPos=this.findMatchingBracket({row:cursor.row,column:cursor.column+1})){if(range.comparePoint(bracketPos)==1)range.end=bracketPos;else range.start=bracketPos;range.start.column++}else range=this.getCommentFoldRange(cursor.row,cursor.column)||range}else{var folds=this.getFoldsInRange(range);if(tryToUnfold&&folds.length){this.expandFolds(folds);return}else if(folds.length==1)fold=folds[0]}if(!fold)fold=this.getFoldAt(range.start.row,range.start.column);if(fold&&fold.range.toString()==range.toString()){this.expandFold(fold);return}var placeholder="...";if(!range.isMultiLine()){placeholder=this.getTextRange(range);if(placeholder.length<4)return;placeholder=placeholder.trim().substring(0,2)+".."}this.addFold(placeholder,range)};this.getCommentFoldRange=function(row,column,dir){var iterator=new TokenIterator(this,row,column);var token=iterator.getCurrentToken();var type=token.type;if(token&&/^comment|string/.test(type)){type=type.match(/comment|string/)[0];if(type=="comment")type+="|doc-start";var re=new RegExp(type);var range=new Range;if(dir!=1){do token=iterator.stepBackward();while(token&&re.test(token.type));iterator.stepForward()}range.start.row=iterator.getCurrentTokenRow();range.start.column=iterator.getCurrentTokenColumn()+2;iterator=new TokenIterator(this,row,column);if(dir!=-1){var lastRow=-1;do{token=iterator.stepForward();if(lastRow==-1){var state=this.getState(iterator.$row);if(!re.test(state))lastRow=iterator.$row}else if(iterator.$row>lastRow)break}while(token&&re.test(token.type));token=iterator.stepBackward()}else token=iterator.getCurrentToken();range.end.row=iterator.getCurrentTokenRow();range.end.column=iterator.getCurrentTokenColumn()+token.value.length-2;return range}};this.foldAll=function(startRow,endRow,depth){if(depth==undefined)depth=1E5;var foldWidgets=this.foldWidgets;if(!foldWidgets)return;endRow=endRow||this.getLength();startRow=startRow||0;for(var row=startRow;row<endRow;row++){if(foldWidgets[row]==null)foldWidgets[row]=this.getFoldWidget(row);if(foldWidgets[row]!="start")continue;var range=this.getFoldWidgetRange(row);if(range&&range.isMultiLine()&&range.end.row<=endRow&&range.start.row>=startRow){row=range.end.row;try{var fold=this.addFold("...",range);if(fold)fold.collapseChildren=depth}catch(e){}}}};this.$foldStyles={"manual":1,"markbegin":1,"markbeginend":1};this.$foldStyle="markbegin";this.setFoldStyle=function(style){if(!this.$foldStyles[style])throw new Error("invalid fold style: "+style+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==style)return;this.$foldStyle=style;if(style=="manual")this.unfold();var mode=this.$foldMode;this.$setFolding(null);this.$setFolding(mode)};this.$setFolding=function(foldMode){if(this.$foldMode==foldMode)return;this.$foldMode=foldMode;this.off("change",this.$updateFoldWidgets);this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets);this._signal("changeAnnotation");if(!foldMode||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=foldMode.getFoldWidget.bind(foldMode,this,this.$foldStyle);this.getFoldWidgetRange=foldMode.getFoldWidgetRange.bind(foldMode,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)};this.getParentFoldRangeData=function(row,ignoreCurrent){var fw=this.foldWidgets;if(!fw||ignoreCurrent&&fw[row])return{};var i=row-1,firstRange;while(i>=0){var c=fw[i];if(c==null)c=fw[i]=this.getFoldWidget(i);if(c=="start"){var range=this.getFoldWidgetRange(i);if(!firstRange)firstRange=range;if(range&&range.end.row>=row)break}i--}return{range:i!==-1&&range,firstRange:firstRange}};this.onFoldWidgetClick=function(row,e){e=e.domEvent;var options={children:e.shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};var range=this.$toggleFoldWidget(row,options);if(!range){var el=e.target||e.srcElement;if(el&&/ace_fold-widget/.test(el.className))el.className+=" ace_invalid"}};this.$toggleFoldWidget=function(row,options){if(!this.getFoldWidget)return;var type=this.getFoldWidget(row);var line=this.getLine(row);var dir=type==="end"?-1:1;var fold=this.getFoldAt(row,dir===-1?0:line.length,dir);if(fold){if(options.children||options.all)this.removeFold(fold);else this.expandFold(fold);return fold}var range=this.getFoldWidgetRange(row,true);if(range&&!range.isMultiLine()){fold=this.getFoldAt(range.start.row,range.start.column,1);if(fold&&range.isEqual(fold.range)){this.removeFold(fold);return fold}}if(options.siblings){var data=this.getParentFoldRangeData(row);if(data.range){var startRow=data.range.start.row+1;var endRow=data.range.end.row}this.foldAll(startRow,endRow,options.all?1E4:0)}else if(options.children){endRow=range?range.end.row:this.getLength();this.foldAll(row+1,endRow,options.all?1E4:0)}else if(range){if(options.all)range.collapseChildren=1E4;this.addFold("...",range)}return range};this.toggleFoldWidget=function(toggleParent){var row=this.selection.getCursor().row;row=this.getRowFoldStart(row);var range=this.$toggleFoldWidget(row,{});if(range)return;var data=this.getParentFoldRangeData(row,true);range=data.range||data.firstRange;if(range){row=range.start.row;var fold=this.getFoldAt(row,this.getLine(row).length,1);if(fold)this.removeFold(fold);else this.addFold("...",range)}};this.updateFoldWidgets=function(delta){var firstRow=delta.start.row;var len=delta.end.row-firstRow;if(len===0)this.foldWidgets[firstRow]=null;else if(delta.action=="remove")this.foldWidgets.splice(firstRow,len+1,null);else{var args=Array(len+1);args.unshift(firstRow,1);this.foldWidgets.splice.apply(this.foldWidgets,args)}};this.tokenizerUpdateFoldWidgets=function(e){var rows=e.data;if(rows.first!=rows.last)if(this.foldWidgets.length>rows.first)this.foldWidgets.splice(rows.first,this.foldWidgets.length)}}exports.Folding=Folding});ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(acequire,exports,module){var TokenIterator=acequire("../token_iterator").TokenIterator;var Range=acequire("../range").Range;function BracketMatch(){this.findMatchingBracket=function(position,chr){if(position.column==0)return null;var charBeforeCursor=chr||this.getLine(position.row).charAt(position.column-1);if(charBeforeCursor=="")return null;var match=charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);if(!match)return null;if(match[1])return this.$findClosingBracket(match[1],position);else return this.$findOpeningBracket(match[2],position)};this.getBracketRange=function(pos){var line=this.getLine(pos.row);var before=true,range;var chr=line.charAt(pos.column-1);var match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);if(!match){chr=line.charAt(pos.column);pos={row:pos.row,column:pos.column+1};match=chr&&chr.match(/([\(\[\{])|([\)\]\}])/);before=false}if(!match)return null;if(match[1]){var bracketPos=this.$findClosingBracket(match[1],pos);if(!bracketPos)return null;range=Range.fromPoints(pos,bracketPos);if(!before){range.end.column++;range.start.column--}range.cursor=range.end}else{var bracketPos=this.$findOpeningBracket(match[2],pos);if(!bracketPos)return null;range=Range.fromPoints(bracketPos,pos);if(!before){range.start.column++;range.end.column--}range.cursor=range.start}return range};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(bracket,position,typeRe){var openBracket=this.$brackets[bracket];var depth=1;var iterator=new TokenIterator(this,position.row,position.column);var token=iterator.getCurrentToken();if(!token)token=iterator.stepForward();if(!token)return;if(!typeRe)typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");var valueIndex=position.column-iterator.getCurrentTokenColumn()-2;var value=token.value;while(true){while(valueIndex>=0){var chr=value.charAt(valueIndex);if(chr==openBracket){depth-=1;if(depth==0)return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else if(chr==bracket)depth+=1;valueIndex-=1}do token=iterator.stepBackward();while(token&&!typeRe.test(token.type));if(token==null)break;value=token.value;valueIndex=value.length-1}return null};this.$findClosingBracket=function(bracket,position,typeRe){var closingBracket=this.$brackets[bracket];var depth=1;var iterator=new TokenIterator(this,position.row,position.column);var token=iterator.getCurrentToken();if(!token)token=iterator.stepForward();if(!token)return;if(!typeRe)typeRe=new RegExp("(\\.?"+token.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");var valueIndex=position.column-iterator.getCurrentTokenColumn();while(true){var value=token.value;var valueLength=value.length;while(valueIndex<valueLength){var chr=value.charAt(valueIndex);if(chr==closingBracket){depth-=1;if(depth==0)return{row:iterator.getCurrentTokenRow(),column:valueIndex+iterator.getCurrentTokenColumn()}}else if(chr==bracket)depth+=1;valueIndex+=1}do token=iterator.stepForward();while(token&&!typeRe.test(token.type));if(token==null)break;valueIndex=0}return null}}exports.BracketMatch=BracketMatch});ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(acequire,exports,module){var oop=acequire("./lib/oop");var lang=acequire("./lib/lang");var BidiHandler=acequire("./bidihandler").BidiHandler;var config=acequire("./config");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var Selection=acequire("./selection").Selection;var TextMode=acequire("./mode/text").Mode;var Range=acequire("./range").Range;var Document=acequire("./document").Document;var BackgroundTokenizer=acequire("./background_tokenizer").BackgroundTokenizer;var SearchHighlight=acequire("./search_highlight").SearchHighlight;var EditSession=function(text,mode){this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=true;this.$foldData=[];this.id="session"+ ++EditSession.$uid;this.$foldData.toString=function(){return this.join("\n")};this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);if(typeof text!="object"||!text.getLine)text=new Document(text);this.$bidiHandler=new BidiHandler(this);this.setDocument(text);this.selection=new Selection(this);config.resetOptions(this);this.setMode(mode);config._signal("session",this)};EditSession.$uid=0;(function(){oop.implement(this,EventEmitter);this.setDocument=function(doc){if(this.doc)this.doc.removeListener("change",this.$onChange);this.doc=doc;doc.on("change",this.$onChange);if(this.bgTokenizer)this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()};this.getDocument=function(){return this.doc};this.$resetRowCache=function(docRow){if(!docRow){this.$docRowCache=[];this.$screenRowCache=[];return}var l=this.$docRowCache.length;var i=this.$getRowCacheIndex(this.$docRowCache,docRow)+1;if(l>i){this.$docRowCache.splice(i,l);this.$screenRowCache.splice(i,l)}};this.$getRowCacheIndex=function(cacheArray,val){var low=0;var hi=cacheArray.length-1;while(low<=hi){var mid=low+hi>>1;var c=cacheArray[mid];if(val>c)low=mid+1;else if(val<c)hi=mid-1;else return mid}return low-1};this.resetCaches=function(){this.$modified=true;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);if(this.bgTokenizer)this.bgTokenizer.start(0)};this.onChangeFold=function(e){var fold=e.data;this.$resetRowCache(fold.start.row)};this.onChange=function(delta){this.$modified=true;this.$bidiHandler.onChange(delta);this.$resetRowCache(delta.start.row);var removedFolds=this.$updateInternalDataOnChange(delta);if(!this.$fromUndo&&this.$undoManager&&!delta.ignore){this.$deltasDoc.push(delta);if(removedFolds&&removedFolds.length!=0)this.$deltasFold.push({action:"removeFolds",folds:removedFolds});this.$informUndoManager.schedule()}this.bgTokenizer&&this.bgTokenizer.$updateOnChange(delta);this._signal("change",delta)};this.setValue=function(text){this.doc.setValue(text);this.selection.moveTo(0,0);this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.setUndoManager(this.$undoManager);this.getUndoManager().reset()};this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(row){return this.bgTokenizer.getState(row)};this.getTokens=function(row){return this.bgTokenizer.getTokens(row)};this.getTokenAt=function(row,column){var tokens=this.bgTokenizer.getTokens(row);var token,c=0;if(column==null){var i=tokens.length-1;c=this.getLine(row).length}else for(var i=0;i<tokens.length;i++){c+=tokens[i].value.length;if(c>=column)break}token=tokens[i];if(!token)return null;token.index=i;token.start=c-token.value.length;return token};this.setUndoManager=function(undoManager){this.$undoManager=undoManager;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];if(this.$informUndoManager)this.$informUndoManager.cancel();if(undoManager){var self=this;this.$syncInformUndoManager=function(){self.$informUndoManager.cancel();if(self.$deltasFold.length){self.$deltas.push({group:"fold",deltas:self.$deltasFold});self.$deltasFold=[]}if(self.$deltasDoc.length){self.$deltas.push({group:"doc",deltas:self.$deltasDoc});self.$deltasDoc=[]}if(self.$deltas.length>0)undoManager.execute({action:"aceupdate",args:[self.$deltas,self],merge:self.mergeUndoDeltas});self.mergeUndoDeltas=false;self.$deltas=[]};this.$informUndoManager=lang.delayedCall(this.$syncInformUndoManager)}};this.markUndoGroup=function(){if(this.$syncInformUndoManager)this.$syncInformUndoManager()};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){if(this.getUseSoftTabs())return lang.stringRepeat(" ",this.getTabSize());else return"\t"};this.setUseSoftTabs=function(val){this.setOption("useSoftTabs",val)};this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs};this.setTabSize=function(tabSize){this.setOption("tabSize",tabSize)};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(position){return this.$useSoftTabs&&position.column%this.$tabSize===0};this.setNavigateWithinSoftTabs=function(navigateWithinSoftTabs){this.setOption("navigateWithinSoftTabs",navigateWithinSoftTabs)};this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs};this.$overwrite=false;this.setOverwrite=function(overwrite){this.setOption("overwrite",overwrite)};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.addGutterDecoration=function(row,className){if(!this.$decorations[row])this.$decorations[row]="";this.$decorations[row]+=" "+className;this._signal("changeBreakpoint",{})};this.removeGutterDecoration=function(row,className){this.$decorations[row]=(this.$decorations[row]||"").replace(" "+className,"");this._signal("changeBreakpoint",{})};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(rows){this.$breakpoints=[];for(var i=0;i<rows.length;i++)this.$breakpoints[rows[i]]="ace_breakpoint";this._signal("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})};this.setBreakpoint=function(row,className){if(className===undefined)className="ace_breakpoint";if(className)this.$breakpoints[row]=className;else delete this.$breakpoints[row];this._signal("changeBreakpoint",{})};this.clearBreakpoint=function(row){delete this.$breakpoints[row];this._signal("changeBreakpoint",{})};this.addMarker=function(range,clazz,type,inFront){var id=this.$markerId++;var marker={range:range,type:type||"line",renderer:typeof type=="function"?type:null,clazz:clazz,inFront:!!inFront,id:id};if(inFront){this.$frontMarkers[id]=marker;this._signal("changeFrontMarker")}else{this.$backMarkers[id]=marker;this._signal("changeBackMarker")}return id};this.addDynamicMarker=function(marker,inFront){if(!marker.update)return;var id=this.$markerId++;marker.id=id;marker.inFront=!!inFront;if(inFront){this.$frontMarkers[id]=marker;this._signal("changeFrontMarker")}else{this.$backMarkers[id]=marker;this._signal("changeBackMarker")}return marker};this.removeMarker=function(markerId){var marker=this.$frontMarkers[markerId]||this.$backMarkers[markerId];if(!marker)return;var markers=marker.inFront?this.$frontMarkers:this.$backMarkers;if(marker){delete markers[markerId];this._signal(marker.inFront?"changeFrontMarker":"changeBackMarker")}};this.getMarkers=function(inFront){return inFront?this.$frontMarkers:this.$backMarkers};this.highlight=function(re){if(!this.$searchHighlight){var highlight=new SearchHighlight(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(highlight)}this.$searchHighlight.setRegexp(re)};this.highlightLines=function(startRow,endRow,clazz,inFront){if(typeof endRow!="number"){clazz=endRow;endRow=startRow}if(!clazz)clazz="ace_step";var range=new Range(startRow,0,endRow,Infinity);range.id=this.addMarker(range,clazz,"fullLine",inFront);return range};this.setAnnotations=function(annotations){this.$annotations=annotations;this._signal("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||[]};this.clearAnnotations=function(){this.setAnnotations([])};this.$detectNewLine=function(text){var match=text.match(/^.*?(\r?\n)/m);if(match)this.$autoNewLine=match[1];else this.$autoNewLine="\n"};this.getWordRange=function(row,column){var line=this.getLine(row);var inToken=false;if(column>0)inToken=!!line.charAt(column-1).match(this.tokenRe);if(!inToken)inToken=!!line.charAt(column).match(this.tokenRe);if(inToken)var re=this.tokenRe;else if(/^\s+$/.test(line.slice(column-1,column+1)))var re=/\s/;else var re=this.nonTokenRe;var start=column;if(start>0){do start--;while(start>=0&&line.charAt(start).match(re));start++}var end=column;while(end<line.length&&line.charAt(end).match(re))end++;return new Range(row,start,row,end)};this.getAWordRange=function(row,column){var wordRange=this.getWordRange(row,column);var line=this.getLine(wordRange.end.row);while(line.charAt(wordRange.end.column).match(/[ \t]/))wordRange.end.column+=1;return wordRange};this.setNewLineMode=function(newLineMode){this.doc.setNewLineMode(newLineMode)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.setUseWorker=function(useWorker){this.setOption("useWorker",useWorker)};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(e){var rows=e.data;this.bgTokenizer.start(rows.first);this._signal("tokenizerUpdate",e)};this.$modes={};this.$mode=null;this.$modeId=null;this.setMode=function(mode,cb){if(mode&&typeof mode==="object"){if(mode.getTokenizer)return this.$onChangeMode(mode);var options=mode;var path=options.path}else path=mode||"ace/mode/text";if(!this.$modes["ace/mode/text"])this.$modes["ace/mode/text"]=new TextMode;if(this.$modes[path]&&!options){this.$onChangeMode(this.$modes[path]);cb&&cb();return}this.$modeId=path;config.loadModule(["mode",path],function(m){if(this.$modeId!==path)return cb&&cb();if(this.$modes[path]&&!options)this.$onChangeMode(this.$modes[path]);else if(m&&m.Mode){m=new m.Mode(options);if(!options){this.$modes[path]=m;m.$id=path}this.$onChangeMode(m)}cb&&cb()}.bind(this));if(!this.$mode)this.$onChangeMode(this.$modes["ace/mode/text"],true)};this.$onChangeMode=function(mode,$isPlaceholder){if(!$isPlaceholder)this.$modeId=mode.$id;if(this.$mode===mode)return;this.$mode=mode;this.$stopWorker();if(this.$useWorker)this.$startWorker();var tokenizer=mode.getTokenizer();if(tokenizer.addEventListener!==undefined){var onReloadTokenizer=this.onReloadTokenizer.bind(this);tokenizer.addEventListener("update",onReloadTokenizer)}if(!this.bgTokenizer){this.bgTokenizer=new BackgroundTokenizer(tokenizer);var _self=this;this.bgTokenizer.addEventListener("update",function(e){_self._signal("tokenizerUpdate",e)})}else this.bgTokenizer.setTokenizer(tokenizer);this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=mode.tokenRe;this.nonTokenRe=mode.nonTokenRe;if(!$isPlaceholder){if(mode.attachToSession)mode.attachToSession(this);this.$options.wrapMethod.set.call(this,this.$wrapMethod);this.$setFolding(mode.foldingRules);this.bgTokenizer.start(0);this._emit("changeMode")}};this.$stopWorker=function(){if(this.$worker){this.$worker.terminate();this.$worker=null}};this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){config.warn("Could not load worker",e);this.$worker=null}};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(scrollTop){if(this.$scrollTop===scrollTop||isNaN(scrollTop))return;this.$scrollTop=scrollTop;this._signal("changeScrollTop",scrollTop)};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(scrollLeft){if(this.$scrollLeft===scrollLeft||isNaN(scrollLeft))return;this.$scrollLeft=scrollLeft;this._signal("changeScrollLeft",scrollLeft)};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){this.$computeWidth();if(this.lineWidgets)return Math.max(this.getLineWidgetMaxWidth(),this.screenWidth);return this.screenWidth};this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var width=0;this.lineWidgets.forEach(function(w){if(w&&w.screenWidth>width)width=w.screenWidth});return this.lineWidgetWidth=width};this.$computeWidth=function(force){if(this.$modified||force){this.$modified=false;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var lines=this.doc.getAllLines();var cache=this.$rowLengthCache;var longestScreenLine=0;var foldIndex=0;var foldLine=this.$foldData[foldIndex];var foldStart=foldLine?foldLine.start.row:Infinity;var len=lines.length;for(var i=0;i<len;i++){if(i>foldStart){i=foldLine.end.row+1;if(i>=len)break;foldLine=this.$foldData[foldIndex++];foldStart=foldLine?foldLine.start.row:Infinity}if(cache[i]==null)cache[i]=this.$getStringScreenWidth(lines[i])[0];if(cache[i]>longestScreenLine)longestScreenLine=cache[i]}this.screenWidth=longestScreenLine}};this.getLine=function(row){return this.doc.getLine(row)};this.getLines=function(firstRow,lastRow){return this.doc.getLines(firstRow,lastRow)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(range){return this.doc.getTextRange(range||this.selection.getRange())};this.insert=function(position,text){return this.doc.insert(position,text)};this.remove=function(range){return this.doc.remove(range)};this.removeFullLines=function(firstRow,lastRow){return this.doc.removeFullLines(firstRow,lastRow)};this.undoChanges=function(deltas,dontSelect){if(!deltas.length)return;this.$fromUndo=true;var lastUndoRange=null;for(var i=deltas.length-1;i!=-1;i--){var delta=deltas[i];if(delta.group=="doc"){this.doc.revertDeltas(delta.deltas);lastUndoRange=this.$getUndoSelection(delta.deltas,true,lastUndoRange)}else delta.deltas.forEach(function(foldDelta){this.addFolds(foldDelta.folds)},this)}this.$fromUndo=false;lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange);return lastUndoRange};this.redoChanges=function(deltas,dontSelect){if(!deltas.length)return;this.$fromUndo=true;var lastUndoRange=null;for(var i=0;i<deltas.length;i++){var delta=deltas[i];if(delta.group=="doc"){this.doc.applyDeltas(delta.deltas);lastUndoRange=this.$getUndoSelection(delta.deltas,false,lastUndoRange)}}this.$fromUndo=false;lastUndoRange&&this.$undoSelect&&!dontSelect&&this.selection.setSelectionRange(lastUndoRange);return lastUndoRange};this.setUndoSelect=function(enable){this.$undoSelect=enable};this.$getUndoSelection=function(deltas,isUndo,lastUndoRange){function isInsert(delta){return isUndo?delta.action!=="insert":delta.action==="insert"}var delta=deltas[0];var range,point;var lastDeltaIsInsert=false;if(isInsert(delta)){range=Range.fromPoints(delta.start,delta.end);lastDeltaIsInsert=true}else{range=Range.fromPoints(delta.start,delta.start);lastDeltaIsInsert=false}for(var i=1;i<deltas.length;i++){delta=deltas[i];if(isInsert(delta)){point=delta.start;if(range.compare(point.row,point.column)==-1)range.setStart(point);point=delta.end;if(range.compare(point.row,point.column)==1)range.setEnd(point);lastDeltaIsInsert=true}else{point=delta.start;if(range.compare(point.row,point.column)==-1)range=Range.fromPoints(delta.start,delta.start);lastDeltaIsInsert=false}}if(lastUndoRange!=null){if(Range.comparePoints(lastUndoRange.start,range.start)===0){lastUndoRange.start.column+=range.end.column-range.start.column;lastUndoRange.end.column+=range.end.column-range.start.column}var cmp=lastUndoRange.compareRange(range);if(cmp==1)range.setStart(lastUndoRange.start);else if(cmp==-1)range.setEnd(lastUndoRange.end)}return range};this.replace=function(range,text){return this.doc.replace(range,text)};this.moveText=function(fromRange,toPosition,copy){var text=this.getTextRange(fromRange);var folds=this.getFoldsInRange(fromRange);var toRange=Range.fromPoints(toPosition,toPosition);if(!copy){this.remove(fromRange);var rowDiff=fromRange.start.row-fromRange.end.row;var collDiff=rowDiff?-fromRange.end.column:fromRange.start.column-fromRange.end.column;if(collDiff){if(toRange.start.row==fromRange.end.row&&toRange.start.column>fromRange.end.column)toRange.start.column+=collDiff;if(toRange.end.row==fromRange.end.row&&toRange.end.column>fromRange.end.column)toRange.end.column+=collDiff}if(rowDiff&&toRange.start.row>=fromRange.end.row){toRange.start.row+=rowDiff;toRange.end.row+=rowDiff}}toRange.end=this.insert(toRange.start,text);if(folds.length){var oldStart=fromRange.start;var newStart=toRange.start;var rowDiff=newStart.row-oldStart.row;var collDiff=newStart.column-oldStart.column;this.addFolds(folds.map(function(x){x=x.clone();if(x.start.row==oldStart.row)x.start.column+=collDiff;if(x.end.row==oldStart.row)x.end.column+=collDiff;x.start.row+=rowDiff;x.end.row+=rowDiff;return x}))}return toRange};this.indentRows=function(startRow,endRow,indentString){indentString=indentString.replace(/\t/g,this.getTabString());for(var row=startRow;row<=endRow;row++)this.doc.insertInLine({row:row,column:0},indentString)};this.outdentRows=function(range){var rowRange=range.collapseRows();var deleteRange=new Range(0,0,0,0);var size=this.getTabSize();for(var i=rowRange.start.row;i<=rowRange.end.row;++i){var line=this.getLine(i);deleteRange.start.row=i;deleteRange.end.row=i;for(var j=0;j<size;++j)if(line.charAt(j)!=" ")break;if(j<size&&line.charAt(j)=="\t"){deleteRange.start.column=j;deleteRange.end.column=j+1}else{deleteRange.start.column=0;deleteRange.end.column=j}this.remove(deleteRange)}};this.$moveLines=function(firstRow,lastRow,dir){firstRow=this.getRowFoldStart(firstRow);lastRow=this.getRowFoldEnd(lastRow);if(dir<0){var row=this.getRowFoldStart(firstRow+dir);if(row<0)return 0;var diff=row-firstRow}else if(dir>0){var row=this.getRowFoldEnd(lastRow+dir);if(row>this.doc.getLength()-1)return 0;var diff=row-lastRow}else{firstRow=this.$clipRowToDocument(firstRow);lastRow=this.$clipRowToDocument(lastRow);var diff=lastRow-firstRow+1}var range=new Range(firstRow,0,lastRow,Number.MAX_VALUE);var folds=this.getFoldsInRange(range).map(function(x){x=x.clone();x.start.row+=diff;x.end.row+=diff;return x});var lines=dir==0?this.doc.getLines(firstRow,lastRow):this.doc.removeFullLines(firstRow,lastRow);this.doc.insertFullLines(firstRow+diff,lines);folds.length&&this.addFolds(folds);return diff};this.moveLinesUp=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,-1)};this.moveLinesDown=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,1)};this.duplicateLines=function(firstRow,lastRow){return this.$moveLines(firstRow,lastRow,0)};this.$clipRowToDocument=function(row){return Math.max(0,Math.min(row,this.doc.getLength()-1))};this.$clipColumnToRow=function(row,column){if(column<0)return 0;return Math.min(this.doc.getLine(row).length,column)};this.$clipPositionToDocument=function(row,column){column=Math.max(0,column);if(row<0){row=0;column=0}else{var len=this.doc.getLength();if(row>=len){row=len-1;column=this.doc.getLine(len-1).length}else column=Math.min(this.doc.getLine(row).length,column)}return{row:row,column:column}};this.$clipRangeToDocument=function(range){if(range.start.row<0){range.start.row=0;range.start.column=0}else range.start.column=this.$clipColumnToRow(range.start.row,range.start.column);var len=this.doc.getLength()-1;if(range.end.row>len){range.end.row=len;range.end.column=this.doc.getLine(len).length}else range.end.column=this.$clipColumnToRow(range.end.row,range.end.column);return range};this.$wrapLimit=80;this.$useWrapMode=false;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(useWrapMode){if(useWrapMode!=this.$useWrapMode){this.$useWrapMode=useWrapMode;this.$modified=true;this.$resetRowCache(0);if(useWrapMode){var len=this.getLength();this.$wrapData=Array(len);this.$updateWrapData(0,len-1)}this._signal("changeWrapMode")}};this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(min,max){if(this.$wrapLimitRange.min!==min||this.$wrapLimitRange.max!==max){this.$wrapLimitRange={min:min,max:max};this.$modified=true;this.$bidiHandler.markAsDirty();if(this.$useWrapMode)this._signal("changeWrapMode")}};this.adjustWrapLimit=function(desiredLimit,$printMargin){var limits=this.$wrapLimitRange;if(limits.max<0)limits={min:$printMargin,max:$printMargin};var wrapLimit=this.$constrainWrapLimit(desiredLimit,limits.min,limits.max);if(wrapLimit!=this.$wrapLimit&&wrapLimit>1){this.$wrapLimit=wrapLimit;this.$modified=true;if(this.$useWrapMode){this.$updateWrapData(0,this.getLength()-1);this.$resetRowCache(0);this._signal("changeWrapLimit")}return true}return false};this.$constrainWrapLimit=function(wrapLimit,min,max){if(min)wrapLimit=Math.max(min,wrapLimit);if(max)wrapLimit=Math.min(max,wrapLimit);return wrapLimit};this.getWrapLimit=function(){return this.$wrapLimit};this.setWrapLimit=function(limit){this.setWrapLimitRange(limit,limit)};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(delta){var useWrapMode=this.$useWrapMode;var action=delta.action;var start=delta.start;var end=delta.end;var firstRow=start.row;var lastRow=end.row;var len=lastRow-firstRow;var removedFolds=null;this.$updating=true;if(len!=0)if(action==="remove"){this[useWrapMode?"$wrapData":"$rowLengthCache"].splice(firstRow,len);var foldLines=this.$foldData;removedFolds=this.getFoldsInRange(delta);this.removeFolds(removedFolds);var foldLine=this.getFoldLine(end.row);var idx=0;if(foldLine){foldLine.addRemoveChars(end.row,end.column,start.column-end.column);foldLine.shiftRow(-len);var foldLineBefore=this.getFoldLine(firstRow);if(foldLineBefore&&foldLineBefore!==foldLine){foldLineBefore.merge(foldLine);foldLine=foldLineBefore}idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];if(foldLine.start.row>=end.row)foldLine.shiftRow(-len)}lastRow=firstRow}else{var args=Array(len);args.unshift(firstRow,0);var arr=useWrapMode?this.$wrapData:this.$rowLengthCache;arr.splice.apply(arr,args);var foldLines=this.$foldData;var foldLine=this.getFoldLine(firstRow);var idx=0;if(foldLine){var cmp=foldLine.range.compareInside(start.row,start.column);if(cmp==0){foldLine=foldLine.split(start.row,start.column);if(foldLine){foldLine.shiftRow(len);foldLine.addRemoveChars(lastRow,0,end.column-start.column)}}else if(cmp==-1){foldLine.addRemoveChars(firstRow,0,end.column-start.column);foldLine.shiftRow(len)}idx=foldLines.indexOf(foldLine)+1}for(idx;idx<foldLines.length;idx++){var foldLine=foldLines[idx];if(foldLine.start.row>=firstRow)foldLine.shiftRow(len)}}else{len=Math.abs(delta.start.column-delta.end.column);if(action==="remove"){removedFolds=this.getFoldsInRange(delta);this.removeFolds(removedFolds);len=-len}var foldLine=this.getFoldLine(firstRow);if(foldLine)foldLine.addRemoveChars(firstRow,start.column,len)}if(useWrapMode&&this.$wrapData.length!=this.doc.getLength())console.error("doc.getLength() and $wrapData.length have to be the same!");this.$updating=false;if(useWrapMode)this.$updateWrapData(firstRow,lastRow);else this.$updateRowLengthCache(firstRow,lastRow);return removedFolds};this.$updateRowLengthCache=function(firstRow,lastRow,b){this.$rowLengthCache[firstRow]=null;this.$rowLengthCache[lastRow]=null};this.$updateWrapData=function(firstRow,lastRow){var lines=this.doc.getAllLines();var tabSize=this.getTabSize();var wrapData=this.$wrapData;var wrapLimit=this.$wrapLimit;var tokens;var foldLine;var row=firstRow;lastRow=Math.min(lastRow,lines.length-1);while(row<=lastRow){foldLine=this.getFoldLine(row,foldLine);if(!foldLine){tokens=this.$getDisplayTokens(lines[row]);wrapData[row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize);row++}else{tokens=[];foldLine.walk(function(placeholder,row,column,lastColumn){var walkTokens;if(placeholder!=null){walkTokens=this.$getDisplayTokens(placeholder,tokens.length);walkTokens[0]=PLACEHOLDER_START;for(var i=1;i<walkTokens.length;i++)walkTokens[i]=PLACEHOLDER_BODY}else walkTokens=this.$getDisplayTokens(lines[row].substring(lastColumn,column),tokens.length);tokens=tokens.concat(walkTokens)}.bind(this),foldLine.end.row,lines[foldLine.end.row].length+1);wrapData[foldLine.start.row]=this.$computeWrapSplits(tokens,wrapLimit,tabSize);row=foldLine.end.row+1}}};var CHAR=1,CHAR_EXT=2,PLACEHOLDER_START=3,PLACEHOLDER_BODY=4,PUNCTUATION=9,SPACE=10,TAB=11,TAB_SPACE=12;this.$computeWrapSplits=function(tokens,wrapLimit,tabSize){if(tokens.length==0)return[];var splits=[];var displayLength=tokens.length;var lastSplit=0,lastDocSplit=0;var isCode=this.$wrapAsCode;var indentedSoftWrap=this.$indentedSoftWrap;var maxIndent=wrapLimit<=Math.max(2*tabSize,8)||indentedSoftWrap===false?0:Math.floor(wrapLimit/2);function getWrapIndent(){var indentation=0;if(maxIndent===0)return indentation;if(indentedSoftWrap)for(var i=0;i<tokens.length;i++){var token=tokens[i];if(token==SPACE)indentation+=1;else if(token==TAB)indentation+=tabSize;else if(token==TAB_SPACE)continue;else break}if(isCode&&indentedSoftWrap!==false)indentation+=tabSize;return Math.min(indentation,maxIndent)}function addSplit(screenPos){var displayed=tokens.slice(lastSplit,screenPos);var len=displayed.length;displayed.join("").replace(/12/g,function(){len-=1}).replace(/2/g,function(){len-=1});if(!splits.length){indent=getWrapIndent();splits.indent=indent}lastDocSplit+=len;splits.push(lastDocSplit);lastSplit=screenPos}var indent=0;while(displayLength-lastSplit>wrapLimit-indent){var split=lastSplit+wrapLimit-indent;if(tokens[split-1]>=SPACE&&tokens[split]>=SPACE){addSplit(split);continue}if(tokens[split]==PLACEHOLDER_START||tokens[split]==PLACEHOLDER_BODY){for(split;split!=lastSplit-1;split--)if(tokens[split]==PLACEHOLDER_START)break;if(split>lastSplit){addSplit(split);continue}split=lastSplit+wrapLimit;for(split;split<tokens.length;split++)if(tokens[split]!=PLACEHOLDER_BODY)break;if(split==tokens.length)break;addSplit(split);continue}var minSplit=Math.max(split-(wrapLimit-(wrapLimit>>2)),lastSplit-1);while(split>minSplit&&tokens[split]<PLACEHOLDER_START)split--;if(isCode){while(split>minSplit&&tokens[split]<PLACEHOLDER_START)split--;while(split>minSplit&&tokens[split]==PUNCTUATION)split--}else while(split>minSplit&&tokens[split]<SPACE)split--;if(split>minSplit){addSplit(++split);continue}split=lastSplit+wrapLimit;if(tokens[split]==CHAR_EXT)split--;addSplit(split-indent)}return splits};this.$getDisplayTokens=function(str,offset){var arr=[];var tabSize;offset=offset||0;for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(c==9){tabSize=this.getScreenTabSize(arr.length+offset);arr.push(TAB);for(var n=1;n<tabSize;n++)arr.push(TAB_SPACE)}else if(c==32)arr.push(SPACE);else if(c>39&&c<48||c>57&&c<64)arr.push(PUNCTUATION);else if(c>=4352&&isFullWidth(c))arr.push(CHAR,CHAR_EXT);else arr.push(CHAR)}return arr};this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(maxScreenColumn==0)return[0,0];if(maxScreenColumn==null)maxScreenColumn=Infinity;screenColumn=screenColumn||0;var c,column;for(column=0;column<str.length;column++){c=str.charCodeAt(column);if(c==9)screenColumn+=this.getScreenTabSize(screenColumn);else if(c>=4352&&isFullWidth(c))screenColumn+=2;else screenColumn+=1;if(screenColumn>maxScreenColumn)break}return[screenColumn,column]};this.lineWidgets=null;this.getRowLength=function(row){if(this.lineWidgets)var h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;if(!this.$useWrapMode||!this.$wrapData[row])return 1+h;else return this.$wrapData[row].length+1+h};this.getRowLineCount=function(row){if(!this.$useWrapMode||!this.$wrapData[row])return 1;else return this.$wrapData[row].length+1};this.getRowWrapIndent=function(screenRow){if(this.$useWrapMode){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);var splits=this.$wrapData[pos.row];return splits.length&&splits[0]<pos.column?splits.indent:0}else return 0};this.getScreenLastRowColumn=function(screenRow){var pos=this.screenToDocumentPosition(screenRow,Number.MAX_VALUE);return this.documentToScreenColumn(pos.row,pos.column)};this.getDocumentLastRowColumn=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.getScreenLastRowColumn(screenRow)};this.getDocumentLastRowColumnPosition=function(docRow,docColumn){var screenRow=this.documentToScreenRow(docRow,docColumn);return this.screenToDocumentPosition(screenRow,Number.MAX_VALUE/10)};this.getRowSplitData=function(row){if(!this.$useWrapMode)return undefined;else return this.$wrapData[row]};this.getScreenTabSize=function(screenColumn){return this.$tabSize-screenColumn%this.$tabSize};this.screenToDocumentRow=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).row};this.screenToDocumentColumn=function(screenRow,screenColumn){return this.screenToDocumentPosition(screenRow,screenColumn).column};this.screenToDocumentPosition=function(screenRow,screenColumn,offsetX){if(screenRow<0)return{row:0,column:0};var line;var docRow=0;var docColumn=0;var column;var row=0;var rowLength=0;var rowCache=this.$screenRowCache;var i=this.$getRowCacheIndex(rowCache,screenRow);var l=rowCache.length;if(l&&i>=0){var row=rowCache[i];var docRow=this.$docRowCache[i];var doCache=screenRow>rowCache[l-1]}else var doCache=!l;var maxRow=this.getLength()-1;var foldLine=this.getNextFoldLine(docRow);var foldStart=foldLine?foldLine.start.row:Infinity;while(row<=screenRow){rowLength=this.getRowLength(docRow);if(row+rowLength>screenRow||docRow>=maxRow)break;else{row+=rowLength;docRow++;if(docRow>foldStart){docRow=foldLine.end.row+1;foldLine=this.getNextFoldLine(docRow,foldLine);foldStart=foldLine?foldLine.start.row:Infinity}}if(doCache){this.$docRowCache.push(docRow);this.$screenRowCache.push(row)}}if(foldLine&&foldLine.start.row<=docRow){line=this.getFoldDisplayLine(foldLine);docRow=foldLine.start.row}else if(row+rowLength<=screenRow||docRow>maxRow)return{row:maxRow,column:this.getLine(maxRow).length};else{line=this.getLine(docRow);foldLine=null}var wrapIndent=0,splitIndex=Math.floor(screenRow-row);if(this.$useWrapMode){var splits=this.$wrapData[docRow];if(splits){column=splits[splitIndex];if(splitIndex>0&&splits.length){wrapIndent=splits.indent;docColumn=splits[splitIndex-1]||splits[splits.length-1];line=line.substring(docColumn)}}}if(offsetX!==undefined&&this.$bidiHandler.isBidiRow(row+splitIndex,docRow,splitIndex))screenColumn=this.$bidiHandler.offsetToCol(offsetX);docColumn+=this.$getStringScreenWidth(line,screenColumn-wrapIndent)[1];if(this.$useWrapMode&&docColumn>=column)docColumn=column-1;if(foldLine)return foldLine.idxToPosition(docColumn);return{row:docRow,column:docColumn}};this.documentToScreenPosition=function(docRow,docColumn){if(typeof docColumn==="undefined")var pos=this.$clipPositionToDocument(docRow.row,docRow.column);else pos=this.$clipPositionToDocument(docRow,docColumn);docRow=pos.row;docColumn=pos.column;var screenRow=0;var foldStartRow=null;var fold=null;fold=this.getFoldAt(docRow,docColumn,1);if(fold){docRow=fold.start.row;docColumn=fold.start.column}var rowEnd,row=0;var rowCache=this.$docRowCache;var i=this.$getRowCacheIndex(rowCache,docRow);var l=rowCache.length;if(l&&i>=0){var row=rowCache[i];var screenRow=this.$screenRowCache[i];var doCache=docRow>rowCache[l-1]}else var doCache=!l;var foldLine=this.getNextFoldLine(row);var foldStart=foldLine?foldLine.start.row:Infinity;while(row<docRow){if(row>=foldStart){rowEnd=foldLine.end.row+1;if(rowEnd>docRow)break;foldLine=this.getNextFoldLine(rowEnd,foldLine);foldStart=foldLine?foldLine.start.row:Infinity}else rowEnd=row+1;screenRow+=this.getRowLength(row);row=rowEnd;if(doCache){this.$docRowCache.push(row);this.$screenRowCache.push(screenRow)}}var textLine="";if(foldLine&&row>=foldStart){textLine=this.getFoldDisplayLine(foldLine,docRow,docColumn);foldStartRow=foldLine.start.row}else{textLine=this.getLine(docRow).substring(0,docColumn);foldStartRow=docRow}var wrapIndent=0;if(this.$useWrapMode){var wrapRow=this.$wrapData[foldStartRow];if(wrapRow){var screenRowOffset=0;while(textLine.length>=wrapRow[screenRowOffset]){screenRow++;screenRowOffset++}textLine=textLine.substring(wrapRow[screenRowOffset-1]||0,textLine.length);wrapIndent=screenRowOffset>0?wrapRow.indent:0}}return{row:screenRow,column:wrapIndent+this.$getStringScreenWidth(textLine)[0]}};this.documentToScreenColumn=function(row,docColumn){return this.documentToScreenPosition(row,docColumn).column};this.documentToScreenRow=function(docRow,docColumn){return this.documentToScreenPosition(docRow,docColumn).row};this.getScreenLength=function(){var screenRows=0;var fold=null;if(!this.$useWrapMode){screenRows=this.getLength();var foldData=this.$foldData;for(var i=0;i<foldData.length;i++){fold=foldData[i];screenRows-=fold.end.row-fold.start.row}}else{var lastRow=this.$wrapData.length;var row=0,i=0;var fold=this.$foldData[i++];var foldStart=fold?fold.start.row:Infinity;while(row<lastRow){var splits=this.$wrapData[row];screenRows+=splits?splits.length+1:1;row++;if(row>foldStart){row=fold.end.row+1;fold=this.$foldData[i++];foldStart=fold?fold.start.row:Infinity}}}if(this.lineWidgets)screenRows+=this.$getWidgetScreenLength();return screenRows};this.$setFontMetrics=function(fm){if(!this.$enableVarChar)return;this.$getStringScreenWidth=function(str,maxScreenColumn,screenColumn){if(maxScreenColumn===0)return[0,0];if(!maxScreenColumn)maxScreenColumn=Infinity;screenColumn=screenColumn||0;var c,column;for(column=0;column<str.length;column++){c=str.charAt(column);if(c==="\t")screenColumn+=this.getScreenTabSize(screenColumn);else screenColumn+=fm.getCharacterWidth(c);if(screenColumn>maxScreenColumn)break}return[screenColumn,column]}};this.destroy=function(){if(this.bgTokenizer){this.bgTokenizer.setDocument(null);this.bgTokenizer=null}this.$stopWorker()};this.isFullWidth=isFullWidth;function isFullWidth(c){if(c<4352)return false;return c>=4352&&c<=4447||c>=4515&&c<=4519||c>=4602&&c<=4607||c>=9001&&c<=9002||c>=11904&&c<=11929||c>=11931&&c<=12019||c>=12032&&c<=12245||c>=12272&&c<=12283||c>=12288&&c<=12350||c>=12353&&c<=12438||c>=12441&&c<=12543||c>=12549&&c<=12589||c>=12593&&c<=12686||c>=12688&&c<=12730||c>=12736&&c<=12771||c>=12784&&c<=12830||c>=12832&&c<=12871||c>=12880&&c<=13054||c>=13056&&c<=19903||c>=19968&&c<=42124||c>=42128&&c<=42182||c>=43360&&c<=43388||c>=44032&&c<=55203||c>=55216&&c<=55238||c>=55243&&c<=55291||c>=63744&&c<=64255||c>=65040&&c<=65049||c>=65072&&c<=65106||c>=65108&&c<=65126||c>=65128&&c<=65131||c>=65281&&c<=65376||c>=65504&&c<=65510}}).call(EditSession.prototype);acequire("./edit_session/folding").Folding.call(EditSession.prototype);acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);config.defineOptions(EditSession.prototype,"session",{wrap:{set:function(value){if(!value||value=="off")value=false;else if(value=="free")value=true;else if(value=="printMargin")value=-1;else if(typeof value=="string")value=parseInt(value,10)||false;if(this.$wrap==value)return;this.$wrap=value;if(!value)this.setUseWrapMode(false);else{var col=typeof value=="number"?value:null;this.setWrapLimitRange(col,col);this.setUseWrapMode(true)}},get:function(){if(this.getUseWrapMode()){if(this.$wrap==-1)return"printMargin";if(!this.getWrapLimitRange().min)return"free";return this.$wrap}return"off"},handlesSet:true},wrapMethod:{set:function(val){val=val=="auto"?this.$mode.type!="text":val!="text";if(val!=this.$wrapAsCode){this.$wrapAsCode=val;if(this.$useWrapMode){this.$modified=true;this.$resetRowCache(0);this.$updateWrapData(0,this.getLength()-1)}}},initialValue:"auto"},indentedSoftWrap:{initialValue:true},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(useWorker){this.$useWorker=useWorker;this.$stopWorker();if(useWorker)this.$startWorker()},initialValue:true},useSoftTabs:{initialValue:true},tabSize:{set:function(tabSize){if(isNaN(tabSize)||this.$tabSize===tabSize)return;this.$modified=true;this.$rowLengthCache=[];this.$tabSize=tabSize;this._signal("changeTabSize")},initialValue:4,handlesSet:true},navigateWithinSoftTabs:{initialValue:false},overwrite:{set:function(val){this._signal("changeOverwrite")},initialValue:false},newLineMode:{set:function(val){this.doc.setNewLineMode(val)},get:function(){return this.doc.getNewLineMode()},handlesSet:true},mode:{set:function(val){this.setMode(val)},get:function(){return this.$modeId}}});exports.EditSession=EditSession});ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(acequire,exports,module){var lang=acequire("./lib/lang");var oop=acequire("./lib/oop");var Range=acequire("./range").Range;var Search=function(){this.$options={}};(function(){this.set=function(options){oop.mixin(this.$options,options);return this};this.getOptions=function(){return lang.copyObject(this.$options)};this.setOptions=function(options){this.$options=options};this.find=function(session){var options=this.$options;var iterator=this.$matchIterator(session,options);if(!iterator)return false;var firstRange=null;iterator.forEach(function(sr,sc,er,ec){firstRange=new Range(sr,sc,er,ec);if(sc==ec&&options.start&&options.start.start&&options.skipCurrent!=false&&firstRange.isEqual(options.start)){firstRange=null;return false}return true});return firstRange};this.findAll=function(session){var options=this.$options;if(!options.needle)return[];this.$assembleRegExp(options);var range=options.range;var lines=range?session.getLines(range.start.row,range.end.row):session.doc.getAllLines();var ranges=[];var re=options.re;if(options.$isMultiLine){var len=re.length;var maxRow=lines.length-len;var prevRange;outer:for(var row=re.offset||0;row<=maxRow;row++){for(var j=0;j<len;j++)if(lines[row+j].search(re[j])==-1)continue outer;var startLine=lines[row];var line=lines[row+len-1];var startIndex=startLine.length-startLine.match(re[0])[0].length;var endIndex=line.match(re[len-1])[0].length;if(prevRange&&prevRange.end.row===row&&prevRange.end.column>startIndex)continue;ranges.push(prevRange=new Range(row,startIndex,row+len-1,endIndex));if(len>2)row=row+len-2}}else for(var i=0;i<lines.length;i++){var matches=lang.getMatchOffsets(lines[i],re);for(var j=0;j<matches.length;j++){var match=matches[j];ranges.push(new Range(i,match.offset,i,match.offset+match.length))}}if(range){var startColumn=range.start.column;var endColumn=range.start.column;var i=0,j=ranges.length-1;while(i<j&&ranges[i].start.column<startColumn&&ranges[i].start.row==range.start.row)i++;while(i<j&&ranges[j].end.column>endColumn&&ranges[j].end.row==range.end.row)j--;ranges=ranges.slice(i,j+1);for(i=0,j=ranges.length;i<j;i++){ranges[i].start.row+=range.start.row;ranges[i].end.row+=range.start.row}}return ranges};this.replace=function(input,replacement){var options=this.$options;var re=this.$assembleRegExp(options);if(options.$isMultiLine)return replacement;if(!re)return;var match=re.exec(input);if(!match||match[0].length!=input.length)return null;replacement=input.replace(re,replacement);if(options.preserveCase){replacement=replacement.split("");for(var i=Math.min(input.length,input.length);i--;){var ch=input[i];if(ch&&ch.toLowerCase()!=ch)replacement[i]=replacement[i].toUpperCase();else replacement[i]=replacement[i].toLowerCase()}replacement=replacement.join("")}return replacement};this.$assembleRegExp=function(options,$disableFakeMultiline){if(options.needle instanceof RegExp)return options.re=options.needle;var needle=options.needle;if(!options.needle)return options.re=false;if(!options.regExp)needle=lang.escapeRegExp(needle);if(options.wholeWord)needle=addWordBoundary(needle,options);var modifier=options.caseSensitive?"gm":"gmi";options.$isMultiLine=!$disableFakeMultiline&&/[\n\r]/.test(needle);if(options.$isMultiLine)return options.re=this.$assembleMultilineRegExp(needle,modifier);try{var re=new RegExp(needle,modifier)}catch(e){re=false}return options.re=re};this.$assembleMultilineRegExp=function(needle,modifier){var parts=needle.replace(/\r\n|\r|\n/g,"$\n^").split("\n");var re=[];for(var i=0;i<parts.length;i++)try{re.push(new RegExp(parts[i],modifier))}catch(e){return false}return re};this.$matchIterator=function(session,options){var re=this.$assembleRegExp(options);if(!re)return false;var backwards=options.backwards==true;var skipCurrent=options.skipCurrent!=false;var range=options.range;var start=options.start;if(!start)start=range?range[backwards?"end":"start"]:session.selection.getRange();if(start.start)start=start[skipCurrent!=backwards?"end":"start"];var firstRow=range?range.start.row:0;var lastRow=range?range.end.row:session.getLength()-1;if(backwards)var forEach=function(callback){var row=start.row;if(forEachInLine(row,start.column,callback))return;for(row--;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return;if(options.wrap==false)return;for(row=lastRow,firstRow=start.row;row>=firstRow;row--)if(forEachInLine(row,Number.MAX_VALUE,callback))return};else var forEach=function(callback){var row=start.row;if(forEachInLine(row,start.column,callback))return;for(row=row+1;row<=lastRow;row++)if(forEachInLine(row,0,callback))return;if(options.wrap==false)return;for(row=firstRow,lastRow=start.row;row<=lastRow;row++)if(forEachInLine(row,0,callback))return};if(options.$isMultiLine){var len=re.length;var forEachInLine=function(row,offset,callback){var startRow=backwards?row-len+1:row;if(startRow<0)return;var line=session.getLine(startRow);var startIndex=line.search(re[0]);if(!backwards&&startIndex<offset||startIndex===-1)return;for(var i=1;i<len;i++){line=session.getLine(startRow+i);if(line.search(re[i])==-1)return}var endIndex=line.match(re[len-1])[0].length;if(backwards&&endIndex>offset)return;if(callback(startRow,startIndex,startRow+len-1,endIndex))return true}}else if(backwards)var forEachInLine=function(row,endIndex,callback){var line=session.getLine(row);var matches=[];var m,last=0;re.lastIndex=0;while(m=re.exec(line)){var length=m[0].length;last=m.index;if(!length){if(last>=line.length)break;re.lastIndex=last+=1}if(m.index+length>endIndex)break;matches.push(m.index,length)}for(var i=matches.length-1;i>=0;i-=2){var column=matches[i-1];var length=matches[i];if(callback(row,column,row,column+length))return true}};else var forEachInLine=function(row,startIndex,callback){var line=session.getLine(row);var m;var last=startIndex;re.lastIndex=startIndex;while(m=re.exec(line)){var length=m[0].length;last=m.index;if(callback(row,last,row,last+length))return true;if(!length){re.lastIndex=last+=1;if(last>=line.length)return false}}};return{forEach:forEach}}}).call(Search.prototype);function addWordBoundary(needle,options){function wordBoundary(c){if(/\w/.test(c)||options.regExp)return"\\b";return""}return wordBoundary(needle[0])+needle+wordBoundary(needle[needle.length-1])}exports.Search=Search});ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(acequire,exports,module){var keyUtil=acequire("../lib/keys");var useragent=acequire("../lib/useragent");var KEY_MODS=keyUtil.KEY_MODS;function HashHandler(config,platform){this.platform=platform||(useragent.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(config);this.$singleCommand=true}function MultiHashHandler(config,platform){HashHandler.call(this,config,platform);this.$singleCommand=false}MultiHashHandler.prototype=HashHandler.prototype;(function(){this.addCommand=function(command){if(this.commands[command.name])this.removeCommand(command);this.commands[command.name]=command;if(command.bindKey)this._buildKeyHash(command)};this.removeCommand=function(command,keepCommand){var name=command&&(typeof command==="string"?command:command.name);command=this.commands[name];if(!keepCommand)delete this.commands[name];var ckb=this.commandKeyBinding;for(var keyId in ckb){var cmdGroup=ckb[keyId];if(cmdGroup==command)delete ckb[keyId];else if(Array.isArray(cmdGroup)){var i=cmdGroup.indexOf(command);if(i!=-1){cmdGroup.splice(i,1);if(cmdGroup.length==1)ckb[keyId]=cmdGroup[0]}}}};this.bindKey=function(key,command,position){if(typeof key=="object"&&key){if(position==undefined)position=key.position;key=key[this.platform]}if(!key)return;if(typeof command=="function")return this.addCommand({exec:command,bindKey:key,name:command.name||key});key.split("|").forEach(function(keyPart){var chain="";if(keyPart.indexOf(" ")!=-1){var parts=keyPart.split(/\s+/);keyPart=parts.pop();parts.forEach(function(keyPart){var binding=this.parseKeys(keyPart);var id=KEY_MODS[binding.hashId]+binding.key;chain+=(chain?" ":"")+id;this._addCommandToBinding(chain,"chainKeys")},this);chain+=" "}var binding=this.parseKeys(keyPart);var id=KEY_MODS[binding.hashId]+binding.key;this._addCommandToBinding(chain+id,command,position)},this)};function getPosition(command){return typeof command=="object"&&command.bindKey&&command.bindKey.position||(command.isDefault?-100:0)}this._addCommandToBinding=function(keyId,command,position){var ckb=this.commandKeyBinding,i;if(!command)delete ckb[keyId];else if(!ckb[keyId]||this.$singleCommand)ckb[keyId]=command;else{if(!Array.isArray(ckb[keyId]))ckb[keyId]=[ckb[keyId]];else if((i=ckb[keyId].indexOf(command))!=-1)ckb[keyId].splice(i,1);if(typeof position!="number")position=getPosition(command);var commands=ckb[keyId];for(i=0;i<commands.length;i++){var other=commands[i];var otherPos=getPosition(other);if(otherPos>position)break}commands.splice(i,0,command)}};this.addCommands=function(commands){commands&&Object.keys(commands).forEach(function(name){var command=commands[name];if(!command)return;if(typeof command==="string")return this.bindKey(command,name);if(typeof command==="function")command={exec:command};if(typeof command!=="object")return;if(!command.name)command.name=name;this.addCommand(command)},this)};this.removeCommands=function(commands){Object.keys(commands).forEach(function(name){this.removeCommand(commands[name])},this)};this.bindKeys=function(keyList){Object.keys(keyList).forEach(function(key){this.bindKey(key,keyList[key])},this)};this._buildKeyHash=function(command){this.bindKey(command.bindKey,command)};this.parseKeys=function(keys){var parts=keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x});var key=parts.pop();var keyCode=keyUtil[key];if(keyUtil.FUNCTION_KEYS[keyCode])key=keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if(!parts.length)return{key:key,hashId:-1};else if(parts.length==1&&parts[0]=="shift")return{key:key.toUpperCase(),hashId:-1};var hashId=0;for(var i=parts.length;i--;){var modifier=keyUtil.KEY_MODS[parts[i]];if(modifier==null){if(typeof console!="undefined")console.error("invalid modifier "+parts[i]+" in "+keys);return false}hashId|=modifier}return{key:key,hashId:hashId}};this.findKeyCommand=function findKeyCommand(hashId,keyString){var key=KEY_MODS[hashId]+keyString;return this.commandKeyBinding[key]};this.handleKeyboard=function(data,hashId,keyString,keyCode){if(keyCode<0)return;var key=KEY_MODS[hashId]+keyString;var command=this.commandKeyBinding[key];if(data.$keyChain){data.$keyChain+=" "+key;command=this.commandKeyBinding[data.$keyChain]||command}if(command)if(command=="chainKeys"||command[command.length-1]=="chainKeys"){data.$keyChain=data.$keyChain||key;return{command:"null"}}if(data.$keyChain)if((!hashId||hashId==4)&&keyString.length==1)data.$keyChain=data.$keyChain.slice(0,-key.length-1);else if(hashId==-1||keyCode>0)data.$keyChain="";return{command:command}};this.getStatusText=function(editor,data){return data.$keyChain||""}}).call(HashHandler.prototype);exports.HashHandler=HashHandler;exports.MultiHashHandler=MultiHashHandler});ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("../lib/oop");var MultiHashHandler=acequire("../keyboard/hash_handler").MultiHashHandler;var EventEmitter=acequire("../lib/event_emitter").EventEmitter;var CommandManager=function(platform,commands){MultiHashHandler.call(this,commands,platform);this.byName=this.commands;this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};oop.inherits(CommandManager,MultiHashHandler);(function(){oop.implement(this,EventEmitter);this.exec=function(command,editor,args){if(Array.isArray(command)){for(var i=command.length;i--;)if(this.exec(command[i],editor,args))return true;return false}if(typeof command==="string")command=this.commands[command];if(!command)return false;if(editor&&editor.$readOnly&&!command.readOnly)return false;if(command.isAvailable&&!command.isAvailable(editor))return false;var e={editor:editor,command:command,args:args};e.returnValue=this._emit("exec",e);this._signal("afterExec",e);return e.returnValue===false?false:true};this.toggleRecording=function(editor){if(this.$inReplay)return;editor&&editor._emit("changeStatus");if(this.recording){this.macro.pop();this.removeEventListener("exec",this.$addCommandToMacro);if(!this.macro.length)this.macro=this.oldMacro;return this.recording=false}if(!this.$addCommandToMacro)this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this);this.oldMacro=this.macro;this.macro=[];this.on("exec",this.$addCommandToMacro);return this.recording=true};this.replay=function(editor){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording(editor);try{this.$inReplay=true;this.macro.forEach(function(x){if(typeof x=="string")this.exec(x,editor);else this.exec(x[0],editor,x[1])},this)}finally{this.$inReplay=false}};this.trimMacro=function(m){return m.map(function(x){if(typeof x[0]!="string")x[0]=x[0].name;if(!x[1])x=x[0];return x})}}).call(CommandManager.prototype);exports.CommandManager=CommandManager});ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(acequire,exports,module){var lang=acequire("../lib/lang");var config=acequire("../config");var Range=acequire("../range").Range;function bindKey(win,mac){return{win:win,mac:mac}}exports.commands=[{name:"showSettingsMenu",bindKey:bindKey("Ctrl-,","Command-,"),exec:function(editor){config.loadModule("ace/ext/settings_menu",function(module){module.init(editor);editor.showSettingsMenu()})},readOnly:true},{name:"goToNextError",bindKey:bindKey("Alt-E","F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",function(module){module.showErrorMarker(editor,1)})},scrollIntoView:"animate",readOnly:true},{name:"goToPreviousError",bindKey:bindKey("Alt-Shift-E","Shift-F4"),exec:function(editor){config.loadModule("ace/ext/error_marker",function(module){module.showErrorMarker(editor,-1)})},scrollIntoView:"animate",readOnly:true},{name:"selectall",bindKey:bindKey("Ctrl-A","Command-A"),exec:function(editor){editor.selectAll()},readOnly:true},{name:"centerselection",bindKey:bindKey(null,"Ctrl-L"),exec:function(editor){editor.centerSelection()},readOnly:true},{name:"gotoline",bindKey:bindKey("Ctrl-L","Command-L"),exec:function(editor){var line=parseInt(prompt("Enter line number:"),10);if(!isNaN(line))editor.gotoLine(line)},readOnly:true},{name:"fold",bindKey:bindKey("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(editor){editor.session.toggleFold(false)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"unfold",bindKey:bindKey("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(editor){editor.session.toggleFold(true)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"toggleFoldWidget",bindKey:bindKey("F2","F2"),exec:function(editor){editor.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"toggleParentFoldWidget",bindKey:bindKey("Alt-F2","Alt-F2"),exec:function(editor){editor.session.toggleFoldWidget(true)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"foldall",bindKey:bindKey(null,"Ctrl-Command-Option-0"),exec:function(editor){editor.session.foldAll()},scrollIntoView:"center",readOnly:true},{name:"foldOther",bindKey:bindKey("Alt-0","Command-Option-0"),exec:function(editor){editor.session.foldAll();editor.session.unfold(editor.selection.getAllRanges())},scrollIntoView:"center",readOnly:true},{name:"unfoldall",bindKey:bindKey("Alt-Shift-0","Command-Option-Shift-0"),exec:function(editor){editor.session.unfold()},scrollIntoView:"center",readOnly:true},{name:"findnext",bindKey:bindKey("Ctrl-K","Command-G"),exec:function(editor){editor.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"findprevious",bindKey:bindKey("Ctrl-Shift-K","Command-Shift-G"),exec:function(editor){editor.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:true},{name:"selectOrFindNext",bindKey:bindKey("Alt-K","Ctrl-G"),exec:function(editor){if(editor.selection.isEmpty())editor.selection.selectWord();else editor.findNext()},readOnly:true},{name:"selectOrFindPrevious",bindKey:bindKey("Alt-Shift-K","Ctrl-Shift-G"),exec:function(editor){if(editor.selection.isEmpty())editor.selection.selectWord();else editor.findPrevious()},readOnly:true},{name:"find",bindKey:bindKey("Ctrl-F","Command-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor)})},readOnly:true},{name:"overwrite",bindKey:"Insert",exec:function(editor){editor.toggleOverwrite()},readOnly:true},{name:"selecttostart",bindKey:bindKey("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(editor){editor.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:bindKey("Ctrl-Home","Command-Home|Command-Up"),exec:function(editor){editor.navigateFileStart()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:bindKey("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(editor){editor.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"golineup",bindKey:bindKey("Up","Up|Ctrl-P"),exec:function(editor,args){editor.navigateUp(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttoend",bindKey:bindKey("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(editor){editor.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:bindKey("Ctrl-End","Command-End|Command-Down"),exec:function(editor){editor.navigateFileEnd()},multiSelectAction:"forEach",readOnly:true,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:bindKey("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(editor){editor.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"golinedown",bindKey:bindKey("Down","Down|Ctrl-N"),exec:function(editor,args){editor.navigateDown(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectwordleft",bindKey:bindKey("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(editor){editor.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotowordleft",bindKey:bindKey("Ctrl-Left","Option-Left"),exec:function(editor){editor.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttolinestart",bindKey:bindKey("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotolinestart",bindKey:bindKey("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(editor){editor.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectleft",bindKey:bindKey("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(editor){editor.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotoleft",bindKey:bindKey("Left","Left|Ctrl-B"),exec:function(editor,args){editor.navigateLeft(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectwordright",bindKey:bindKey("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(editor){editor.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotowordright",bindKey:bindKey("Ctrl-Right","Option-Right"),exec:function(editor){editor.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selecttolineend",bindKey:bindKey("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotolineend",bindKey:bindKey("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(editor){editor.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectright",bindKey:bindKey("Shift-Right","Shift-Right"),exec:function(editor){editor.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"gotoright",bindKey:bindKey("Right","Right|Ctrl-F"),exec:function(editor,args){editor.navigateRight(args.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(editor){editor.selectPageDown()},readOnly:true},{name:"pagedown",bindKey:bindKey(null,"Option-PageDown"),exec:function(editor){editor.scrollPageDown()},readOnly:true},{name:"gotopagedown",bindKey:bindKey("PageDown","PageDown|Ctrl-V"),exec:function(editor){editor.gotoPageDown()},readOnly:true},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(editor){editor.selectPageUp()},readOnly:true},{name:"pageup",bindKey:bindKey(null,"Option-PageUp"),exec:function(editor){editor.scrollPageUp()},readOnly:true},{name:"gotopageup",bindKey:"PageUp",exec:function(editor){editor.gotoPageUp()},readOnly:true},{name:"scrollup",bindKey:bindKey("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:true},{name:"scrolldown",bindKey:bindKey("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:true},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(editor){editor.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"selectlineend",bindKey:"Shift-End",exec:function(editor){editor.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"togglerecording",bindKey:bindKey("Ctrl-Alt-E","Command-Option-E"),exec:function(editor){editor.commands.toggleRecording(editor)},readOnly:true},{name:"replaymacro",bindKey:bindKey("Ctrl-Shift-E","Command-Shift-E"),exec:function(editor){editor.commands.replay(editor)},readOnly:true},{name:"jumptomatching",bindKey:bindKey("Ctrl-P","Ctrl-P"),exec:function(editor){editor.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"selecttomatching",bindKey:bindKey("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(editor){editor.jumpToMatching(true)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"expandToMatching",bindKey:bindKey("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(editor){editor.jumpToMatching(true,true)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:true},{name:"passKeysToBrowser",bindKey:bindKey(null,null),exec:function(){},passEvent:true,readOnly:true},{name:"copy",exec:function(editor){},readOnly:true},{name:"cut",exec:function(editor){var range=editor.getSelectionRange();editor._emit("cut",range);if(!editor.selection.isEmpty()){editor.session.remove(range);editor.clearSelection()}},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(editor,args){editor.$handlePaste(args)},scrollIntoView:"cursor"},{name:"removeline",bindKey:bindKey("Ctrl-D","Command-D"),exec:function(editor){editor.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:bindKey("Ctrl-Shift-D","Command-Shift-D"),exec:function(editor){editor.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:bindKey("Ctrl-Alt-S","Command-Alt-S"),exec:function(editor){editor.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:bindKey("Ctrl-/","Command-/"),exec:function(editor){editor.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:bindKey("Ctrl-Shift-/","Command-Shift-/"),exec:function(editor){editor.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:bindKey("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(editor){editor.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:bindKey("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(editor){editor.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:bindKey("Ctrl-H","Command-Option-F"),exec:function(editor){config.loadModule("ace/ext/searchbox",function(e){e.Search(editor,true)})}},{name:"undo",bindKey:bindKey("Ctrl-Z","Command-Z"),exec:function(editor){editor.undo()}},{name:"redo",bindKey:bindKey("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(editor){editor.redo()}},{name:"copylinesup",bindKey:bindKey("Alt-Shift-Up","Command-Option-Up"),exec:function(editor){editor.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:bindKey("Alt-Up","Option-Up"),exec:function(editor){editor.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:bindKey("Alt-Shift-Down","Command-Option-Down"),exec:function(editor){editor.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:bindKey("Alt-Down","Option-Down"),exec:function(editor){editor.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:bindKey("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(editor){editor.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:bindKey("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(editor){editor.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:bindKey("Shift-Delete",null),exec:function(editor){if(editor.selection.isEmpty())editor.remove("left");else return false},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:bindKey("Alt-Backspace","Command-Backspace"),exec:function(editor){editor.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:bindKey("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(editor){editor.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:bindKey("Ctrl-Shift-Backspace",null),exec:function(editor){var range=editor.selection.getRange();range.start.column=0;editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:bindKey("Ctrl-Shift-Delete",null),exec:function(editor){var range=editor.selection.getRange();range.end.column=Number.MAX_VALUE;editor.session.remove(range)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:bindKey("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(editor){editor.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:bindKey("Ctrl-Delete","Alt-Delete"),exec:function(editor){editor.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:bindKey("Shift-Tab","Shift-Tab"),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:bindKey("Tab","Tab"),exec:function(editor){editor.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:bindKey("Ctrl-[","Ctrl-["),exec:function(editor){editor.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:bindKey("Ctrl-]","Ctrl-]"),exec:function(editor){editor.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(editor,str){editor.insert(str)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(editor,args){editor.insert(lang.stringRepeat(args.text||"",args.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:bindKey(null,"Ctrl-O"),exec:function(editor){editor.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:bindKey("Alt-Shift-X","Ctrl-T"),exec:function(editor){editor.transposeLetters()},multiSelectAction:function(editor){editor.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:bindKey("Ctrl-U","Ctrl-U"),exec:function(editor){editor.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:bindKey("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(editor){editor.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:bindKey("Ctrl-Shift-L","Command-Shift-L"),exec:function(editor){var range=editor.selection.getRange();range.start.column=range.end.column=0;range.end.row++;editor.selection.setRange(range,false)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:true},{name:"joinlines",bindKey:bindKey(null,null),exec:function(editor){var isBackwards=editor.selection.isBackwards();var selectionStart=isBackwards?editor.selection.getSelectionLead():editor.selection.getSelectionAnchor();var selectionEnd=isBackwards?editor.selection.getSelectionAnchor():editor.selection.getSelectionLead();var firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length;var selectedText=editor.session.doc.getTextRange(editor.selection.getRange());var selectedCount=selectedText.replace(/\n\s*/," ").length;var insertLine=editor.session.doc.getLine(selectionStart.row);for(var i=selectionStart.row+1;i<=selectionEnd.row+1;i++){var curLine=lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));if(curLine.length!==0)curLine=" "+curLine;insertLine+=curLine}if(selectionEnd.row+1<editor.session.doc.getLength()-1)insertLine+=editor.session.doc.getNewLineCharacter();editor.clearSelection();editor.session.doc.replace(new Range(selectionStart.row,0,selectionEnd.row+2,0),insertLine);if(selectedCount>0){editor.selection.moveCursorTo(selectionStart.row,selectionStart.column);editor.selection.selectTo(selectionStart.row,selectionStart.column+selectedCount)}else{firstLineEndCol=editor.session.doc.getLine(selectionStart.row).length>firstLineEndCol?firstLineEndCol+1:firstLineEndCol;editor.selection.moveCursorTo(selectionStart.row,firstLineEndCol)}},multiSelectAction:"forEach",readOnly:true},{name:"invertSelection",bindKey:bindKey(null,null),exec:function(editor){var endRow=editor.session.doc.getLength()-1;var endCol=editor.session.doc.getLine(endRow).length;var ranges=editor.selection.rangeList.ranges;var newRanges=[];if(ranges.length<1)ranges=[editor.selection.getRange()];for(var i=0;i<ranges.length;i++){if(i==ranges.length-1)if(!(ranges[i].end.row===endRow&&ranges[i].end.column===endCol))newRanges.push(new Range(ranges[i].end.row,ranges[i].end.column,endRow,endCol));if(i===0){if(!(ranges[i].start.row===0&&ranges[i].start.column===0))newRanges.push(new Range(0,0,ranges[i].start.row,ranges[i].start.column))}else newRanges.push(new Range(ranges[i-1].end.row,ranges[i-1].end.column,ranges[i].start.row,ranges[i].start.column))}editor.exitMultiSelectMode();editor.clearSelection();for(var i=0;i<newRanges.length;i++)editor.selection.addRange(newRanges[i],false)},readOnly:true,scrollIntoView:"none"}]});ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(acequire,exports,module){acequire("./lib/fixoldbrowsers");var oop=acequire("./lib/oop");var dom=acequire("./lib/dom");var lang=acequire("./lib/lang");var useragent=acequire("./lib/useragent");var TextInput=acequire("./keyboard/textinput").TextInput;var MouseHandler=acequire("./mouse/mouse_handler").MouseHandler;var FoldHandler=acequire("./mouse/fold_handler").FoldHandler;var KeyBinding=acequire("./keyboard/keybinding").KeyBinding;var EditSession=acequire("./edit_session").EditSession;var Search=acequire("./search").Search;var Range=acequire("./range").Range;var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var CommandManager=acequire("./commands/command_manager").CommandManager;var defaultCommands=acequire("./commands/default_commands").commands;var config=acequire("./config");var TokenIterator=acequire("./token_iterator").TokenIterator;var Editor=function(renderer,session){var container=renderer.getContainerElement();this.container=container;this.renderer=renderer;this.id="editor"+ ++Editor.$uid;this.commands=new CommandManager(useragent.isMac?"mac":"win",defaultCommands);if(typeof document=="object"){this.textInput=new TextInput(renderer.getTextAreaContainer(),this);this.renderer.textarea=this.textInput.getElement();this.$mouseHandler=new MouseHandler(this);new FoldHandler(this)}this.keyBinding=new KeyBinding(this);this.$blockScrolling=0;this.$search=(new Search).set({wrap:true});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=lang.delayedCall(function(){this._signal("input",{});if(this.session&&this.session.bgTokenizer)this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(_,_self){_self._$emitInputEvent.schedule(31)});this.setSession(session||new EditSession(""));config.resetOptions(this);config._signal("editor",this)};Editor.$uid=0;(function(){oop.implement(this,EventEmitter);this.$initOperationListeners=function(){function last(a){return a[a.length-1]}this.selections=[];this.commands.on("exec",this.startOperation.bind(this),true);this.commands.on("afterExec",this.endOperation.bind(this),true);this.$opResetTimer=lang.delayedCall(this.endOperation.bind(this));this.on("change",function(){this.curOp||this.startOperation();this.curOp.docChanged=true}.bind(this),true);this.on("changeSelection",function(){this.curOp||this.startOperation();this.curOp.selectionChanged=true}.bind(this),true)};this.curOp=null;this.prevOp={};this.startOperation=function(commadEvent){if(this.curOp){if(!commadEvent||this.curOp.command)return;this.prevOp=this.curOp}if(!commadEvent){this.previousCommand=null;commadEvent={}}this.$opResetTimer.schedule();this.curOp={command:commadEvent.command||{},args:commadEvent.args,scrollTop:this.renderer.scrollTop};if(this.curOp.command.name&&this.curOp.command.scrollIntoView!==undefined)this.$blockScrolling++};this.endOperation=function(e){if(this.curOp){if(e&&e.returnValue===false)return this.curOp=null;this._signal("beforeEndOperation");var command=this.curOp.command;if(command.name&&this.$blockScrolling>0)this.$blockScrolling--;var scrollIntoView=command&&command.scrollIntoView;if(scrollIntoView){switch(scrollIntoView){case "center-animate":scrollIntoView="animate";case "center":this.renderer.scrollCursorIntoView(null,.5);break;case "animate":case "cursor":this.renderer.scrollCursorIntoView();break;case "selectionPart":var range=this.selection.getRange();var config=this.renderer.layerConfig;if(range.start.row>=config.lastRow||range.end.row<=config.firstRow)this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}if(scrollIntoView=="animate")this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp;this.curOp=null}};this.$mergeableCommands=["backspace","del","insertstring"];this.$historyTracker=function(e){if(!this.$mergeUndoDeltas)return;var prev=this.prevOp;var mergeableCommands=this.$mergeableCommands;var shouldMerge=prev.command&&e.command.name==prev.command.name;if(e.command.name=="insertstring"){var text=e.args;if(this.mergeNextCommand===undefined)this.mergeNextCommand=true;shouldMerge=shouldMerge&&this.mergeNextCommand&&(!/\s/.test(text)||/\s/.test(prev.args));this.mergeNextCommand=true}else shouldMerge=shouldMerge&&mergeableCommands.indexOf(e.command.name)!==-1;if(this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2E3)shouldMerge=false;if(shouldMerge)this.session.mergeUndoDeltas=true;else if(mergeableCommands.indexOf(e.command.name)!==-1)this.sequenceStartTime=Date.now()};this.setKeyboardHandler=function(keyboardHandler,cb){if(keyboardHandler&&typeof keyboardHandler==="string"){this.$keybindingId=keyboardHandler;var _self=this;config.loadModule(["keybinding",keyboardHandler],function(module){if(_self.$keybindingId==keyboardHandler)_self.keyBinding.setKeyboardHandler(module&&module.handler);cb&&cb()})}else{this.$keybindingId=null;this.keyBinding.setKeyboardHandler(keyboardHandler);cb&&cb()}};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(session){if(this.session==session)return;if(this.curOp)this.endOperation();this.curOp={};var oldSession=this.session;if(oldSession){this.session.off("change",this.$onDocumentChange);this.session.off("changeMode",this.$onChangeMode);this.session.off("tokenizerUpdate",this.$onTokenizerUpdate);this.session.off("changeTabSize",this.$onChangeTabSize);this.session.off("changeWrapLimit",this.$onChangeWrapLimit);this.session.off("changeWrapMode",this.$onChangeWrapMode);this.session.off("changeFold",this.$onChangeFold);this.session.off("changeFrontMarker",this.$onChangeFrontMarker);this.session.off("changeBackMarker",this.$onChangeBackMarker);this.session.off("changeBreakpoint",this.$onChangeBreakpoint);this.session.off("changeAnnotation",this.$onChangeAnnotation);this.session.off("changeOverwrite",this.$onCursorChange);this.session.off("changeScrollTop",this.$onScrollTopChange);this.session.off("changeScrollLeft",this.$onScrollLeftChange);var selection=this.session.getSelection();selection.off("changeCursor",this.$onCursorChange);selection.off("changeSelection",this.$onSelectionChange)}this.session=session;if(session){this.$onDocumentChange=this.onDocumentChange.bind(this);session.on("change",this.$onDocumentChange);this.renderer.setSession(session);this.$onChangeMode=this.onChangeMode.bind(this);session.on("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);session.on("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer);session.on("changeTabSize",this.$onChangeTabSize);this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);session.on("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);session.on("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);session.on("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.on("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);this.session.on("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.on("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.on("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.on("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);this.session.on("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.on("changeScrollLeft",this.$onScrollLeftChange);this.selection=session.getSelection();this.selection.on("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.on("changeSelection",this.$onSelectionChange);this.onChangeMode();this.$blockScrolling+=1;this.onCursorChange();this.$blockScrolling-=1;this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull()}else{this.selection=null;this.renderer.setSession(session)}this._signal("changeSession",{session:session,oldSession:oldSession});this.curOp=null;oldSession&&oldSession._signal("changeEditor",{oldEditor:this});session&&session._signal("changeEditor",{editor:this});if(session&&session.bgTokenizer)session.bgTokenizer.scheduleStart()};this.getSession=function(){return this.session};this.setValue=function(val,cursorPos){this.session.doc.setValue(val);if(!cursorPos)this.selectAll();else if(cursorPos==1)this.navigateFileEnd();else if(cursorPos==-1)this.navigateFileStart();return val};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(force){this.renderer.onResize(force)};this.setTheme=function(theme,cb){this.renderer.setTheme(theme,cb)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(style){this.renderer.setStyle(style)};this.unsetStyle=function(style){this.renderer.unsetStyle(style)};this.getFontSize=function(){return this.getOption("fontSize")||dom.computedStyle(this.container,"fontSize")};this.setFontSize=function(size){this.setOption("fontSize",size)};this.$highlightBrackets=function(){if(this.session.$bracketHighlight){this.session.removeMarker(this.session.$bracketHighlight);this.session.$bracketHighlight=null}if(this.$highlightPending)return;var self=this;this.$highlightPending=true;setTimeout(function(){self.$highlightPending=false;var session=self.session;if(!session||!session.bgTokenizer)return;var pos=session.findMatchingBracket(self.getCursorPosition());if(pos)var range=new Range(pos.row,pos.column,pos.row,pos.column+1);else if(session.$mode.getMatching)var range=session.$mode.getMatching(self.session);if(range)session.$bracketHighlight=session.addMarker(range,"ace_bracket","text")},50)};this.$highlightTags=function(){if(this.$highlightTagPending)return;var self=this;this.$highlightTagPending=true;setTimeout(function(){self.$highlightTagPending=false;var session=self.session;if(!session||!session.bgTokenizer)return;var pos=self.getCursorPosition();var iterator=new TokenIterator(self.session,pos.row,pos.column);var token=iterator.getCurrentToken();if(!token||!/\b(?:tag-open|tag-name)/.test(token.type)){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null;return}if(token.type.indexOf("tag-open")!=-1){token=iterator.stepForward();if(!token)return}var tag=token.value;var depth=0;var prevToken=iterator.stepBackward();if(prevToken.value=="\x3c"){do{prevToken=token;token=iterator.stepForward();if(token&&token.value===tag&&token.type.indexOf("tag-name")!==-1)if(prevToken.value==="\x3c")depth++;else if(prevToken.value==="\x3c/")depth--}while(token&&depth>=0)}else{do{token=prevToken;prevToken=iterator.stepBackward();if(token&&token.value===tag&&token.type.indexOf("tag-name")!==-1)if(prevToken.value==="\x3c")depth++;else if(prevToken.value==="\x3c/")depth--}while(prevToken&&depth<=0);iterator.stepForward()}if(!token){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null;return}var row=iterator.getCurrentTokenRow();var column=iterator.getCurrentTokenColumn();var range=new Range(row,column,row,column+token.value.length);var sbm=session.$backMarkers[session.$tagHighlight];if(session.$tagHighlight&&sbm!=undefined&&range.compareRange(sbm.range)!==0){session.removeMarker(session.$tagHighlight);session.$tagHighlight=null}if(range&&!session.$tagHighlight)session.$tagHighlight=session.addMarker(range,"ace_bracket","text")},50)};this.focus=function(){var _self=this;setTimeout(function(){_self.textInput.focus()});this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(e){if(this.$isFocused)return;this.$isFocused=true;this.renderer.showCursor();this.renderer.visualizeFocus();this._emit("focus",e)};this.onBlur=function(e){if(!this.$isFocused)return;this.$isFocused=false;this.renderer.hideCursor();this.renderer.visualizeBlur();this._emit("blur",e)};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(delta){var wrap=this.session.$useWrapMode;var lastRow=delta.start.row==delta.end.row?delta.end.row:Infinity;this.renderer.updateLines(delta.start.row,lastRow,wrap);this._signal("change",delta);this.$cursorChange();this.$updateHighlightActiveLine()};this.onTokenizerUpdate=function(e){var rows=e.data;this.renderer.updateLines(rows.first,rows.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();if(!this.$blockScrolling){config.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling \x3d Infinity to disable this message");this.renderer.scrollCursorIntoView()}this.$highlightBrackets();this.$highlightTags();this.$updateHighlightActiveLine();this._signal("changeSelection")};this.$updateHighlightActiveLine=function(){var session=this.getSession();var highlight;if(this.$highlightActiveLine){if(this.$selectionStyle!="line"||!this.selection.isMultiLine())highlight=this.getCursorPosition();if(this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1))highlight=false}if(session.$highlightLineMarker&&!highlight){session.removeMarker(session.$highlightLineMarker.id);session.$highlightLineMarker=null}else if(!session.$highlightLineMarker&&highlight){var range=new Range(highlight.row,highlight.column,highlight.row,Infinity);range.id=session.addMarker(range,"ace_active-line","screenLine");session.$highlightLineMarker=range}else if(highlight){session.$highlightLineMarker.start.row=highlight.row;session.$highlightLineMarker.end.row=highlight.row;session.$highlightLineMarker.start.column=highlight.column;session._signal("changeBackMarker")}};this.onSelectionChange=function(e){var session=this.session;if(session.$selectionMarker)session.removeMarker(session.$selectionMarker);session.$selectionMarker=null;if(!this.selection.isEmpty()){var range=this.selection.getRange();var style=this.getSelectionStyle();session.$selectionMarker=session.addMarker(range,"ace_selection",style)}else this.$updateHighlightActiveLine();var re=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(re);this._signal("changeSelection")};this.$getSelectionHighLightRegexp=function(){var session=this.session;var selection=this.getSelectionRange();if(selection.isEmpty()||selection.isMultiLine())return;var startOuter=selection.start.column-1;var endOuter=selection.end.column+1;var line=session.getLine(selection.start.row);var lineCols=line.length;var needle=line.substring(Math.max(startOuter,0),Math.min(endOuter,lineCols));if(startOuter>=0&&/^[\w\d]/.test(needle)||endOuter<=lineCols&&/[\w\d]$/.test(needle))return;needle=line.substring(selection.start.column,selection.end.column);if(!/^[\w\d]+$/.test(needle))return;var re=this.$search.$assembleRegExp({wholeWord:true,caseSensitive:true,needle:needle});return re};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(e){this.renderer.updateText();this._emit("changeMode",e)};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(true)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())};this.getCopyText=function(){var text=this.getSelectedText();this._signal("copy",text);return text};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(text,event){var e={text:text,event:event};this.commands.exec("paste",this,e)};this.$handlePaste=function(e){if(typeof e=="string")e={text:e};this._signal("paste",e);var text=e.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(text);else{var lines=text.split(/\r\n|\r|\n/);var ranges=this.selection.rangeList.ranges;if(lines.length>ranges.length||lines.length<2||!lines[1])return this.commands.exec("insertstring",this,text);for(var i=ranges.length;i--;){var range=ranges[i];if(!range.isEmpty())this.session.remove(range);this.session.insert(range.start,lines[i])}}};this.execCommand=function(command,args){return this.commands.exec(command,this,args)};this.insert=function(text,pasted){var session=this.session;var mode=session.getMode();var cursor=this.getCursorPosition();if(this.getBehavioursEnabled()&&!pasted){var transform=mode.transformAction(session.getState(cursor.row),"insertion",this,session,text);if(transform){if(text!==transform.text){this.session.mergeUndoDeltas=false;this.$mergeNextCommand=false}text=transform.text}}if(text=="\t")text=this.session.getTabString();if(!this.selection.isEmpty()){var range=this.getSelectionRange();cursor=this.session.remove(range);this.clearSelection()}else if(this.session.getOverwrite()&&text.indexOf("\n")==-1){var range=new Range.fromPoints(cursor,cursor);range.end.column+=text.length;this.session.remove(range)}if(text=="\n"||text=="\r\n"){var line=session.getLine(cursor.row);if(cursor.column>line.search(/\S|$/)){var d=line.substr(cursor.column).search(/\S|$/);session.doc.removeInLine(cursor.row,cursor.column,cursor.column+d)}}this.clearSelection();var start=cursor.column;var lineState=session.getState(cursor.row);var line=session.getLine(cursor.row);var shouldOutdent=mode.checkOutdent(lineState,line,text);var end=session.insert(cursor,text);if(transform&&transform.selection)if(transform.selection.length==2)this.selection.setSelectionRange(new Range(cursor.row,start+transform.selection[0],cursor.row,start+transform.selection[1]));else this.selection.setSelectionRange(new Range(cursor.row+transform.selection[0],transform.selection[1],cursor.row+transform.selection[2],transform.selection[3]));if(session.getDocument().isNewLine(text)){var lineIndent=mode.getNextLineIndent(lineState,line.slice(0,cursor.column),session.getTabString());session.insert({row:cursor.row+1,column:0},lineIndent)}if(shouldOutdent)mode.autoOutdent(lineState,session,cursor.row)};this.onTextInput=function(text){this.keyBinding.onTextInput(text)};this.onCommandKey=function(e,hashId,keyCode){this.keyBinding.onCommandKey(e,hashId,keyCode)};this.setOverwrite=function(overwrite){this.session.setOverwrite(overwrite)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(speed){this.setOption("scrollSpeed",speed)};this.getScrollSpeed=function(){return this.getOption("scrollSpeed")};this.setDragDelay=function(dragDelay){this.setOption("dragDelay",dragDelay)};this.getDragDelay=function(){return this.getOption("dragDelay")};this.setSelectionStyle=function(val){this.setOption("selectionStyle",val)};this.getSelectionStyle=function(){return this.getOption("selectionStyle")};this.setHighlightActiveLine=function(shouldHighlight){this.setOption("highlightActiveLine",shouldHighlight)};this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")};this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.setHighlightSelectedWord=function(shouldHighlight){this.setOption("highlightSelectedWord",shouldHighlight)};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(shouldAnimate){this.renderer.setAnimatedScroll(shouldAnimate)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(showInvisibles){this.renderer.setShowInvisibles(showInvisibles)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setDisplayIndentGuides=function(display){this.renderer.setDisplayIndentGuides(display)};this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()};this.setShowPrintMargin=function(showPrintMargin){this.renderer.setShowPrintMargin(showPrintMargin)};this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(showPrintMargin){this.renderer.setPrintMarginColumn(showPrintMargin)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.setReadOnly=function(readOnly){this.setOption("readOnly",readOnly)};this.getReadOnly=function(){return this.getOption("readOnly")};this.setBehavioursEnabled=function(enabled){this.setOption("behavioursEnabled",enabled)};this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")};this.setWrapBehavioursEnabled=function(enabled){this.setOption("wrapBehavioursEnabled",enabled)};this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")};this.setShowFoldWidgets=function(show){this.setOption("showFoldWidgets",show)};this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")};this.setFadeFoldWidgets=function(fade){this.setOption("fadeFoldWidgets",fade)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.remove=function(dir){if(this.selection.isEmpty())if(dir=="left")this.selection.selectLeft();else this.selection.selectRight();var range=this.getSelectionRange();if(this.getBehavioursEnabled()){var session=this.session;var state=session.getState(range.start.row);var new_range=session.getMode().transformAction(state,"deletion",this,session,range);if(range.end.column===0){var text=session.getTextRange(range);if(text[text.length-1]=="\n"){var line=session.getLine(range.end.row);if(/^\s+$/.test(line))range.end.column=line.length}}if(new_range)range=new_range}this.session.remove(range);this.clearSelection()};this.removeWordRight=function(){if(this.selection.isEmpty())this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){if(this.selection.isEmpty())this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineStart=function(){if(this.selection.isEmpty())this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){if(this.selection.isEmpty())this.selection.selectLineEnd();var range=this.getSelectionRange();if(range.start.column==range.end.column&&range.start.row==range.end.row){range.end.column=0;range.end.row++}this.session.remove(range);this.clearSelection()};this.splitLine=function(){if(!this.selection.isEmpty()){this.session.remove(this.getSelectionRange());this.clearSelection()}var cursor=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(cursor)};this.transposeLetters=function(){if(!this.selection.isEmpty())return;var cursor=this.getCursorPosition();var column=cursor.column;if(column===0)return;var line=this.session.getLine(cursor.row);var swap,range;if(column<line.length){swap=line.charAt(column)+line.charAt(column-1);range=new Range(cursor.row,column-1,cursor.row,column+1)}else{swap=line.charAt(column-1)+line.charAt(column-2);range=new Range(cursor.row,column-2,cursor.row,column)}this.session.replace(range,swap);this.session.selection.moveToPosition(range.end)};this.toLowerCase=function(){var originalRange=this.getSelectionRange();if(this.selection.isEmpty())this.selection.selectWord();var range=this.getSelectionRange();var text=this.session.getTextRange(range);this.session.replace(range,text.toLowerCase());this.selection.setSelectionRange(originalRange)};this.toUpperCase=function(){var originalRange=this.getSelectionRange();if(this.selection.isEmpty())this.selection.selectWord();var range=this.getSelectionRange();var text=this.session.getTextRange(range);this.session.replace(range,text.toUpperCase());this.selection.setSelectionRange(originalRange)};this.indent=function(){var session=this.session;var range=this.getSelectionRange();if(range.start.row<range.end.row){var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t");return}else if(range.start.column<range.end.column){var text=session.getTextRange(range);if(!/^\s+$/.test(text)){var rows=this.$getSelectedRows();session.indentRows(rows.first,rows.last,"\t");return}}var line=session.getLine(range.start.row);var position=range.start;var size=session.getTabSize();var column=session.documentToScreenColumn(position.row,position.column);if(this.session.getUseSoftTabs()){var count=size-column%size;var indentString=lang.stringRepeat(" ",count)}else{var count=column%size;while(line[range.start.column-1]==" "&&count){range.start.column--;count--}this.selection.setSelectionRange(range);indentString="\t"}return this.insert(indentString)};this.blockIndent=function(){var rows=this.$getSelectedRows();this.session.indentRows(rows.first,rows.last,"\t")};this.blockOutdent=function(){var selection=this.session.getSelection();this.session.outdentRows(selection.getRange())};this.sortLines=function(){var rows=this.$getSelectedRows();var session=this.session;var lines=[];for(var i=rows.first;i<=rows.last;i++)lines.push(session.getLine(i));lines.sort(function(a,b){if(a.toLowerCase()<b.toLowerCase())return-1;if(a.toLowerCase()>b.toLowerCase())return 1;return 0});var deleteRange=new Range(0,0,0,0);for(var i=rows.first;i<=rows.last;i++){var line=session.getLine(i);deleteRange.start.row=i;deleteRange.end.row=i;deleteRange.end.column=line.length;session.replace(deleteRange,lines[i-rows.first])}};this.toggleCommentLines=function(){var state=this.session.getState(this.getCursorPosition().row);var rows=this.$getSelectedRows();this.session.getMode().toggleCommentLines(state,this.session,rows.first,rows.last)};this.toggleBlockComment=function(){var cursor=this.getCursorPosition();var state=this.session.getState(cursor.row);var range=this.getSelectionRange();this.session.getMode().toggleBlockComment(state,this.session,range,cursor)};this.getNumberAt=function(row,column){var _numberRx=/[\-]?[0-9]+(?:\.[0-9]+)?/g;_numberRx.lastIndex=0;var s=this.session.getLine(row);while(_numberRx.lastIndex<column){var m=_numberRx.exec(s);if(m.index<=column&&m.index+m[0].length>=column){var number={value:m[0],start:m.index,end:m.index+m[0].length};return number}}return null};this.modifyNumber=function(amount){var row=this.selection.getCursor().row;var column=this.selection.getCursor().column;var charRange=new Range(row,column-1,row,column);var c=this.session.getTextRange(charRange);if(!isNaN(parseFloat(c))&&isFinite(c)){var nr=this.getNumberAt(row,column);if(nr){var fp=nr.value.indexOf(".")>=0?nr.start+nr.value.indexOf(".")+1:nr.end;var decimals=nr.start+nr.value.length-fp;var t=parseFloat(nr.value);t*=Math.pow(10,decimals);if(fp!==nr.end&&column<fp)amount*=Math.pow(10,nr.end-column-1);else amount*=Math.pow(10,nr.end-column);t+=amount;t/=Math.pow(10,decimals);var nnr=t.toFixed(decimals);var replaceRange=new Range(row,nr.start,row,nr.end);this.session.replace(replaceRange,nnr);this.moveCursorTo(row,Math.max(nr.start+1,column+nnr.length-nr.value.length))}}};this.removeLines=function(){var rows=this.$getSelectedRows();this.session.removeFullLines(rows.first,rows.last);this.clearSelection()};this.duplicateSelection=function(){var sel=this.selection;var doc=this.session;var range=sel.getRange();var reverse=sel.isBackwards();if(range.isEmpty()){var row=range.start.row;doc.duplicateLines(row,row)}else{var point=reverse?range.start:range.end;var endPoint=doc.insert(point,doc.getTextRange(range),false);range.start=point;range.end=endPoint;sel.setSelectionRange(range,reverse)}};this.moveLinesDown=function(){this.$moveLines(1,false)};this.moveLinesUp=function(){this.$moveLines(-1,false)};this.moveText=function(range,toPosition,copy){return this.session.moveText(range,toPosition,copy)};this.copyLinesUp=function(){this.$moveLines(-1,true)};this.copyLinesDown=function(){this.$moveLines(1,true)};this.$moveLines=function(dir,copy){var rows,moved;var selection=this.selection;if(!selection.inMultiSelectMode||this.inVirtualSelectionMode){var range=selection.toOrientedRange();rows=this.$getSelectedRows(range);moved=this.session.$moveLines(rows.first,rows.last,copy?0:dir);if(copy&&dir==-1)moved=0;range.moveBy(moved,0);selection.fromOrientedRange(range)}else{var ranges=selection.rangeList.ranges;selection.rangeList.detach(this.session);this.inVirtualSelectionMode=true;var diff=0;var totalDiff=0;var l=ranges.length;for(var i=0;i<l;i++){var rangeIndex=i;ranges[i].moveBy(diff,0);rows=this.$getSelectedRows(ranges[i]);var first=rows.first;var last=rows.last;while(++i<l){if(totalDiff)ranges[i].moveBy(totalDiff,0);var subRows=this.$getSelectedRows(ranges[i]);if(copy&&subRows.first!=last)break;else if(!copy&&subRows.first>last+1)break;last=subRows.last}i--;diff=this.session.$moveLines(first,last,copy?0:dir);if(copy&&dir==-1)rangeIndex=i+1;while(rangeIndex<=i){ranges[rangeIndex].moveBy(diff,0);rangeIndex++}if(!copy)diff=0;totalDiff+=diff}selection.fromOrientedRange(selection.ranges[0]);selection.rangeList.attach(this.session);this.inVirtualSelectionMode=false}};this.$getSelectedRows=function(range){range=(range||this.getSelectionRange()).collapseRows();return{first:this.session.getRowFoldStart(range.start.row),last:this.session.getRowFoldEnd(range.end.row)}};this.onCompositionStart=function(text){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(text){this.renderer.setCompositionText(text)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(row){return row>=this.getFirstVisibleRow()&&row<=this.getLastVisibleRow()};this.isRowFullyVisible=function(row){return row>=this.renderer.getFirstFullyVisibleRow()&&row<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(dir,select){var renderer=this.renderer;var config=this.renderer.layerConfig;var rows=dir*Math.floor(config.height/config.lineHeight);this.$blockScrolling++;if(select===true)this.selection.$moveSelection(function(){this.moveCursorBy(rows,0)});else if(select===false){this.selection.moveCursorBy(rows,0);this.selection.clearSelection()}this.$blockScrolling--;var scrollTop=renderer.scrollTop;renderer.scrollBy(0,rows*config.lineHeight);if(select!=null)renderer.scrollCursorIntoView(null,.5);renderer.animateScrolling(scrollTop)};this.selectPageDown=function(){this.$moveByPage(1,true)};this.selectPageUp=function(){this.$moveByPage(-1,true)};this.gotoPageDown=function(){this.$moveByPage(1,false)};this.gotoPageUp=function(){this.$moveByPage(-1,false)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(row){this.renderer.scrollToRow(row)};this.scrollToLine=function(line,center,animate,callback){this.renderer.scrollToLine(line,center,animate,callback)};this.centerSelection=function(){var range=this.getSelectionRange();var pos={row:Math.floor(range.start.row+(range.end.row-range.start.row)/2),column:Math.floor(range.start.column+(range.end.column-range.start.column)/2)};this.renderer.alignCursor(pos,.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(row,column){this.selection.moveCursorTo(row,column)};this.moveCursorToPosition=function(pos){this.selection.moveCursorToPosition(pos)};this.jumpToMatching=function(select,expand){var cursor=this.getCursorPosition();var iterator=new TokenIterator(this.session,cursor.row,cursor.column);var prevToken=iterator.getCurrentToken();var token=prevToken||iterator.stepForward();if(!token)return;var matchType;var found=false;var depth={};var i=cursor.column-token.start;var bracketType;var brackets={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(token.value.match(/[{}()\[\]]/g))for(;i<token.value.length&&!found;i++){if(!brackets[token.value[i]])continue;bracketType=brackets[token.value[i]]+"."+token.type.replace("rparen","lparen");if(isNaN(depth[bracketType]))depth[bracketType]=0;switch(token.value[i]){case "(":case "[":case "{":depth[bracketType]++;break;case ")":case "]":case "}":depth[bracketType]--;if(depth[bracketType]===-1){matchType="bracket";found=true}break}}else if(token&&token.type.indexOf("tag-name")!==-1){if(isNaN(depth[token.value]))depth[token.value]=0;if(prevToken.value==="\x3c")depth[token.value]++;else if(prevToken.value==="\x3c/")depth[token.value]--;if(depth[token.value]===-1){matchType="tag";found=true}}if(!found){prevToken=token;token=iterator.stepForward();i=0}}while(token&&!found);if(!matchType)return;var range,pos;if(matchType==="bracket"){range=this.session.getBracketRange(cursor);if(!range){range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+i-1);pos=range.start;if(expand||pos.row===cursor.row&&Math.abs(pos.column-cursor.column)<2)range=this.session.getBracketRange(pos)}}else if(matchType==="tag"){if(token&&token.type.indexOf("tag-name")!==-1)var tag=token.value;else return;range=new Range(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2,iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()-2);if(range.compare(cursor.row,cursor.column)===0){found=false;do{token=prevToken;prevToken=iterator.stepBackward();if(prevToken){if(prevToken.type.indexOf("tag-close")!==-1)range.setEnd(iterator.getCurrentTokenRow(),iterator.getCurrentTokenColumn()+1);if(token.value===tag&&token.type.indexOf("tag-name")!==-1){if(prevToken.value==="\x3c")depth[tag]++;else if(prevToken.value==="\x3c/")depth[tag]--;if(depth[tag]===0)found=true}}}while(prevToken&&!found)}if(token&&token.type.indexOf("tag-name")){pos=range.start;if(pos.row==cursor.row&&Math.abs(pos.column-cursor.column)<2)pos=range.end}}pos=range&&range.cursor||pos;if(pos)if(select)if(range&&expand)this.selection.setRange(range);else if(range&&range.isEqual(this.getSelectionRange()))this.clearSelection();else this.selection.selectTo(pos.row,pos.column);else this.selection.moveTo(pos.row,pos.column)};this.gotoLine=function(lineNumber,column,animate){this.selection.clearSelection();this.session.unfold({row:lineNumber-1,column:column||0});this.$blockScrolling+=1;this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(lineNumber-1,column||0);this.$blockScrolling-=1;if(!this.isRowFullyVisible(lineNumber-1))this.scrollToLine(lineNumber-1,true,animate)};this.navigateTo=function(row,column){this.selection.moveTo(row,column)};this.navigateUp=function(times){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var selectionStart=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionStart)}this.selection.clearSelection();this.selection.moveCursorBy(-times||-1,0)};this.navigateDown=function(times){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var selectionEnd=this.selection.anchor.getPosition();return this.moveCursorToPosition(selectionEnd)}this.selection.clearSelection();this.selection.moveCursorBy(times||1,0)};this.navigateLeft=function(times){if(!this.selection.isEmpty()){var selectionStart=this.getSelectionRange().start;this.moveCursorToPosition(selectionStart)}else{times=times||1;while(times--)this.selection.moveCursorLeft()}this.clearSelection()};this.navigateRight=function(times){if(!this.selection.isEmpty()){var selectionEnd=this.getSelectionRange().end;this.moveCursorToPosition(selectionEnd)}else{times=times||1;while(times--)this.selection.moveCursorRight()}this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()};this.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(replacement,options){if(options)this.$search.set(options);var range=this.$search.find(this.session);var replaced=0;if(!range)return replaced;if(this.$tryReplace(range,replacement))replaced=1;if(range!==null){this.selection.setSelectionRange(range);this.renderer.scrollSelectionIntoView(range.start,range.end)}return replaced};this.replaceAll=function(replacement,options){if(options)this.$search.set(options);var ranges=this.$search.findAll(this.session);var replaced=0;if(!ranges.length)return replaced;this.$blockScrolling+=1;var selection=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=ranges.length-1;i>=0;--i)if(this.$tryReplace(ranges[i],replacement))replaced++;this.selection.setSelectionRange(selection);this.$blockScrolling-=1;return replaced};this.$tryReplace=function(range,replacement){var input=this.session.getTextRange(range);replacement=this.$search.replace(input,replacement);if(replacement!==null){range.end=this.session.replace(range,replacement);return range}else return null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(needle,options,animate){if(!options)options={};if(typeof needle=="string"||needle instanceof RegExp)options.needle=needle;else if(typeof needle=="object")oop.mixin(options,needle);var range=this.selection.getRange();if(options.needle==null){needle=this.session.getTextRange(range)||this.$search.$options.needle;if(!needle){range=this.session.getWordRange(range.start.row,range.start.column);needle=this.session.getTextRange(range)}this.$search.set({needle:needle})}this.$search.set(options);if(!options.start)this.$search.set({start:range});var newRange=this.$search.find(this.session);if(options.preventScroll)return newRange;if(newRange){this.revealRange(newRange,animate);return newRange}if(options.backwards)range.start=range.end;else range.end=range.start;this.selection.setRange(range)};this.findNext=function(options,animate){this.find({skipCurrent:true,backwards:false},options,animate)};this.findPrevious=function(options,animate){this.find(options,{skipCurrent:true,backwards:true},animate)};this.revealRange=function(range,animate){this.$blockScrolling+=1;this.session.unfold(range);this.selection.setSelectionRange(range);this.$blockScrolling-=1;var scrollTop=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(range.start,range.end,.5);if(animate!==false)this.renderer.animateScrolling(scrollTop)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,.5)};this.destroy=function(){this.renderer.destroy();this._signal("destroy",this);if(this.session)this.session.destroy()};this.setAutoScrollEditorIntoView=function(enable){if(!enable)return;var rect;var self=this;var shouldScroll=false;if(!this.$scrollAnchor)this.$scrollAnchor=document.createElement("div");var scrollAnchor=this.$scrollAnchor;scrollAnchor.style.cssText="position:absolute";this.container.insertBefore(scrollAnchor,this.container.firstChild);var onChangeSelection=this.on("changeSelection",function(){shouldScroll=true});var onBeforeRender=this.renderer.on("beforeRender",function(){if(shouldScroll)rect=self.renderer.container.getBoundingClientRect()});var onAfterRender=this.renderer.on("afterRender",function(){if(shouldScroll&&rect&&(self.isFocused()||self.searchBox&&self.searchBox.isFocused())){var renderer=self.renderer;var pos=renderer.$cursorLayer.$pixelPos;var config=renderer.layerConfig;var top=pos.top-config.offset;if(pos.top>=0&&top+rect.top<0)shouldScroll=true;else if(pos.top<config.height&&pos.top+rect.top+config.lineHeight>window.innerHeight)shouldScroll=false;else shouldScroll=null;if(shouldScroll!=null){scrollAnchor.style.top=top+"px";scrollAnchor.style.left=pos.left+"px";scrollAnchor.style.height=config.lineHeight+"px";scrollAnchor.scrollIntoView(shouldScroll)}shouldScroll=rect=null}});this.setAutoScrollEditorIntoView=function(enable){if(enable)return;delete this.setAutoScrollEditorIntoView;this.off("changeSelection",onChangeSelection);this.renderer.off("afterRender",onAfterRender);this.renderer.off("beforeRender",onBeforeRender)}};this.$resetCursorStyle=function(){var style=this.$cursorStyle||"ace";var cursorLayer=this.renderer.$cursorLayer;if(!cursorLayer)return;cursorLayer.setSmoothBlinking(/smooth/.test(style));cursorLayer.isBlinking=!this.$readOnly&&style!="wide";dom.setCssClass(cursorLayer.element,"ace_slim-cursors",/slim/.test(style))}}).call(Editor.prototype);config.defineOptions(Editor.prototype,"editor",{selectionStyle:{set:function(style){this.onSelectionChange();this._signal("changeSelectionStyle",{data:style})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:true},highlightSelectedWord:{set:function(shouldHighlight){this.$onSelectionChange()},initialValue:true},readOnly:{set:function(readOnly){this.$resetCursorStyle()},initialValue:false},cursorStyle:{set:function(val){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[false,true,"always"],initialValue:true},behavioursEnabled:{initialValue:true},wrapBehavioursEnabled:{initialValue:true},autoScrollEditorIntoView:{set:function(val){this.setAutoScrollEditorIntoView(val)}},keyboardHandler:{set:function(val){this.setKeyboardHandler(val)},get:function(){return this.keybindingId},handlesSet:true},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});exports.Editor=Editor});ace.define("ace/undomanager",["require","exports","module"],function(acequire,exports,module){var UndoManager=function(){this.reset()};(function(){this.execute=function(options){var deltaSets=options.args[0];this.$doc=options.args[1];if(options.merge&&this.hasUndo()){this.dirtyCounter--;deltaSets=this.$undoStack.pop().concat(deltaSets)}this.$undoStack.push(deltaSets);this.$redoStack=[];if(this.dirtyCounter<0)this.dirtyCounter=NaN;this.dirtyCounter++};this.undo=function(dontSelect){var deltaSets=this.$undoStack.pop();var undoSelectionRange=null;if(deltaSets){undoSelectionRange=this.$doc.undoChanges(deltaSets,dontSelect);this.$redoStack.push(deltaSets);this.dirtyCounter--}return undoSelectionRange};this.redo=function(dontSelect){var deltaSets=this.$redoStack.pop();var redoSelectionRange=null;if(deltaSets){redoSelectionRange=this.$doc.redoChanges(this.$deserializeDeltas(deltaSets),dontSelect);this.$undoStack.push(deltaSets);this.dirtyCounter++}return redoSelectionRange};this.reset=function(){this.$undoStack=[];this.$redoStack=[];this.dirtyCounter=0};this.hasUndo=function(){return this.$undoStack.length>0};this.hasRedo=function(){return this.$redoStack.length>0};this.markClean=function(){this.dirtyCounter=0};this.isClean=function(){return this.dirtyCounter===0};this.$serializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$serializeDelta)};this.$deserializeDeltas=function(deltaSets){return cloneDeltaSetsObj(deltaSets,$deserializeDelta)};function $serializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:delta.lines.length==1?null:delta.lines,text:delta.lines.length==1?delta.lines[0]:null}}function $deserializeDelta(delta){return{action:delta.action,start:delta.start,end:delta.end,lines:delta.lines||[delta.text]}}function cloneDeltaSetsObj(deltaSets_old,fnGetModifiedDelta){var deltaSets_new=new Array(deltaSets_old.length);for(var i=0;i<deltaSets_old.length;i++){var deltaSet_old=deltaSets_old[i];var deltaSet_new={group:deltaSet_old.group,deltas:new Array(deltaSet_old.length)};for(var j=0;j<deltaSet_old.deltas.length;j++){var delta_old=deltaSet_old.deltas[j];deltaSet_new.deltas[j]=fnGetModifiedDelta(delta_old)}deltaSets_new[i]=deltaSet_new}return deltaSets_new}}).call(UndoManager.prototype);exports.UndoManager=UndoManager});ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(acequire,exports,module){var dom=acequire("../lib/dom");var oop=acequire("../lib/oop");var lang=acequire("../lib/lang");var EventEmitter=acequire("../lib/event_emitter").EventEmitter;var Gutter=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_gutter-layer";parentEl.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$cells=[]};(function(){oop.implement(this,EventEmitter);this.setSession=function(session){if(this.session)this.session.removeEventListener("change",this.$updateAnnotations);this.session=session;if(session)session.on("change",this.$updateAnnotations)};this.addGutterDecoration=function(row,className){if(window.console)console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(row,className)};this.removeGutterDecoration=function(row,className){if(window.console)console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(row,
className)};this.setAnnotations=function(annotations){this.$annotations=[];for(var i=0;i<annotations.length;i++){var annotation=annotations[i];var row=annotation.row;var rowInfo=this.$annotations[row];if(!rowInfo)rowInfo=this.$annotations[row]={text:[]};var annoText=annotation.text;annoText=annoText?lang.escapeHTML(annoText):annotation.html||"";if(rowInfo.text.indexOf(annoText)===-1)rowInfo.text.push(annoText);var type=annotation.type;if(type=="error")rowInfo.className=" ace_error";else if(type=="warning"&&rowInfo.className!=" ace_error")rowInfo.className=" ace_warning";else if(type=="info"&&!rowInfo.className)rowInfo.className=" ace_info"}};this.$updateAnnotations=function(delta){if(!this.$annotations.length)return;var firstRow=delta.start.row;var len=delta.end.row-firstRow;if(len===0);else if(delta.action=="remove")this.$annotations.splice(firstRow,len+1,null);else{var args=new Array(len+1);args.unshift(firstRow,1);this.$annotations.splice.apply(this.$annotations,args)}};this.update=function(config){var session=this.session;var firstRow=config.firstRow;var lastRow=Math.min(config.lastRow+config.gutterOffset,session.getLength()-1);var fold=session.getNextFoldLine(firstRow);var foldStart=fold?fold.start.row:Infinity;var foldWidgets=this.$showFoldWidgets&&session.foldWidgets;var breakpoints=session.$breakpoints;var decorations=session.$decorations;var firstLineNumber=session.$firstLineNumber;var lastLineNumber=0;var gutterRenderer=session.gutterRenderer||this.$renderer;var cell=null;var index=-1;var row=firstRow;while(true){if(row>foldStart){row=fold.end.row+1;fold=session.getNextFoldLine(row,fold);foldStart=fold?fold.start.row:Infinity}if(row>lastRow){while(this.$cells.length>index+1){cell=this.$cells.pop();this.element.removeChild(cell.element)}break}cell=this.$cells[++index];if(!cell){cell={element:null,textNode:null,foldWidget:null};cell.element=dom.createElement("div");cell.textNode=document.createTextNode("");cell.element.appendChild(cell.textNode);this.element.appendChild(cell.element);this.$cells[index]=cell}var className="ace_gutter-cell ";if(breakpoints[row])className+=breakpoints[row];if(decorations[row])className+=decorations[row];if(this.$annotations[row])className+=this.$annotations[row].className;if(cell.element.className!=className)cell.element.className=className;var height=session.getRowLength(row)*config.lineHeight+"px";if(height!=cell.element.style.height)cell.element.style.height=height;if(foldWidgets){var c=foldWidgets[row];if(c==null)c=foldWidgets[row]=session.getFoldWidget(row)}if(c){if(!cell.foldWidget){cell.foldWidget=dom.createElement("span");cell.element.appendChild(cell.foldWidget)}var className="ace_fold-widget ace_"+c;if(c=="start"&&row==foldStart&&row<fold.end.row)className+=" ace_closed";else className+=" ace_open";if(cell.foldWidget.className!=className)cell.foldWidget.className=className;var height=config.lineHeight+"px";if(cell.foldWidget.style.height!=height)cell.foldWidget.style.height=height}else if(cell.foldWidget){cell.element.removeChild(cell.foldWidget);cell.foldWidget=null}var text=lastLineNumber=gutterRenderer?gutterRenderer.getText(session,row):row+firstLineNumber;if(text!==cell.textNode.data)cell.textNode.data=text;row++}this.element.style.height=config.minHeight+"px";if(this.$fixedWidth||session.$useWrapMode)lastLineNumber=session.getLength()+firstLineNumber;var gutterWidth=gutterRenderer?gutterRenderer.getWidth(session,lastLineNumber,config):lastLineNumber.toString().length*config.characterWidth;var padding=this.$padding||this.$computePadding();gutterWidth+=padding.left+padding.right;if(gutterWidth!==this.gutterWidth&&!isNaN(gutterWidth)){this.gutterWidth=gutterWidth;this.element.style.width=Math.ceil(this.gutterWidth)+"px";this._emit("changeGutterWidth",gutterWidth)}};this.$fixedWidth=false;this.$showLineNumbers=true;this.$renderer="";this.setShowLineNumbers=function(show){this.$renderer=!show&&{getWidth:function(){return""},getText:function(){return""}}};this.getShowLineNumbers=function(){return this.$showLineNumbers};this.$showFoldWidgets=true;this.setShowFoldWidgets=function(show){if(show)dom.addCssClass(this.element,"ace_folding-enabled");else dom.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=show;this.$padding=null};this.getShowFoldWidgets=function(){return this.$showFoldWidgets};this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var style=dom.computedStyle(this.element.firstChild);this.$padding={};this.$padding.left=parseInt(style.paddingLeft)+1||0;this.$padding.right=parseInt(style.paddingRight)||0;return this.$padding};this.getRegion=function(point){var padding=this.$padding||this.$computePadding();var rect=this.element.getBoundingClientRect();if(point.x<padding.left+rect.left)return"markers";if(this.$showFoldWidgets&&point.x>rect.right-padding.right)return"foldWidgets"}}).call(Gutter.prototype);exports.Gutter=Gutter});ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(acequire,exports,module){var Range=acequire("../range").Range;var dom=acequire("../lib/dom");var Marker=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_marker-layer";parentEl.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(padding){this.$padding=padding};this.setSession=function(session){this.session=session};this.setMarkers=function(markers){this.markers=markers};this.update=function(config){if(!config)return;this.config=config;var html=[];for(var key in this.markers){var marker=this.markers[key];if(!marker.range){marker.update(html,this,this.session,config);continue}var range=marker.range.clipRows(config.firstRow,config.lastRow);if(range.isEmpty())continue;range=range.toScreenRange(this.session);if(marker.renderer){var top=this.$getTop(range.start.row,config);var left=this.$padding+(this.session.$bidiHandler.isBidiRow(range.start.row)?this.session.$bidiHandler.getPosLeft(range.start.column):range.start.column*config.characterWidth);marker.renderer(html,range,left,top,config)}else if(marker.type=="fullLine")this.drawFullLineMarker(html,range,marker.clazz,config);else if(marker.type=="screenLine")this.drawScreenLineMarker(html,range,marker.clazz,config);else if(range.isMultiLine())if(marker.type=="text")this.drawTextMarker(html,range,marker.clazz,config);else this.drawMultiLineMarker(html,range,marker.clazz,config);else if(this.session.$bidiHandler.isBidiRow(range.start.row))this.drawBidiSingleLineMarker(html,range,marker.clazz+" ace_start"+" ace_br15",config);else this.drawSingleLineMarker(html,range,marker.clazz+" ace_start"+" ace_br15",config)}this.element.innerHTML=html.join("")};this.$getTop=function(row,layerConfig){return(row-layerConfig.firstRowScreen)*layerConfig.lineHeight};function getBorderClass(tl,tr,br,bl){return(tl?1:0)|(tr?2:0)|(br?4:0)|(bl?8:0)}this.drawTextMarker=function(stringBuilder,range,clazz,layerConfig,extraStyle){var session=this.session;var start=range.start.row;var end=range.end.row;var row=start;var prev=0;var curr=0;var next=session.getScreenLastRowColumn(row);var clazzModified=null;var lineRange=new Range(row,range.start.column,row,curr);for(;row<=end;row++){lineRange.start.row=lineRange.end.row=row;lineRange.start.column=row==start?range.start.column:session.getRowWrapIndent(row);lineRange.end.column=next;prev=curr;curr=next;next=row+1<end?session.getScreenLastRowColumn(row+1):row==end?0:range.end.column;clazzModified=clazz+(row==start?" ace_start":"")+" ace_br"+getBorderClass(row==start||row==start+1&&range.start.column,prev<curr,curr>next,row==end);if(this.session.$bidiHandler.isBidiRow(row))this.drawBidiSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle);else this.drawSingleLineMarker(stringBuilder,lineRange,clazzModified,layerConfig,row==end?0:1,extraStyle)}};this.drawMultiLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var padding=this.$padding;var height,top,left;extraStyle=extraStyle||"";if(this.session.$bidiHandler.isBidiRow(range.start.row)){var range1=range.clone();range1.end.row=range1.start.row;range1.end.column=this.session.getLine(range1.start.row).length;this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br1 ace_start",config,null,extraStyle)}else{height=config.lineHeight;top=this.$getTop(range.start.row,config);left=padding+range.start.column*config.characterWidth;stringBuilder.push("\x3cdiv class\x3d'",clazz," ace_br1 ace_start' style\x3d'","height:",height,"px;","right:0;","top:",top,"px;","left:",left,"px;",extraStyle,"'\x3e\x3c/div\x3e")}if(this.session.$bidiHandler.isBidiRow(range.end.row)){var range1=range.clone();range1.start.row=range1.end.row;range1.start.column=0;this.drawBidiSingleLineMarker(stringBuilder,range1,clazz+" ace_br12",config,null,extraStyle)}else{var width=range.end.column*config.characterWidth;height=config.lineHeight;top=this.$getTop(range.end.row,config);stringBuilder.push("\x3cdiv class\x3d'",clazz," ace_br12' style\x3d'","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",padding,"px;",extraStyle,"'\x3e\x3c/div\x3e")}height=(range.end.row-range.start.row-1)*config.lineHeight;if(height<=0)return;top=this.$getTop(range.start.row+1,config);var radiusClass=(range.start.column?1:0)|(range.end.column?0:8);stringBuilder.push("\x3cdiv class\x3d'",clazz,radiusClass?" ace_br"+radiusClass:"","' style\x3d'","height:",height,"px;","right:0;","top:",top,"px;","left:",padding,"px;",extraStyle,"'\x3e\x3c/div\x3e")};this.drawSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight;var width=(range.end.column+(extraLength||0)-range.start.column)*config.characterWidth;var top=this.$getTop(range.start.row,config);var left=this.$padding+range.start.column*config.characterWidth;stringBuilder.push("\x3cdiv class\x3d'",clazz,"' style\x3d'","height:",height,"px;","width:",width,"px;","top:",top,"px;","left:",left,"px;",extraStyle||"","'\x3e\x3c/div\x3e")};this.drawBidiSingleLineMarker=function(stringBuilder,range,clazz,config,extraLength,extraStyle){var height=config.lineHeight,top=this.$getTop(range.start.row,config),padding=this.$padding;var selections=this.session.$bidiHandler.getSelections(range.start.column,range.end.column);selections.forEach(function(selection){stringBuilder.push("\x3cdiv class\x3d'",clazz,"' style\x3d'","height:",height,"px;","width:",selection.width+(extraLength||0),"px;","top:",top,"px;","left:",padding+selection.left,"px;",extraStyle||"","'\x3e\x3c/div\x3e")})};this.drawFullLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config);var height=config.lineHeight;if(range.start.row!=range.end.row)height+=this.$getTop(range.end.row,config)-top;stringBuilder.push("\x3cdiv class\x3d'",clazz,"' style\x3d'","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'\x3e\x3c/div\x3e")};this.drawScreenLineMarker=function(stringBuilder,range,clazz,config,extraStyle){var top=this.$getTop(range.start.row,config);var height=config.lineHeight;stringBuilder.push("\x3cdiv class\x3d'",clazz,"' style\x3d'","height:",height,"px;","top:",top,"px;","left:0;right:0;",extraStyle||"","'\x3e\x3c/div\x3e")}}).call(Marker.prototype);exports.Marker=Marker});ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("../lib/oop");var dom=acequire("../lib/dom");var lang=acequire("../lib/lang");var useragent=acequire("../lib/useragent");var EventEmitter=acequire("../lib/event_emitter").EventEmitter;var Text=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_text-layer";parentEl.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){oop.implement(this,EventEmitter);this.EOF_CHAR="\u00b6";this.EOL_CHAR_LF="\u00ac";this.EOL_CHAR_CRLF="\u00a4";this.EOL_CHAR=this.EOL_CHAR_LF;this.TAB_CHAR="\u2014";this.SPACE_CHAR="\u00b7";this.$padding=0;this.$updateEolChar=function(){var EOL_CHAR=this.session.doc.getNewLineCharacter()=="\n"?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=EOL_CHAR){this.EOL_CHAR=EOL_CHAR;return true}};this.setPadding=function(padding){this.$padding=padding;this.element.style.padding="0 "+padding+"px"};this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0};this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0};this.$setFontMetrics=function(measure){this.$fontMetrics=measure;this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this));this.$pollSizeChanges()};this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()};this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()};this.setSession=function(session){this.session=session;if(session)this.$computeTabString()};this.showInvisibles=false;this.setShowInvisibles=function(showInvisibles){if(this.showInvisibles==showInvisibles)return false;this.showInvisibles=showInvisibles;this.$computeTabString();return true};this.displayIndentGuides=true;this.setDisplayIndentGuides=function(display){if(this.displayIndentGuides==display)return false;this.displayIndentGuides=display;this.$computeTabString();return true};this.$tabStrings=[];this.onChangeTabSize=this.$computeTabString=function(){var tabSize=this.session.getTabSize();this.tabSize=tabSize;var tabStr=this.$tabStrings=[0];for(var i=1;i<tabSize+1;i++)if(this.showInvisibles)tabStr.push("\x3cspan class\x3d'ace_invisible ace_invisible_tab'\x3e"+lang.stringRepeat(this.TAB_CHAR,i)+"\x3c/span\x3e");else tabStr.push(lang.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var className="ace_indent-guide";var spaceClass="";var tabClass="";if(this.showInvisibles){className+=" ace_invisible";spaceClass=" ace_invisible_space";tabClass=" ace_invisible_tab";var spaceContent=lang.stringRepeat(this.SPACE_CHAR,this.tabSize);var tabContent=lang.stringRepeat(this.TAB_CHAR,this.tabSize)}else{var spaceContent=lang.stringRepeat(" ",this.tabSize);var tabContent=spaceContent}this.$tabStrings[" "]="\x3cspan class\x3d'"+className+spaceClass+"'\x3e"+spaceContent+"\x3c/span\x3e";this.$tabStrings["\t"]="\x3cspan class\x3d'"+className+tabClass+"'\x3e"+tabContent+"\x3c/span\x3e"}};this.updateLines=function(config,firstRow,lastRow){if(this.config.lastRow!=config.lastRow||this.config.firstRow!=config.firstRow)this.scrollLines(config);this.config=config;var first=Math.max(firstRow,config.firstRow);var last=Math.min(lastRow,config.lastRow);var lineElements=this.element.childNodes;var lineElementsIdx=0;for(var row=config.firstRow;row<first;row++){var foldLine=this.session.getFoldLine(row);if(foldLine)if(foldLine.containsRow(first)){first=foldLine.start.row;break}else row=foldLine.end.row;lineElementsIdx++}var row=first;var foldLine=this.session.getNextFoldLine(row);var foldStart=foldLine?foldLine.start.row:Infinity;while(true){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:Infinity}if(row>last)break;var lineElement=lineElements[lineElementsIdx++];if(lineElement){var html=[];this.$renderLine(html,row,!this.$useLineGroups(),row==foldStart?foldLine:false);lineElement.style.height=config.lineHeight*this.session.getRowLength(row)+"px";lineElement.innerHTML=html.join("")}row++}};this.scrollLines=function(config){var oldConfig=this.config;this.config=config;if(!oldConfig||oldConfig.lastRow<config.firstRow)return this.update(config);if(config.lastRow<oldConfig.firstRow)return this.update(config);var el=this.element;if(oldConfig.firstRow<config.firstRow)for(var row=this.session.getFoldedRowCount(oldConfig.firstRow,config.firstRow-1);row>0;row--)el.removeChild(el.firstChild);if(oldConfig.lastRow>config.lastRow)for(var row=this.session.getFoldedRowCount(config.lastRow+1,oldConfig.lastRow);row>0;row--)el.removeChild(el.lastChild);if(config.firstRow<oldConfig.firstRow){var fragment=this.$renderLinesFragment(config,config.firstRow,oldConfig.firstRow-1);if(el.firstChild)el.insertBefore(fragment,el.firstChild);else el.appendChild(fragment)}if(config.lastRow>oldConfig.lastRow){var fragment=this.$renderLinesFragment(config,oldConfig.lastRow+1,config.lastRow);el.appendChild(fragment)}};this.$renderLinesFragment=function(config,firstRow,lastRow){var fragment=this.element.ownerDocument.createDocumentFragment();var row=firstRow;var foldLine=this.session.getNextFoldLine(row);var foldStart=foldLine?foldLine.start.row:Infinity;while(true){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:Infinity}if(row>lastRow)break;var container=dom.createElement("div");var html=[];this.$renderLine(html,row,false,row==foldStart?foldLine:false);container.innerHTML=html.join("");if(this.$useLineGroups()){container.className="ace_line_group";fragment.appendChild(container);container.style.height=config.lineHeight*this.session.getRowLength(row)+"px"}else while(container.firstChild)fragment.appendChild(container.firstChild);row++}return fragment};this.update=function(config){this.config=config;var html=[];var firstRow=config.firstRow,lastRow=config.lastRow;var row=firstRow;var foldLine=this.session.getNextFoldLine(row);var foldStart=foldLine?foldLine.start.row:Infinity;while(true){if(row>foldStart){row=foldLine.end.row+1;foldLine=this.session.getNextFoldLine(row,foldLine);foldStart=foldLine?foldLine.start.row:Infinity}if(row>lastRow)break;if(this.$useLineGroups())html.push("\x3cdiv class\x3d'ace_line_group' style\x3d'height:",config.lineHeight*this.session.getRowLength(row),"px'\x3e");this.$renderLine(html,row,false,row==foldStart?foldLine:false);if(this.$useLineGroups())html.push("\x3c/div\x3e");row++}this.element.innerHTML=html.join("")};this.$textToken={"text":true,"rparen":true,"lparen":true};this.$renderToken=function(stringBuilder,screenColumn,token,value){var self=this;var replaceReg=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var replaceFunc=function(c,a,b,tabIdx,idx4){if(a)return self.showInvisibles?"\x3cspan class\x3d'ace_invisible ace_invisible_space'\x3e"+lang.stringRepeat(self.SPACE_CHAR,c.length)+"\x3c/span\x3e":c;else if(c=="\x26")return"\x26#38;";else if(c=="\x3c")return"\x26#60;";else if(c=="\x3e")return"\x26#62;";else if(c=="\t"){var tabSize=self.session.getScreenTabSize(screenColumn+tabIdx);screenColumn+=tabSize-1;return self.$tabStrings[tabSize]}else if(c=="\u3000"){var classToUse=self.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk";var space=self.showInvisibles?self.SPACE_CHAR:"";screenColumn+=1;return"\x3cspan class\x3d'"+classToUse+"' style\x3d'width:"+self.config.characterWidth*2+"px'\x3e"+space+"\x3c/span\x3e"}else if(b)return"\x3cspan class\x3d'ace_invisible ace_invisible_space ace_invalid'\x3e"+self.SPACE_CHAR+"\x3c/span\x3e";else{screenColumn+=1;return"\x3cspan class\x3d'ace_cjk' style\x3d'width:"+self.config.characterWidth*2+"px'\x3e"+c+"\x3c/span\x3e"}};var output=value.replace(replaceReg,replaceFunc);if(!this.$textToken[token.type]){var classes="ace_"+token.type.replace(/\./g," ace_");var style="";if(token.type=="fold")style=" style\x3d'width:"+token.value.length*this.config.characterWidth+"px;' ";stringBuilder.push("\x3cspan class\x3d'",classes,"'",style,"\x3e",output,"\x3c/span\x3e")}else stringBuilder.push(output);return screenColumn+value.length};this.renderIndentGuide=function(stringBuilder,value,max){var cols=value.search(this.$indentGuideRe);if(cols<=0||cols>=max)return value;if(value[0]==" "){cols-=cols%this.tabSize;stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "],cols/this.tabSize));return value.substr(cols)}else if(value[0]=="\t"){stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"],cols));return value.substr(cols)}return value};this.$renderWrappedLine=function(stringBuilder,tokens,splits,onlyContents){var chars=0;var split=0;var splitChars=splits[0];var screenColumn=0;for(var i=0;i<tokens.length;i++){var token=tokens[i];var value=token.value;if(i==0&&this.displayIndentGuides){chars=value.length;value=this.renderIndentGuide(stringBuilder,value,splitChars);if(!value)continue;chars-=value.length}if(chars+value.length<splitChars){screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value);chars+=value.length}else{while(chars+value.length>=splitChars){screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value.substring(0,splitChars-chars));value=value.substring(splitChars-chars);chars=splitChars;if(!onlyContents)stringBuilder.push("\x3c/div\x3e","\x3cdiv class\x3d'ace_line' style\x3d'height:",this.config.lineHeight,"px'\x3e");stringBuilder.push(lang.stringRepeat("\u00a0",splits.indent));split++;screenColumn=0;splitChars=splits[split]||Number.MAX_VALUE}if(value.length!=0){chars+=value.length;screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value)}}}};this.$renderSimpleLine=function(stringBuilder,tokens){var screenColumn=0;var token=tokens[0];var value=token.value;if(this.displayIndentGuides)value=this.renderIndentGuide(stringBuilder,value);if(value)screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value);for(var i=1;i<tokens.length;i++){token=tokens[i];value=token.value;screenColumn=this.$renderToken(stringBuilder,screenColumn,token,value)}};this.$renderLine=function(stringBuilder,row,onlyContents,foldLine){if(!foldLine&&foldLine!=false)foldLine=this.session.getFoldLine(row);if(foldLine)var tokens=this.$getFoldLineTokens(row,foldLine);else var tokens=this.session.getTokens(row);if(!onlyContents)stringBuilder.push("\x3cdiv class\x3d'ace_line' style\x3d'height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(row)),"px'\x3e");if(tokens.length){var splits=this.session.getRowSplitData(row);if(splits&&splits.length)this.$renderWrappedLine(stringBuilder,tokens,splits,onlyContents);else this.$renderSimpleLine(stringBuilder,tokens)}if(this.showInvisibles){if(foldLine)row=foldLine.end.row;stringBuilder.push("\x3cspan class\x3d'ace_invisible ace_invisible_eol'\x3e",row==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"\x3c/span\x3e")}if(!onlyContents)stringBuilder.push("\x3c/div\x3e")};this.$getFoldLineTokens=function(row,foldLine){var session=this.session;var renderTokens=[];function addTokens(tokens,from,to){var idx=0,col=0;while(col+tokens[idx].value.length<from){col+=tokens[idx].value.length;idx++;if(idx==tokens.length)return}if(col!=from){var value=tokens[idx].value.substring(from-col);if(value.length>to-from)value=value.substring(0,to-from);renderTokens.push({type:tokens[idx].type,value:value});col=from+value.length;idx+=1}while(col<to&&idx<tokens.length){var value=tokens[idx].value;if(value.length+col>to)renderTokens.push({type:tokens[idx].type,value:value.substring(0,to-col)});else renderTokens.push(tokens[idx]);col+=value.length;idx+=1}}var tokens=session.getTokens(row);foldLine.walk(function(placeholder,row,column,lastColumn,isNewRow){if(placeholder!=null)renderTokens.push({type:"fold",value:placeholder});else{if(isNewRow)tokens=session.getTokens(row);if(tokens.length)addTokens(tokens,lastColumn,column)}},foldLine.end.row,this.session.getLine(foldLine.end.row).length);return renderTokens};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);if(this.$measureNode)this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(Text.prototype);exports.Text=Text});ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(acequire,exports,module){var dom=acequire("../lib/dom");var isIE8;var Cursor=function(parentEl){this.element=dom.createElement("div");this.element.className="ace_layer ace_cursor-layer";parentEl.appendChild(this.element);if(isIE8===undefined)isIE8=!("opacity"in this.element.style);this.isVisible=false;this.isBlinking=true;this.blinkInterval=1E3;this.smoothBlinking=false;this.cursors=[];this.cursor=this.addCursor();dom.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=(isIE8?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(val){var cursors=this.cursors;for(var i=cursors.length;i--;)cursors[i].style.visibility=val?"":"hidden"};this.$updateOpacity=function(val){var cursors=this.cursors;for(var i=cursors.length;i--;)cursors[i].style.opacity=val?"":"0"};this.$padding=0;this.setPadding=function(padding){this.$padding=padding};this.setSession=function(session){this.session=session};this.setBlinking=function(blinking){if(blinking!=this.isBlinking){this.isBlinking=blinking;this.restartTimer()}};this.setBlinkInterval=function(blinkInterval){if(blinkInterval!=this.blinkInterval){this.blinkInterval=blinkInterval;this.restartTimer()}};this.setSmoothBlinking=function(smoothBlinking){if(smoothBlinking!=this.smoothBlinking&&!isIE8){this.smoothBlinking=smoothBlinking;dom.setCssClass(this.element,"ace_smooth-blinking",smoothBlinking);this.$updateCursors(true);this.$updateCursors=this.$updateOpacity.bind(this);this.restartTimer()}};this.addCursor=function(){var el=dom.createElement("div");el.className="ace_cursor";this.element.appendChild(el);this.cursors.push(el);return el};this.removeCursor=function(){if(this.cursors.length>1){var el=this.cursors.pop();el.parentNode.removeChild(el);return el}};this.hideCursor=function(){this.isVisible=false;dom.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.showCursor=function(){this.isVisible=true;dom.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()};this.restartTimer=function(){var update=this.$updateCursors;clearInterval(this.intervalId);clearTimeout(this.timeoutId);if(this.smoothBlinking)dom.removeCssClass(this.element,"ace_smooth-blinking");update(true);if(!this.isBlinking||!this.blinkInterval||!this.isVisible)return;if(this.smoothBlinking)setTimeout(function(){dom.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var blink=function(){this.timeoutId=setTimeout(function(){update(false)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){update(true);blink()},this.blinkInterval);blink()};this.getPixelPosition=function(position,onScreen){if(!this.config||!this.session)return{left:0,top:0};if(!position)position=this.session.selection.getCursor();var pos=this.session.documentToScreenPosition(position);var cursorLeft=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,position.row)?this.session.$bidiHandler.getPosLeft(pos.column):pos.column*this.config.characterWidth);var cursorTop=(pos.row-(onScreen?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:cursorLeft,top:cursorTop}};this.update=function(config){this.config=config;var selections=this.session.$selectionMarkers;var i=0,cursorIndex=0;if(selections===undefined||selections.length===0)selections=[{cursor:null}];for(var i=0,n=selections.length;i<n;i++){var pixelPos=this.getPixelPosition(selections[i].cursor,true);if((pixelPos.top>config.height+config.offset||pixelPos.top<0)&&i>1)continue;var style=(this.cursors[cursorIndex++]||this.addCursor()).style;if(!this.drawCursor){style.left=pixelPos.left+"px";style.top=pixelPos.top+"px";style.width=config.characterWidth+"px";style.height=config.lineHeight+"px"}else this.drawCursor(style,pixelPos,config,selections[i],this.session)}while(this.cursors.length>cursorIndex)this.removeCursor();var overwrite=this.session.getOverwrite();this.$setOverwrite(overwrite);this.$pixelPos=pixelPos;this.restartTimer()};this.drawCursor=null;this.$setOverwrite=function(overwrite){if(overwrite!=this.overwrite){this.overwrite=overwrite;if(overwrite)dom.addCssClass(this.element,"ace_overwrite-cursors");else dom.removeCssClass(this.element,"ace_overwrite-cursors")}};this.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)}}).call(Cursor.prototype);exports.Cursor=Cursor});ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("./lib/oop");var dom=acequire("./lib/dom");var event=acequire("./lib/event");var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var MAX_SCROLL_H=32768;var ScrollBar=function(parent){this.element=dom.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix;this.inner=dom.createElement("div");this.inner.className="ace_scrollbar-inner";this.element.appendChild(this.inner);parent.appendChild(this.element);this.setVisible(false);this.skipEvent=false;event.addListener(this.element,"scroll",this.onScroll.bind(this));event.addListener(this.element,"mousedown",event.preventDefault)};(function(){oop.implement(this,EventEmitter);this.setVisible=function(isVisible){this.element.style.display=isVisible?"":"none";this.isVisible=isVisible;this.coeff=1}}).call(ScrollBar.prototype);var VScrollBar=function(parent,renderer){ScrollBar.call(this,parent);this.scrollTop=0;this.scrollHeight=0;renderer.$scrollbarWidth=this.width=dom.scrollbarWidth(parent.ownerDocument);this.inner.style.width=this.element.style.width=(this.width||15)+5+"px";this.$minWidth=0};oop.inherits(VScrollBar,ScrollBar);(function(){this.classSuffix="-v";this.onScroll=function(){if(!this.skipEvent){this.scrollTop=this.element.scrollTop;if(this.coeff!=1){var h=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-h)/(this.coeff-h)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=false};this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)};this.setHeight=function(height){this.element.style.height=height+"px"};this.setInnerHeight=this.setScrollHeight=function(height){this.scrollHeight=height;if(height>MAX_SCROLL_H){this.coeff=MAX_SCROLL_H/height;height=MAX_SCROLL_H}else if(this.coeff!=1)this.coeff=1;this.inner.style.height=height+"px"};this.setScrollTop=function(scrollTop){if(this.scrollTop!=scrollTop){this.skipEvent=true;this.scrollTop=scrollTop;this.element.scrollTop=scrollTop*this.coeff}}}).call(VScrollBar.prototype);var HScrollBar=function(parent,renderer){ScrollBar.call(this,parent);this.scrollLeft=0;this.height=renderer.$scrollbarWidth;this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};oop.inherits(HScrollBar,ScrollBar);(function(){this.classSuffix="-h";this.onScroll=function(){if(!this.skipEvent){this.scrollLeft=this.element.scrollLeft;this._emit("scroll",{data:this.scrollLeft})}this.skipEvent=false};this.getHeight=function(){return this.isVisible?this.height:0};this.setWidth=function(width){this.element.style.width=width+"px"};this.setInnerWidth=function(width){this.inner.style.width=width+"px"};this.setScrollWidth=function(width){this.inner.style.width=width+"px"};this.setScrollLeft=function(scrollLeft){if(this.scrollLeft!=scrollLeft){this.skipEvent=true;this.scrollLeft=this.element.scrollLeft=scrollLeft}}}).call(HScrollBar.prototype);exports.ScrollBar=VScrollBar;exports.ScrollBarV=VScrollBar;exports.ScrollBarH=HScrollBar;exports.VScrollBar=VScrollBar;exports.HScrollBar=HScrollBar});ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(acequire,exports,module){var event=acequire("./lib/event");var RenderLoop=function(onRender,win){this.onRender=onRender;this.pending=false;this.changes=0;this.window=win||window};(function(){this.schedule=function(change){this.changes=this.changes|change;if(!this.pending&&this.changes){this.pending=true;var _self=this;event.nextFrame(function(){_self.pending=false;var changes;while(changes=_self.changes){_self.changes=0;_self.onRender(changes)}},this.window)}}}).call(RenderLoop.prototype);exports.RenderLoop=RenderLoop});ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("../lib/oop");var dom=acequire("../lib/dom");var lang=acequire("../lib/lang");var useragent=acequire("../lib/useragent");var EventEmitter=acequire("../lib/event_emitter").EventEmitter;var CHAR_COUNT=0;var FontMetrics=exports.FontMetrics=function(parentEl){this.el=dom.createElement("div");this.$setMeasureNodeStyles(this.el.style,true);this.$main=dom.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=dom.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);parentEl.appendChild(this.el);if(!CHAR_COUNT)this.$testFractionalRect();this.$measureNode.innerHTML=lang.stringRepeat("X",CHAR_COUNT);this.$characterSize={width:0,height:0};this.checkForSizeChanges()};(function(){oop.implement(this,EventEmitter);this.$characterSize={width:0,height:0};this.$testFractionalRect=function(){var el=dom.createElement("div");this.$setMeasureNodeStyles(el.style);el.style.width="0.2px";document.documentElement.appendChild(el);var w=el.getBoundingClientRect().width;if(w>0&&w<1)CHAR_COUNT=50;else CHAR_COUNT=100;el.parentNode.removeChild(el)};this.$setMeasureNodeStyles=function(style,isRoot){style.width=style.height="auto";style.left=style.top="0px";style.visibility="hidden";style.position="absolute";style.whiteSpace="pre";if(useragent.isIE<8)style["font-family"]="inherit";else style.font="inherit";style.overflow=isRoot?"hidden":"visible"};this.checkForSizeChanges=function(){var size=this.$measureSizes();if(size&&(this.$characterSize.width!==size.width||this.$characterSize.height!==size.height)){this.$measureNode.style.fontWeight="bold";var boldSize=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=size;this.charSizes=Object.create(null);this.allowBoldFonts=boldSize&&boldSize.width===size.width&&boldSize.height===size.height;this._emit("changeCharacterSize",{data:size})}};this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var self=this;return this.$pollSizeChangesTimer=setInterval(function(){self.checkForSizeChanges()},500)};this.setPolling=function(val){if(val)this.$pollSizeChanges();else if(this.$pollSizeChangesTimer){clearInterval(this.$pollSizeChangesTimer);this.$pollSizeChangesTimer=0}};this.$measureSizes=function(){if(CHAR_COUNT===50){var rect=null;try{rect=this.$measureNode.getBoundingClientRect()}catch(e){rect={width:0,height:0}}var size={height:rect.height,width:rect.width/CHAR_COUNT}}else var size={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/CHAR_COUNT};if(size.width===0||size.height===0)return null;return size};this.$measureCharWidth=function(ch){this.$main.innerHTML=lang.stringRepeat(ch,CHAR_COUNT);var rect=this.$main.getBoundingClientRect();return rect.width/CHAR_COUNT};this.getCharacterWidth=function(ch){var w=this.charSizes[ch];if(w===undefined)w=this.charSizes[ch]=this.$measureCharWidth(ch)/this.$characterSize.width;return w};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);if(this.el&&this.el.parentNode)this.el.parentNode.removeChild(this.el)}}).call(FontMetrics.prototype)});ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(acequire,exports,module){var oop=acequire("./lib/oop");var dom=acequire("./lib/dom");var config=acequire("./config");var useragent=acequire("./lib/useragent");var GutterLayer=acequire("./layer/gutter").Gutter;var MarkerLayer=acequire("./layer/marker").Marker;var TextLayer=acequire("./layer/text").Text;var CursorLayer=acequire("./layer/cursor").Cursor;var HScrollBar=acequire("./scrollbar").HScrollBar;var VScrollBar=acequire("./scrollbar").VScrollBar;var RenderLoop=acequire("./renderloop").RenderLoop;var FontMetrics=acequire("./layer/font_metrics").FontMetrics;var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var editorCss='.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\ttext-align: left;\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg\x3d\x3d");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg\x3d\x3d");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII\x3d");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII\x3d"),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII\x3d");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII\x3d"),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled \x3e .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg\x3d\x3d");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg\x3d\x3d");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA\x3d\x3d");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg\x3d\x3d");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg\x3d\x3d");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t.ace_text-input-ios {\tposition: absolute !important;\ttop: -100000px !important;\tleft: -100000px !important;\t}\t';dom.importCssString(editorCss,"ace_editor.css");var VirtualRenderer=function(container,theme){var _self=this;this.container=container||dom.createElement("div");this.$keepTextAreaAtCursor=!useragent.isOldIE;dom.addCssClass(this.container,"ace_editor");this.setTheme(theme);this.$gutter=dom.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden",true);this.scroller=dom.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=dom.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new GutterLayer(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new MarkerLayer(this.content);var textLayer=this.$textLayer=new TextLayer(this.content);this.canvas=textLayer.element;this.$markerFront=new MarkerLayer(this.content);this.$cursorLayer=new CursorLayer(this.content);this.$horizScroll=false;this.$vScroll=false;this.scrollBar=this.scrollBarV=new VScrollBar(this.container,this);this.scrollBarH=new HScrollBar(this.container,this);this.scrollBarV.addEventListener("scroll",function(e){if(!_self.$scrollAnimation)_self.session.setScrollTop(e.data-_self.scrollMargin.top)});this.scrollBarH.addEventListener("scroll",function(e){if(!_self.$scrollAnimation)_self.session.setScrollLeft(e.data-_self.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new FontMetrics(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.addEventListener("changeCharacterSize",function(e){_self.updateCharacterSize();_self.onResize(true,_self.gutterWidth,_self.$size.width,_self.$size.height);_self._signal("changeCharacterSize",e)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:true};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$loop=new RenderLoop(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);config.resetOptions(this);config._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;oop.implement(this,EventEmitter);this.updateCharacterSize=function(){if(this.$textLayer.allowBoldFonts!=this.$allowBoldFonts){this.$allowBoldFonts=this.$textLayer.allowBoldFonts;this.setStyle("ace_nobold",!this.$allowBoldFonts)}this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin()};this.setSession=function(session){if(this.session)this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode);this.session=session;if(session&&this.scrollMargin.top&&session.getScrollTop()<=0)session.setScrollTop(-this.scrollMargin.top);this.$cursorLayer.setSession(session);this.$markerBack.setSession(session);this.$markerFront.setSession(session);this.$gutterLayer.setSession(session);this.$textLayer.setSession(session);if(!session)return;this.$loop.schedule(this.CHANGE_FULL);this.session.$setFontMetrics(this.$fontMetrics);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this);this.onChangeNewLineMode();this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode)};this.updateLines=function(firstRow,lastRow,force){if(lastRow===undefined)lastRow=Infinity;if(!this.$changedLines)this.$changedLines={firstRow:firstRow,lastRow:lastRow};else{if(this.$changedLines.firstRow>firstRow)this.$changedLines.firstRow=firstRow;if(this.$changedLines.lastRow<lastRow)this.$changedLines.lastRow=lastRow}if(this.$changedLines.lastRow<this.layerConfig.firstRow)if(force)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;if(this.$changedLines.firstRow>this.layerConfig.lastRow)return;this.$loop.schedule(this.CHANGE_LINES)};this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)};this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(force){if(force)this.$renderChanges(this.CHANGE_FULL,true);else this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()};this.$changes=0;this.$updateSizeAsync=function(){if(this.$loop.pending)this.$size.$dirty=true;else this.onResize()};this.onResize=function(force,gutterWidth,width,height){if(this.resizing>2)return;else if(this.resizing>0)this.resizing++;else this.resizing=force?1:0;var el=this.container;if(!height)height=el.clientHeight||el.scrollHeight;if(!width)width=el.clientWidth||el.scrollWidth;var changes=this.$updateCachedSize(force,gutterWidth,width,height);if(!this.$size.scrollerHeight||!width&&!height)return this.resizing=0;if(force)this.$gutterLayer.$padding=null;if(force)this.$renderChanges(changes|this.$changes,true);else this.$loop.schedule(changes|this.$changes);if(this.resizing)this.resizing=0;this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null};this.$updateCachedSize=function(force,gutterWidth,width,height){height-=this.$extraHeight||0;var changes=0;var size=this.$size;var oldSize={width:size.width,height:size.height,scrollerHeight:size.scrollerHeight,scrollerWidth:size.scrollerWidth};if(height&&(force||size.height!=height)){size.height=height;changes|=this.CHANGE_SIZE;size.scrollerHeight=size.height;if(this.$horizScroll)size.scrollerHeight-=this.scrollBarH.getHeight();this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px";changes=changes|this.CHANGE_SCROLL}if(width&&(force||size.width!=width)){changes|=this.CHANGE_SIZE;size.width=width;if(gutterWidth==null)gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;this.gutterWidth=gutterWidth;this.scrollBarH.element.style.left=this.scroller.style.left=gutterWidth+"px";size.scrollerWidth=Math.max(0,width-gutterWidth-this.scrollBarV.getWidth());this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px";this.scroller.style.bottom=this.scrollBarH.getHeight()+"px";if(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||force)changes|=this.CHANGE_FULL}size.$dirty=!width||!height;if(changes)this._signal("resize",oldSize);return changes};this.onGutterResize=function(){var gutterWidth=this.$showGutter?this.$gutter.offsetWidth:0;if(gutterWidth!=this.gutterWidth)this.$changes|=this.$updateCachedSize(true,gutterWidth,this.$size.width,this.$size.height);if(this.session.getUseWrapMode()&&this.adjustWrapLimit())this.$loop.schedule(this.CHANGE_FULL);else if(this.$size.$dirty)this.$loop.schedule(this.CHANGE_FULL);else{this.$computeLayerConfig();this.$loop.schedule(this.CHANGE_MARKER)}};this.adjustWrapLimit=function(){var availableWidth=this.$size.scrollerWidth-this.$padding*2;var limit=Math.floor(availableWidth/this.characterWidth);return this.session.adjustWrapLimit(limit,this.$showPrintMargin&&this.$printMarginColumn)};this.setAnimatedScroll=function(shouldAnimate){this.setOption("animatedScroll",shouldAnimate)};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(showInvisibles){this.setOption("showInvisibles",showInvisibles);this.session.$bidiHandler.setShowInvisibles(showInvisibles)};this.getShowInvisibles=function(){return this.getOption("showInvisibles")};this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")};this.setDisplayIndentGuides=function(display){this.setOption("displayIndentGuides",display)};this.setShowPrintMargin=function(showPrintMargin){this.setOption("showPrintMargin",showPrintMargin)};this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")};this.setPrintMarginColumn=function(showPrintMargin){this.setOption("printMarginColumn",showPrintMargin)};this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")};this.getShowGutter=function(){return this.getOption("showGutter")};this.setShowGutter=function(show){return this.setOption("showGutter",show)};this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")};this.setFadeFoldWidgets=function(show){this.setOption("fadeFoldWidgets",show)};this.setHighlightGutterLine=function(shouldHighlight){this.setOption("highlightGutterLine",shouldHighlight)};this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")};this.$updateGutterLineHighlight=function(){var pos=this.$cursorLayer.$pixelPos;var height=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var cursor=this.session.selection.getCursor();cursor.column=0;pos=this.$cursorLayer.getPixelPosition(cursor,true);height*=this.session.getRowLength(cursor.row)}this.$gutterLineHighlight.style.top=pos.top-this.layerConfig.offset+"px";this.$gutterLineHighlight.style.height=height+"px"};this.$updatePrintMargin=function(){if(!this.$showPrintMargin&&!this.$printMarginEl)return;if(!this.$printMarginEl){var containerEl=dom.createElement("div");containerEl.className="ace_layer ace_print-margin-layer";this.$printMarginEl=dom.createElement("div");this.$printMarginEl.className="ace_print-margin";containerEl.appendChild(this.$printMarginEl);this.content.insertBefore(containerEl,this.content.firstChild)}var style=this.$printMarginEl.style;style.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px";style.visibility=this.$showPrintMargin?"visible":"hidden";if(this.session&&this.session.$wrap==-1)this.adjustWrapLimit()};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.scroller};this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var config=this.layerConfig;var posTop=this.$cursorLayer.$pixelPos.top;var posLeft=this.$cursorLayer.$pixelPos.left;posTop-=config.offset;var style=this.textarea.style;var h=this.lineHeight;if(posTop<0||posTop>config.height-h){style.top=style.left="0";return}var w=this.characterWidth;if(this.$composition){var val=this.textarea.value.replace(/^\x01+/,"");w*=this.session.$getStringScreenWidth(val)[0]+2;h+=2}posLeft-=this.scrollLeft;if(posLeft>this.$size.scrollerWidth-w)posLeft=this.$size.scrollerWidth-w;posLeft+=this.gutterWidth;style.height=h+"px";style.width=w+"px";style.left=Math.min(posLeft,this.$size.scrollerWidth-w)+"px";style.top=Math.min(posTop,this.$size.height-h)+"px"};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)};this.getLastFullyVisibleRow=function(){var config=this.layerConfig;var lastRow=config.lastRow;var top=this.session.documentToScreenRow(lastRow,0)*config.lineHeight;if(top-this.session.getScrollTop()>config.height-config.lineHeight)return lastRow-1;return lastRow};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};this.$padding=null;this.setPadding=function(padding){this.$padding=padding;this.$textLayer.setPadding(padding);this.$cursorLayer.setPadding(padding);this.$markerFront.setPadding(padding);this.$markerBack.setPadding(padding);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.setScrollMargin=function(top,bottom,left,right){var sm=this.scrollMargin;sm.top=top|0;sm.bottom=bottom|0;sm.right=right|0;sm.left=left|0;sm.v=sm.top+sm.bottom;sm.h=sm.left+sm.right;if(sm.top&&this.scrollTop<=0&&this.session)this.session.setScrollTop(-sm.top);this.updateFull()};this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible};this.setHScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("hScrollBarAlwaysVisible",alwaysVisible)};this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible};this.setVScrollBarAlwaysVisible=function(alwaysVisible){this.setOption("vScrollBarAlwaysVisible",alwaysVisible)};this.$updateScrollBarV=function(){var scrollHeight=this.layerConfig.maxHeight;var scrollerHeight=this.$size.scrollerHeight;if(!this.$maxLines&&this.$scrollPastEnd){scrollHeight-=(scrollerHeight-this.lineHeight)*this.$scrollPastEnd;if(this.scrollTop>scrollHeight-scrollerHeight){scrollHeight=this.scrollTop+scrollerHeight;this.scrollBarV.scrollTop=null}}this.scrollBarV.setScrollHeight(scrollHeight+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)};this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)};this.$frozen=false;this.freeze=function(){this.$frozen=true};this.unfreeze=function(){this.$frozen=false};this.$renderChanges=function(changes,force){if(this.$changes){changes|=this.$changes;this.$changes=0}if(!this.session||!this.container.offsetWidth||this.$frozen||!changes&&!force){this.$changes|=changes;return}if(this.$size.$dirty){this.$changes|=changes;return this.onResize(true)}if(!this.lineHeight)this.$textLayer.checkForSizeChanges();this._signal("beforeRender");if(this.session&&this.session.$bidiHandler)this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var config=this.layerConfig;if(changes&this.CHANGE_FULL||changes&this.CHANGE_SIZE||changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES||changes&this.CHANGE_SCROLL||changes&this.CHANGE_H_SCROLL){changes|=this.$computeLayerConfig();if(config.firstRow!=this.layerConfig.firstRow&&config.firstRowScreen==this.layerConfig.firstRowScreen){var st=this.scrollTop+(config.firstRow-this.layerConfig.firstRow)*this.lineHeight;if(st>0){this.scrollTop=st;changes=changes|this.CHANGE_SCROLL;changes|=this.$computeLayerConfig()}}config=this.layerConfig;this.$updateScrollBarV();if(changes&this.CHANGE_H_SCROLL)this.$updateScrollBarH();this.$gutterLayer.element.style.marginTop=-config.offset+"px";this.content.style.marginTop=-config.offset+"px";this.content.style.width=config.width+2*this.$padding+"px";this.content.style.height=config.minHeight+"px"}if(changes&this.CHANGE_H_SCROLL){this.content.style.marginLeft=-this.scrollLeft+"px";this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"}if(changes&this.CHANGE_FULL){this.$textLayer.update(config);if(this.$showGutter)this.$gutterLayer.update(config);this.$markerBack.update(config);this.$markerFront.update(config);this.$cursorLayer.update(config);this.$moveTextAreaToCursor();this.$highlightGutterLine&&this.$updateGutterLineHighlight();this._signal("afterRender");return}if(changes&this.CHANGE_SCROLL){if(changes&this.CHANGE_TEXT||changes&this.CHANGE_LINES)this.$textLayer.update(config);else this.$textLayer.scrollLines(config);if(this.$showGutter)this.$gutterLayer.update(config);this.$markerBack.update(config);this.$markerFront.update(config);this.$cursorLayer.update(config);this.$highlightGutterLine&&this.$updateGutterLineHighlight();this.$moveTextAreaToCursor();this._signal("afterRender");return}if(changes&this.CHANGE_TEXT){this.$textLayer.update(config);if(this.$showGutter)this.$gutterLayer.update(config)}else if(changes&this.CHANGE_LINES){if(this.$updateLines()||changes&this.CHANGE_GUTTER&&this.$showGutter)this.$gutterLayer.update(config)}else if(changes&this.CHANGE_TEXT||changes&this.CHANGE_GUTTER)if(this.$showGutter)this.$gutterLayer.update(config);if(changes&this.CHANGE_CURSOR){this.$cursorLayer.update(config);this.$moveTextAreaToCursor();this.$highlightGutterLine&&this.$updateGutterLineHighlight()}if(changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT))this.$markerFront.update(config);if(changes&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK))this.$markerBack.update(config);this._signal("afterRender")};this.$autosize=function(){var height=this.session.getScreenLength()*this.lineHeight;var maxHeight=this.$maxLines*this.lineHeight;var desiredHeight=Math.min(maxHeight,Math.max((this.$minLines||1)*this.lineHeight,height))+this.scrollMargin.v+(this.$extraHeight||0);if(this.$horizScroll)desiredHeight+=this.scrollBarH.getHeight();if(this.$maxPixelHeight&&desiredHeight>this.$maxPixelHeight)desiredHeight=this.$maxPixelHeight;var vScroll=height>maxHeight;if(desiredHeight!=this.desiredHeight||this.$size.height!=this.desiredHeight||vScroll!=this.$vScroll){if(vScroll!=this.$vScroll){this.$vScroll=vScroll;this.scrollBarV.setVisible(vScroll)}var w=this.container.clientWidth;this.container.style.height=desiredHeight+"px";this.$updateCachedSize(true,this.$gutterWidth,w,desiredHeight);this.desiredHeight=desiredHeight;this._signal("autosize")}};this.$computeLayerConfig=function(){var session=this.session;var size=this.$size;var hideScrollbars=size.height<=2*this.lineHeight;var screenLines=this.session.getScreenLength();var maxHeight=screenLines*this.lineHeight;var longestLine=this.$getLongestLine();var horizScroll=!hideScrollbars&&(this.$hScrollBarAlwaysVisible||size.scrollerWidth-longestLine-2*this.$padding<0);var hScrollChanged=this.$horizScroll!==horizScroll;if(hScrollChanged){this.$horizScroll=horizScroll;this.scrollBarH.setVisible(horizScroll)}var vScrollBefore=this.$vScroll;if(this.$maxLines&&this.lineHeight>1)this.$autosize();var offset=this.scrollTop%this.lineHeight;var minHeight=size.scrollerHeight+this.lineHeight;var scrollPastEnd=!this.$maxLines&&this.$scrollPastEnd?(size.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;maxHeight+=scrollPastEnd;var sm=this.scrollMargin;this.session.setScrollTop(Math.max(-sm.top,Math.min(this.scrollTop,maxHeight-size.scrollerHeight+sm.bottom)));this.session.setScrollLeft(Math.max(-sm.left,Math.min(this.scrollLeft,longestLine+2*this.$padding-size.scrollerWidth+sm.right)));var vScroll=!hideScrollbars&&(this.$vScrollBarAlwaysVisible||size.scrollerHeight-maxHeight+scrollPastEnd<0||this.scrollTop>sm.top);var vScrollChanged=vScrollBefore!==vScroll;if(vScrollChanged){this.$vScroll=vScroll;this.scrollBarV.setVisible(vScroll)}var lineCount=Math.ceil(minHeight/this.lineHeight)-1;var firstRow=Math.max(0,Math.round((this.scrollTop-offset)/this.lineHeight));var lastRow=firstRow+lineCount;var firstRowScreen,firstRowHeight;var lineHeight=this.lineHeight;firstRow=session.screenToDocumentRow(firstRow,0);var foldLine=session.getFoldLine(firstRow);if(foldLine)firstRow=foldLine.start.row;firstRowScreen=session.documentToScreenRow(firstRow,0);firstRowHeight=session.getRowLength(firstRow)*lineHeight;lastRow=Math.min(session.screenToDocumentRow(lastRow,0),session.getLength()-1);minHeight=size.scrollerHeight+session.getRowLength(lastRow)*lineHeight+firstRowHeight;offset=this.scrollTop-firstRowScreen*lineHeight;var changes=0;if(this.layerConfig.width!=longestLine)changes=this.CHANGE_H_SCROLL;if(hScrollChanged||vScrollChanged){changes=this.$updateCachedSize(true,this.gutterWidth,size.width,size.height);this._signal("scrollbarVisibilityChanged");if(vScrollChanged)longestLine=this.$getLongestLine()}this.layerConfig={width:longestLine,padding:this.$padding,firstRow:firstRow,firstRowScreen:firstRowScreen,lastRow:lastRow,lineHeight:lineHeight,characterWidth:this.characterWidth,minHeight:minHeight,maxHeight:maxHeight,offset:offset,gutterOffset:lineHeight?Math.max(0,Math.ceil((offset+size.height-size.scrollerHeight)/lineHeight)):0,height:this.$size.scrollerHeight};return changes};this.$updateLines=function(){if(!this.$changedLines)return;var firstRow=this.$changedLines.firstRow;var lastRow=this.$changedLines.lastRow;this.$changedLines=null;var layerConfig=this.layerConfig;if(firstRow>layerConfig.lastRow+1)return;if(lastRow<layerConfig.firstRow)return;if(lastRow===Infinity){if(this.$showGutter)this.$gutterLayer.update(layerConfig);this.$textLayer.update(layerConfig);return}this.$textLayer.updateLines(layerConfig,firstRow,lastRow);return true};this.$getLongestLine=function(){var charCount=this.session.getScreenWidth();if(this.showInvisibles&&!this.session.$useWrapMode)charCount+=1;return Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(charCount*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(true));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(row,className){this.$gutterLayer.addGutterDecoration(row,className)};this.removeGutterDecoration=function(row,className){this.$gutterLayer.removeGutterDecoration(row,className)};this.updateBreakpoints=function(rows){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(annotations){this.$gutterLayer.setAnnotations(annotations);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(anchor,lead,offset){this.scrollCursorIntoView(anchor,offset);this.scrollCursorIntoView(lead,offset)};this.scrollCursorIntoView=function(cursor,offset,$viewMargin){if(this.$size.scrollerHeight===0)return;var pos=this.$cursorLayer.getPixelPosition(cursor);var left=pos.left;var top=pos.top;var topMargin=$viewMargin&&$viewMargin.top||0;var bottomMargin=$viewMargin&&$viewMargin.bottom||0;var scrollTop=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;if(scrollTop+topMargin>top){if(offset&&scrollTop+topMargin>top+this.lineHeight)top-=offset*this.$size.scrollerHeight;if(top===0)top=-this.scrollMargin.top;this.session.setScrollTop(top)}else if(scrollTop+this.$size.scrollerHeight-bottomMargin<top+this.lineHeight){if(offset&&scrollTop+this.$size.scrollerHeight-bottomMargin<top-this.lineHeight)top+=offset*this.$size.scrollerHeight;this.session.setScrollTop(top+this.lineHeight-this.$size.scrollerHeight)}var scrollLeft=this.scrollLeft;if(scrollLeft>left){if(left<this.$padding+2*this.layerConfig.characterWidth)left=-this.scrollMargin.left;this.session.setScrollLeft(left)}else if(scrollLeft+this.$size.scrollerWidth<left+this.characterWidth)this.session.setScrollLeft(Math.round(left+this.characterWidth-this.$size.scrollerWidth));else if(scrollLeft<=this.$padding&&left-scrollLeft<this.characterWidth)this.session.setScrollLeft(0)};this.getScrollTop=function(){return this.session.getScrollTop()};this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(row){this.session.setScrollTop(row*this.lineHeight)};this.alignCursor=function(cursor,alignment){if(typeof cursor=="number")cursor={row:cursor,column:0};var pos=this.$cursorLayer.getPixelPosition(cursor);var h=this.$size.scrollerHeight-this.lineHeight;var offset=pos.top-h*(alignment||0);this.session.setScrollTop(offset);return offset};this.STEPS=8;this.$calcSteps=function(fromValue,toValue){var i=0;var l=this.STEPS;var steps=[];var func=function(t,x_min,dx){return dx*(Math.pow(t-1,3)+1)+x_min};for(i=0;i<l;++i)steps.push(func(i/this.STEPS,fromValue,toValue-fromValue));return steps};this.scrollToLine=function(line,center,animate,callback){var pos=this.$cursorLayer.getPixelPosition({row:line,column:0});var offset=pos.top;if(center)offset-=this.$size.scrollerHeight/2;var initialScroll=this.scrollTop;this.session.setScrollTop(offset);if(animate!==false)this.animateScrolling(initialScroll,callback)};this.animateScrolling=function(fromValue,callback){var toValue=this.scrollTop;if(!this.$animatedScroll)return;var _self=this;if(fromValue==toValue)return;if(this.$scrollAnimation){var oldSteps=this.$scrollAnimation.steps;if(oldSteps.length){fromValue=oldSteps[0];if(fromValue==toValue)return}}var steps=_self.$calcSteps(fromValue,toValue);this.$scrollAnimation={from:fromValue,to:toValue,steps:steps};clearInterval(this.$timer);_self.session.setScrollTop(steps.shift());_self.session.$scrollTop=toValue;this.$timer=setInterval(function(){if(steps.length){_self.session.setScrollTop(steps.shift());_self.session.$scrollTop=toValue}else if(toValue!=null){_self.session.$scrollTop=-1;_self.session.setScrollTop(toValue);toValue=null}else{_self.$timer=clearInterval(_self.$timer);_self.$scrollAnimation=null;callback&&callback()}},10)};this.scrollToY=function(scrollTop){if(this.scrollTop!==scrollTop){this.$loop.schedule(this.CHANGE_SCROLL);this.scrollTop=scrollTop}};this.scrollToX=function(scrollLeft){if(this.scrollLeft!==scrollLeft)this.scrollLeft=scrollLeft;this.$loop.schedule(this.CHANGE_H_SCROLL)};this.scrollTo=function(x,y){this.session.setScrollTop(y);this.session.setScrollLeft(y)};this.scrollBy=function(deltaX,deltaY){deltaY&&this.session.setScrollTop(this.session.getScrollTop()+deltaY);deltaX&&this.session.setScrollLeft(this.session.getScrollLeft()+deltaX)};this.isScrollableBy=function(deltaX,deltaY){if(deltaY<0&&this.session.getScrollTop()>=1-this.scrollMargin.top)return true;if(deltaY>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom)return true;if(deltaX<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left)return true;if(deltaX>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return true};this.pixelToScreenCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect();var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding;var offset=offsetX/this.characterWidth;var row=Math.floor((y+this.scrollTop-canvasPos.top)/this.lineHeight);var col=Math.round(offset);return{row:row,column:col,side:offset-col>0?1:-1,offsetX:offsetX}};this.screenToTextCoordinates=function(x,y){var canvasPos=this.scroller.getBoundingClientRect();var offsetX=x+this.scrollLeft-canvasPos.left-this.$padding;var col=Math.round(offsetX/this.characterWidth);var row=(y+this.scrollTop-canvasPos.top)/this.lineHeight;return this.session.screenToDocumentPosition(row,Math.max(col,0),offsetX)};this.textToScreenCoordinates=function(row,column){var canvasPos=this.scroller.getBoundingClientRect();var pos=this.session.documentToScreenPosition(row,column);var x=this.$padding+(this.session.$bidiHandler.isBidiRow(pos.row,row)?this.session.$bidiHandler.getPosLeft(pos.column):Math.round(pos.column*this.characterWidth));var y=pos.row*this.lineHeight;return{pageX:canvasPos.left+x-this.scrollLeft,pageY:canvasPos.top+y-this.scrollTop}};this.visualizeFocus=function(){dom.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){dom.removeCssClass(this.container,"ace_focus")};this.showComposition=function(position){if(!this.$composition)this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText};this.$keepTextAreaAtCursor=true;dom.addCssClass(this.textarea,"ace_composition");this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(text){this.$moveTextAreaToCursor()};this.hideComposition=function(){if(!this.$composition)return;dom.removeCssClass(this.textarea,"ace_composition");this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor;this.textarea.style.cssText=this.$composition.cssText;this.$composition=null};this.setTheme=function(theme,cb){var _self=this;this.$themeId=theme;_self._dispatchEvent("themeChange",{theme:theme});if(!theme||typeof theme=="string"){var moduleName=theme||this.$options.theme.initialValue;config.loadModule(["theme",moduleName],afterLoad)}else afterLoad(theme);function afterLoad(module){if(_self.$themeId!=theme)return cb&&cb();if(!module||!module.cssClass)throw new Error("couldn't load module "+theme+" or it didn't call define");dom.importCssString(module.cssText,module.cssClass,_self.container.ownerDocument);if(_self.theme)dom.removeCssClass(_self.container,_self.theme.cssClass);var padding="padding"in module?module.padding:"padding"in(_self.theme||{})?4:_self.$padding;if(_self.$padding&&padding!=_self.$padding)_self.setPadding(padding);_self.$theme=module.cssClass;_self.theme=module;dom.addCssClass(_self.container,module.cssClass);dom.setCssClass(_self.container,"ace_dark",module.isDark);if(_self.$size){_self.$size.width=0;_self.$updateSizeAsync()}_self._dispatchEvent("themeLoaded",{theme:module});cb&&cb()}};this.getTheme=function(){return this.$themeId};this.setStyle=function(style,include){dom.setCssClass(this.container,style,include!==false)};this.unsetStyle=function(style){dom.removeCssClass(this.container,style)};this.setCursorStyle=function(style){if(this.scroller.style.cursor!=style)this.scroller.style.cursor=style};this.setMouseCursor=function(cursorStyle){this.scroller.style.cursor=cursorStyle};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}).call(VirtualRenderer.prototype);config.defineOptions(VirtualRenderer.prototype,"renderer",{animatedScroll:{initialValue:false},showInvisibles:{set:function(value){if(this.$textLayer.setShowInvisibles(value))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:false},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:true},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(val){if(typeof val=="number")this.$printMarginColumn=val;this.$showPrintMargin=!!val;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(show){this.$gutter.style.display=show?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:true},fadeFoldWidgets:{set:function(show){dom.setCssClass(this.$gutter,"ace_fade-fold-widgets",show)},initialValue:false},showFoldWidgets:{set:function(show){this.$gutterLayer.setShowFoldWidgets(show)},initialValue:true},showLineNumbers:{set:function(show){this.$gutterLayer.setShowLineNumbers(show);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:true},displayIndentGuides:{set:function(show){if(this.$textLayer.setDisplayIndentGuides(show))this.$loop.schedule(this.CHANGE_TEXT)},initialValue:true},highlightGutterLine:{set:function(shouldHighlight){if(!this.$gutterLineHighlight){this.$gutterLineHighlight=dom.createElement("div");this.$gutterLineHighlight.className="ace_gutter-active-line";this.$gutter.appendChild(this.$gutterLineHighlight);return}this.$gutterLineHighlight.style.display=shouldHighlight?"":"none";if(this.$cursorLayer.$pixelPos)this.$updateGutterLineHighlight()},initialValue:false,value:true},hScrollBarAlwaysVisible:{set:function(val){if(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:false},vScrollBarAlwaysVisible:{set:function(val){if(!this.$vScrollBarAlwaysVisible||!this.$vScroll)this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:false},fontSize:{set:function(size){if(typeof size=="number")size=size+"px";this.container.style.fontSize=size;this.updateFontSize()},initialValue:12},fontFamily:{set:function(name){this.container.style.fontFamily=name;this.updateFontSize()}},maxLines:{set:function(val){this.updateFull()}},minLines:{set:function(val){this.updateFull()}},maxPixelHeight:{set:function(val){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(val){val=+val||0;if(this.$scrollPastEnd==val)return;this.$scrollPastEnd=val;this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:0,handlesSet:true},fixedWidthGutter:{set:function(val){this.$gutterLayer.$fixedWidth=!!val;this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(val){this.setTheme(val)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:true}});exports.VirtualRenderer=VirtualRenderer});ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(acequire,exports,module){var oop=acequire("../lib/oop");var net=acequire("../lib/net");var EventEmitter=acequire("../lib/event_emitter").EventEmitter;var config=acequire("../config");function $workerBlob(workerUrl,mod){var script=mod.src;"importScripts('"+net.qualifyURL(workerUrl)+"');";try{return new Blob([script],{"type":"application/javascript"})}catch(e){var BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;var blobBuilder=new BlobBuilder;blobBuilder.append(script);return blobBuilder.getBlob("application/javascript")}}function createWorker(workerUrl,mod){var blob=$workerBlob(workerUrl,mod);var URL=window.URL||window.webkitURL;var blobURL=URL.createObjectURL(blob);return new Worker(blobURL)}var WorkerClient=function(topLevelNamespaces,mod,classname,workerUrl,importScripts){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);if(acequire.nameToUrl&&!acequire.toUrl)acequire.toUrl=acequire.nameToUrl;if(config.get("packaged")||!acequire.toUrl)workerUrl=workerUrl||config.moduleUrl(mod.id,"worker");else{var normalizePath=this.$normalizePath;workerUrl=workerUrl||normalizePath(acequire.toUrl("ace/worker/worker.js",null,"_"));var tlns={};topLevelNamespaces.forEach(function(ns){tlns[ns]=normalizePath(acequire.toUrl(ns,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=createWorker(workerUrl,mod);if(importScripts)this.send("importScripts",importScripts);this.$worker.postMessage({init:true,tlns:tlns,module:mod.id,classname:classname});this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage};(function(){oop.implement(this,EventEmitter);this.onMessage=function(e){var msg=e.data;switch(msg.type){case "event":this._signal(msg.name,{data:msg.data});break;case "call":var callback=this.callbacks[msg.id];if(callback){callback(msg.data);delete this.callbacks[msg.id]}break;case "error":this.reportError(msg.data);break;case "log":window.console&&console.log&&console.log.apply(console,msg.data);break}};this.reportError=function(err){window.console&&console.error&&console.error(err)};this.$normalizePath=function(path){return net.qualifyURL(path)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker=null;if(this.$doc)this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(cmd,args){this.$worker.postMessage({command:cmd,args:args})};this.call=function(cmd,args,callback){if(callback){var id=this.callbackId++;this.callbacks[id]=callback;args.push(id)}this.send(cmd,args)};this.emit=function(event,data){try{this.$worker.postMessage({event:event,data:{data:data.data}})}catch(ex){console.error(ex.stack)}};this.attachToDocument=function(doc){if(this.$doc)this.terminate();this.$doc=doc;this.call("setValue",[doc.getValue()]);doc.on("change",this.changeListener)};this.changeListener=function(delta){if(!this.deltaQueue){this.deltaQueue=[];setTimeout(this.$sendDeltaQueue,0)}if(delta.action=="insert")this.deltaQueue.push(delta.start,delta.lines);else this.deltaQueue.push(delta.start,delta.end)};this.$sendDeltaQueue=function(){var q=this.deltaQueue;if(!q)return;this.deltaQueue=null;if(q.length>50&&q.length>this.$doc.getLength()>>1)this.call("setValue",[this.$doc.getValue()]);else this.emit("change",{data:q})}}).call(WorkerClient.prototype);var UIWorkerClient=function(topLevelNamespaces,mod,classname){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.callbackId=1;this.callbacks={};this.messageBuffer=[];var main=null;var emitSync=false;var sender=Object.create(EventEmitter);var _self=this;this.$worker={};this.$worker.terminate=function(){};this.$worker.postMessage=function(e){_self.messageBuffer.push(e);if(main)if(emitSync)setTimeout(processNext);else processNext()};this.setEmitSync=function(val){emitSync=val};var processNext=function(){var msg=_self.messageBuffer.shift();if(msg.command)main[msg.command].apply(main,msg.args);else if(msg.event)sender._signal(msg.event,msg.data)};sender.postMessage=function(msg){_self.onMessage({data:msg})};sender.callback=function(data,callbackId){this.postMessage({type:"call",id:callbackId,data:data})};sender.emit=function(name,data){this.postMessage({type:"event",name:name,data:data})};config.loadModule(["worker",mod],function(Main){main=new Main[classname](sender);while(_self.messageBuffer.length)processNext()})};UIWorkerClient.prototype=WorkerClient.prototype;exports.UIWorkerClient=UIWorkerClient;exports.WorkerClient=WorkerClient;exports.createWorker=createWorker});ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(acequire,exports,module){var Range=acequire("./range").Range;var EventEmitter=acequire("./lib/event_emitter").EventEmitter;var oop=acequire("./lib/oop");var PlaceHolder=function(session,length,pos,others,mainClass,othersClass){var _self=this;this.length=length;this.session=session;this.doc=session.getDocument();this.mainClass=mainClass;this.othersClass=othersClass;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=others;this.$onCursorChange=function(){setTimeout(function(){_self.onCursorChange()})};this.$pos=pos;var undoStack=session.getUndoManager().$undoStack||session.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=undoStack.length;this.setup();session.selection.on("changeCursor",this.$onCursorChange)};(function(){oop.implement(this,EventEmitter);this.setup=function(){var _self=this;var doc=this.doc;var session=this.session;this.selectionBefore=session.selection.toJSON();if(session.selection.inMultiSelectMode)session.selection.toSingleRange();this.pos=doc.createAnchor(this.$pos.row,this.$pos.column);var pos=this.pos;pos.$insertRight=true;pos.detach();pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+this.length),this.mainClass,null,false);this.others=[];this.$others.forEach(function(other){var anchor=doc.createAnchor(other.row,other.column);anchor.$insertRight=true;anchor.detach();_self.others.push(anchor)});session.setUndoSelect(false)};this.showOtherMarkers=function(){if(this.othersActive)return;var session=this.session;var _self=this;this.othersActive=true;this.others.forEach(function(anchor){anchor.markerId=session.addMarker(new Range(anchor.row,anchor.column,anchor.row,anchor.column+_self.length),_self.othersClass,null,false)})};this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=false;for(var i=0;i<this.others.length;i++)this.session.removeMarker(this.others[i].markerId)};this.onUpdate=function(delta){if(this.$updating)return this.updateAnchors(delta);var range=delta;if(range.start.row!==range.end.row)return;if(range.start.row!==this.pos.row)return;this.$updating=true;var lengthDiff=delta.action==="insert"?range.end.column-range.start.column:range.start.column-range.end.column;var inMainRange=range.start.column>=this.pos.column&&range.start.column<=this.pos.column+this.length+1;var distanceFromStart=range.start.column-this.pos.column;this.updateAnchors(delta);if(inMainRange)this.length+=lengthDiff;if(inMainRange&&!this.session.$fromUndo)if(delta.action==="insert")for(var i=this.others.length-1;i>=0;i--){var otherPos=this.others[i];var newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};this.doc.insertMergedLines(newPos,delta.lines)}else if(delta.action==="remove")for(var i=this.others.length-1;i>=0;i--){var otherPos=this.others[i];var newPos={row:otherPos.row,column:otherPos.column+distanceFromStart};this.doc.remove(new Range(newPos.row,newPos.column,newPos.row,newPos.column-lengthDiff))}this.$updating=false;this.updateMarkers()};this.updateAnchors=function(delta){this.pos.onChange(delta);for(var i=this.others.length;i--;)this.others[i].onChange(delta);this.updateMarkers()};this.updateMarkers=function(){if(this.$updating)return;var _self=this;var session=this.session;var updateMarker=function(pos,className){session.removeMarker(pos.markerId);pos.markerId=session.addMarker(new Range(pos.row,pos.column,pos.row,pos.column+_self.length),className,null,false)};updateMarker(this.pos,this.mainClass);for(var i=this.others.length;i--;)updateMarker(this.others[i],this.othersClass)};this.onCursorChange=function(event){if(this.$updating||!this.session)return;var pos=this.session.selection.getCursor();if(pos.row===this.pos.row&&pos.column>=this.pos.column&&pos.column<=this.pos.column+this.length){this.showOtherMarkers();this._emit("cursorEnter",event)}else{this.hideOtherMarkers();this._emit("cursorLeave",event)}};this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.session.setUndoSelect(true);this.session=null};this.cancel=function(){if(this.$undoStackDepth===-1)return;var undoManager=this.session.getUndoManager();var undosRequired=(undoManager.$undoStack||undoManager.$undostack).length-this.$undoStackDepth;for(var i=0;i<undosRequired;i++)undoManager.undo(true);if(this.selectionBefore)this.session.selection.fromJSON(this.selectionBefore)}}).call(PlaceHolder.prototype);exports.PlaceHolder=PlaceHolder});ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(acequire,exports,module){var event=acequire("../lib/event");var useragent=acequire("../lib/useragent");function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}function onMouseDown(e){var ev=e.domEvent;var alt=ev.altKey;var shift=ev.shiftKey;var ctrl=ev.ctrlKey;var accel=e.getAccelKey();var button=e.getButton();if(ctrl&&useragent.isMac)button=ev.button;if(e.editor.inMultiSelectMode&&button==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!ctrl&&!alt&&!accel){if(button===0&&e.editor.inMultiSelectMode)e.editor.exitMultiSelectMode();return}if(button!==0)return;var editor=e.editor;var selection=editor.selection;var isMultiSelect=editor.inMultiSelectMode;var pos=e.getDocumentPosition();var cursor=selection.getCursor();var inSelection=e.inSelection()||selection.isEmpty()&&isSamePoint(pos,cursor);var mouseX=e.x,mouseY=e.y;var onMouseSelection=function(e){mouseX=e.clientX;mouseY=e.clientY};var session=editor.session;var screenAnchor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY);var screenCursor=screenAnchor;var selectionMode;if(editor.$mouseHandler.$enableJumpToDef)if(ctrl&&alt||accel&&alt)selectionMode=shift?"block":"add";else{if(alt&&editor.$blockSelectEnabled)selectionMode="block"}else if(accel&&!alt){selectionMode="add";if(!isMultiSelect&&shift)return}else if(alt&&editor.$blockSelectEnabled)selectionMode="block";if(selectionMode&&useragent.isMac&&ev.ctrlKey)editor.$mouseHandler.cancelContextMenu();if(selectionMode=="add"){if(!isMultiSelect&&inSelection)return;if(!isMultiSelect){var range=selection.toOrientedRange();editor.addSelectionMarker(range)}var oldRange=selection.rangeList.rangeAtPoint(pos);editor.$blockScrolling++;editor.inVirtualSelectionMode=true;if(shift){oldRange=null;range=selection.ranges[0]||range;editor.removeSelectionMarker(range)}editor.once("mouseup",function(){var tmpSel=selection.toOrientedRange();if(oldRange&&tmpSel.isEmpty()&&isSamePoint(oldRange.cursor,tmpSel.cursor))selection.substractPoint(tmpSel.cursor);else{if(shift)selection.substractPoint(range.cursor);else if(range){editor.removeSelectionMarker(range);selection.addRange(range)}selection.addRange(tmpSel)}editor.$blockScrolling--;editor.inVirtualSelectionMode=false})}else if(selectionMode=="block"){e.stop();editor.inVirtualSelectionMode=true;var initialRange;var rectSel=[];var blockSelect=function(){var newCursor=editor.renderer.pixelToScreenCoordinates(mouseX,mouseY);var cursor=session.screenToDocumentPosition(newCursor.row,newCursor.column,newCursor.offsetX);if(isSamePoint(screenCursor,newCursor)&&isSamePoint(cursor,selection.lead))return;screenCursor=newCursor;editor.$blockScrolling++;editor.selection.moveToPosition(cursor);editor.renderer.scrollCursorIntoView();editor.removeSelectionMarkers(rectSel);rectSel=selection.rectangularRangeBlock(screenCursor,screenAnchor);if(editor.$mouseHandler.$clickSelection&&rectSel.length==1&&rectSel[0].isEmpty())rectSel[0]=editor.$mouseHandler.$clickSelection.clone();rectSel.forEach(editor.addSelectionMarker,editor);editor.updateSelectionMarkers();editor.$blockScrolling--};editor.$blockScrolling++;if(isMultiSelect&&!accel)selection.toSingleRange();else if(!isMultiSelect&&accel){initialRange=selection.toOrientedRange();editor.addSelectionMarker(initialRange)}if(shift)screenAnchor=session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);editor.$blockScrolling--;screenCursor={row:-1,column:-1};var onMouseSelectionEnd=function(e){clearInterval(timerId);editor.removeSelectionMarkers(rectSel);if(!rectSel.length)rectSel=[selection.toOrientedRange()];editor.$blockScrolling++;if(initialRange){editor.removeSelectionMarker(initialRange);selection.toSingleRange(initialRange)}for(var i=0;i<rectSel.length;i++)selection.addRange(rectSel[i]);editor.inVirtualSelectionMode=false;editor.$mouseHandler.$clickSelection=null;editor.$blockScrolling--};var onSelectionInterval=blockSelect;event.capture(editor.container,onMouseSelection,onMouseSelectionEnd);var timerId=setInterval(function(){onSelectionInterval()},20);return e.preventDefault()}}exports.onMouseDown=onMouseDown});ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(acequire,exports,module){exports.defaultCommands=[{name:"addCursorAbove",exec:function(editor){editor.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorBelow",exec:function(editor){editor.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorAboveSkipCurrent",exec:function(editor){editor.selectMoreLines(-1,true)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:true},{name:"addCursorBelowSkipCurrent",exec:function(editor){editor.selectMoreLines(1,true)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:true},{name:"selectMoreBefore",exec:function(editor){editor.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:true},{name:"selectMoreAfter",exec:function(editor){editor.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:true},{name:"selectNextBefore",exec:function(editor){editor.selectMore(-1,true)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:true},{name:"selectNextAfter",exec:function(editor){editor.selectMore(1,true)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:true},{name:"splitIntoLines",exec:function(editor){editor.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:true},{name:"alignCursors",exec:function(editor){editor.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(editor){editor.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:true}];exports.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(editor){editor.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:true,isAvailable:function(editor){return editor&&editor.inMultiSelectMode}}];var HashHandler=acequire("../keyboard/hash_handler").HashHandler;exports.keyboardHandler=new HashHandler(exports.multiSelectCommands)});ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(acequire,exports,module){var RangeList=acequire("./range_list").RangeList;var Range=acequire("./range").Range;var Selection=acequire("./selection").Selection;var onMouseDown=acequire("./mouse/multi_select_handler").onMouseDown;var event=acequire("./lib/event");var lang=acequire("./lib/lang");var commands=acequire("./commands/multi_select_commands");exports.commands=commands.defaultCommands.concat(commands.multiSelectCommands);var Search=acequire("./search").Search;var search=new Search;function find(session,needle,dir){search.$options.wrap=true;search.$options.needle=needle;search.$options.backwards=dir==-1;return search.find(session)}var EditSession=acequire("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(EditSession.prototype);(function(){this.ranges=null;this.rangeList=null;this.addRange=function(range,$blockChangeEvents){if(!range)return;if(!this.inMultiSelectMode&&this.rangeCount===0){var oldRange=this.toOrientedRange();this.rangeList.add(oldRange);this.rangeList.add(range);if(this.rangeList.ranges.length!=2){this.rangeList.removeAll();return $blockChangeEvents||this.fromOrientedRange(range)}this.rangeList.removeAll();this.rangeList.add(oldRange);this.$onAddRange(oldRange)}if(!range.cursor)range.cursor=range.end;var removed=this.rangeList.add(range);this.$onAddRange(range);if(removed.length)this.$onRemoveRange(removed);if(this.rangeCount>1&&!this.inMultiSelectMode){this._signal("multiSelect");this.inMultiSelectMode=true;this.session.$undoSelect=false;this.rangeList.attach(this.session)}return $blockChangeEvents||this.fromOrientedRange(range)};this.toSingleRange=function(range){range=range||this.ranges[0];var removed=this.rangeList.removeAll();if(removed.length)this.$onRemoveRange(removed);range&&this.fromOrientedRange(range)};this.substractPoint=function(pos){var removed=this.rangeList.substractPoint(pos);if(removed){this.$onRemoveRange(removed);return removed[0]}};this.mergeOverlappingRanges=function(){var removed=this.rangeList.merge();if(removed.length)this.$onRemoveRange(removed);else if(this.ranges[0])this.fromOrientedRange(this.ranges[0])};this.$onAddRange=function(range){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(range);this._signal("addRange",{range:range})};this.$onRemoveRange=function(removed){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var lastRange=this.rangeList.ranges.pop();removed.push(lastRange);this.rangeCount=0}for(var i=removed.length;i--;){var index=this.ranges.indexOf(removed[i]);this.ranges.splice(index,1)}this._signal("removeRange",{ranges:removed});if(this.rangeCount===0&&this.inMultiSelectMode){this.inMultiSelectMode=false;this._signal("singleSelect");this.session.$undoSelect=true;this.rangeList.detach(this.session)}lastRange=lastRange||this.ranges[0];if(lastRange&&!lastRange.isEqual(this.getRange()))this.fromOrientedRange(lastRange)};this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new RangeList;this.ranges=[];this.rangeCount=0};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges;var lastRange=ranges[ranges.length-1];var range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange();this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var range=this.getRange();var isBackwards=this.isBackwards();var startRow=range.start.row;var endRow=range.end.row;if(startRow==endRow){if(isBackwards)var start=range.end,end=range.start;else var start=range.start,end=range.end;this.addRange(Range.fromPoints(end,end));this.addRange(Range.fromPoints(start,start));return}var rectSel=[];var r=this.getLineRange(startRow,true);r.start.column=range.start.column;rectSel.push(r);for(var i=startRow+1;i<endRow;i++)rectSel.push(this.getLineRange(i,true));r=this.getLineRange(endRow,true);r.end.column=range.end.column;rectSel.push(r);rectSel.forEach(this.addRange,this)}};this.toggleBlockSelection=function(){if(this.rangeCount>1){var ranges=this.rangeList.ranges;var lastRange=ranges[ranges.length-1];var range=Range.fromPoints(ranges[0].start,lastRange.end);this.toSingleRange();this.setSelectionRange(range,lastRange.cursor==lastRange.start)}else{var cursor=this.session.documentToScreenPosition(this.selectionLead);var anchor=this.session.documentToScreenPosition(this.selectionAnchor);var rectSel=this.rectangularRangeBlock(cursor,anchor);rectSel.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(screenCursor,screenAnchor,includeEmptyLines){var rectSel=[];var xBackwards=screenCursor.column<screenAnchor.column;if(xBackwards){var startColumn=screenCursor.column;var endColumn=screenAnchor.column;var startOffsetX=screenCursor.offsetX;var endOffsetX=screenAnchor.offsetX}else{var startColumn=screenAnchor.column;var endColumn=screenCursor.column;var startOffsetX=screenAnchor.offsetX;var endOffsetX=screenCursor.offsetX}var yBackwards=screenCursor.row<screenAnchor.row;if(yBackwards){var startRow=screenCursor.row;var endRow=screenAnchor.row}else{var startRow=screenAnchor.row;var endRow=screenCursor.row}if(startColumn<0)startColumn=0;if(startRow<0)startRow=0;if(startRow==endRow)includeEmptyLines=true;for(var row=startRow;row<=endRow;row++){var range=Range.fromPoints(this.session.screenToDocumentPosition(row,startColumn,startOffsetX),this.session.screenToDocumentPosition(row,endColumn,endOffsetX));if(range.isEmpty()){if(docEnd&&isSamePoint(range.end,docEnd))break;var docEnd=range.end}range.cursor=xBackwards?range.start:range.end;rectSel.push(range)}if(yBackwards)rectSel.reverse();if(!includeEmptyLines){var end=rectSel.length-1;while(rectSel[end].isEmpty()&&end>0)end--;if(end>0){var start=0;while(rectSel[start].isEmpty())start++}for(var i=end;i>=start;i--)if(rectSel[i].isEmpty())rectSel.splice(i,1)}return rectSel}}).call(Selection.prototype);var Editor=acequire("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(orientedRange){if(!orientedRange.cursor)orientedRange.cursor=orientedRange.end;var style=this.getSelectionStyle();orientedRange.marker=this.session.addMarker(orientedRange,"ace_selection",style);this.session.$selectionMarkers.push(orientedRange);this.session.selectionMarkerCount=this.session.$selectionMarkers.length;return orientedRange};this.removeSelectionMarker=function(range){if(!range.marker)return;this.session.removeMarker(range.marker);var index=this.session.$selectionMarkers.indexOf(range);if(index!=-1)this.session.$selectionMarkers.splice(index,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length};this.removeSelectionMarkers=function(ranges){var markerList=this.session.$selectionMarkers;for(var i=ranges.length;i--;){var range=ranges[i];if(!range.marker)continue;this.session.removeMarker(range.marker);var index=markerList.indexOf(range);if(index!=-1)markerList.splice(index,1)}this.session.selectionMarkerCount=markerList.length};this.$onAddRange=function(e){this.addSelectionMarker(e.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(e){if(this.inMultiSelectMode)return;this.inMultiSelectMode=true;this.setStyle("ace_multiselect");this.keyBinding.addKeyboardHandler(commands.keyboardHandler);this.commands.setDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onSingleSelect=function(e){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=false;this.unsetStyle("ace_multiselect");this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec);this.renderer.updateCursor();this.renderer.updateBackMarkers();this._emit("changeSelection")};this.$onMultiSelectExec=function(e){var command=e.command;var editor=e.editor;if(!editor.multiSelect)return;if(!command.multiSelectAction){var result=command.exec(editor,e.args||{});editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());editor.multiSelect.mergeOverlappingRanges()}else if(command.multiSelectAction=="forEach")result=editor.forEachSelection(command,e.args);else if(command.multiSelectAction=="forEachLine")result=editor.forEachSelection(command,e.args,true);else if(command.multiSelectAction=="single"){editor.exitMultiSelectMode();result=command.exec(editor,e.args||{})}else result=command.multiSelectAction(editor,e.args||{});return result};this.forEachSelection=function(cmd,args,options){if(this.inVirtualSelectionMode)return;var keepOrder=options&&options.keepOrder;var $byLines=options==true||options&&options.$byLines;var session=this.session;var selection=this.selection;var rangeList=selection.rangeList;var ranges=(keepOrder?selection:rangeList).ranges;var result;if(!ranges.length)return cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});var reg=selection._eventRegistry;selection._eventRegistry={};var tmpSel=new Selection(session);this.inVirtualSelectionMode=true;for(var i=ranges.length;i--;){if($byLines)while(i>0&&ranges[i].start.row==ranges[i-1].end.row)i--;tmpSel.fromOrientedRange(ranges[i]);tmpSel.index=i;this.selection=session.selection=tmpSel;var cmdResult=cmd.exec?cmd.exec(this,args||{}):cmd(this,args||{});if(!result&&cmdResult!==undefined)result=cmdResult;tmpSel.toOrientedRange(ranges[i])}tmpSel.detach();this.selection=session.selection=selection;this.inVirtualSelectionMode=false;selection._eventRegistry=reg;selection.mergeOverlappingRanges();var anim=this.renderer.$scrollAnimation;this.onCursorChange();this.onSelectionChange();if(anim&&anim.from==anim.to)this.renderer.animateScrolling(anim.from);return result};this.exitMultiSelectMode=function(){if(!this.inMultiSelectMode||this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()};this.getSelectedText=function(){var text="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var ranges=this.multiSelect.rangeList.ranges;var buf=[];for(var i=0;i<ranges.length;i++)buf.push(this.session.getTextRange(ranges[i]));var nl=this.session.getDocument().getNewLineCharacter();text=buf.join(nl);if(text.length==(buf.length-1)*nl.length)text=""}else if(!this.selection.isEmpty())text=this.session.getTextRange(this.getSelectionRange());return text};this.$checkMultiselectChange=function(e,anchor){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var range=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&anchor==this.multiSelect.anchor)return;var pos=anchor==this.multiSelect.anchor?range.cursor==range.start?range.end:range.start:range.cursor;if(pos.row!=anchor.row||this.session.$clipPositionToDocument(pos.row,pos.column).column!=anchor.column)this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}};this.findAll=function(needle,options,additive){options=options||{};options.needle=needle||options.needle;if(options.needle==undefined){var range=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();options.needle=this.session.getTextRange(range)}this.$search.set(options);var ranges=this.$search.findAll(this.session);if(!ranges.length)return 0;this.$blockScrolling+=1;var selection=this.multiSelect;if(!additive)selection.toSingleRange(ranges[0]);for(var i=ranges.length;i--;)selection.addRange(ranges[i],true);if(range&&selection.rangeList.rangeAtPoint(range.start))selection.addRange(range,true);this.$blockScrolling-=1;return ranges.length};this.selectMoreLines=function(dir,skip){var range=this.selection.toOrientedRange();var isBackwards=range.cursor==range.end;var screenLead=this.session.documentToScreenPosition(range.cursor);if(this.selection.$desiredColumn)screenLead.column=this.selection.$desiredColumn;var lead=this.session.screenToDocumentPosition(screenLead.row+dir,screenLead.column);if(!range.isEmpty()){var screenAnchor=this.session.documentToScreenPosition(isBackwards?range.end:range.start);var anchor=this.session.screenToDocumentPosition(screenAnchor.row+dir,screenAnchor.column)}else var anchor=lead;if(isBackwards){var newRange=Range.fromPoints(lead,anchor);newRange.cursor=newRange.start}else{var newRange=Range.fromPoints(anchor,lead);newRange.cursor=newRange.end}newRange.desiredColumn=screenLead.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(range);else if(skip)var toRemove=range.cursor;this.selection.addRange(newRange);if(toRemove)this.selection.substractPoint(toRemove)};this.transposeSelections=function(dir){var session=this.session;var sel=session.multiSelect;var all=sel.ranges;for(var i=all.length;i--;){var range=all[i];if(range.isEmpty()){var tmp=session.getWordRange(range.start.row,range.start.column);range.start.row=tmp.start.row;range.start.column=tmp.start.column;range.end.row=tmp.end.row;range.end.column=tmp.end.column}}sel.mergeOverlappingRanges();var words=[];for(var i=all.length;i--;){var range=all[i];words.unshift(session.getTextRange(range))}if(dir<0)words.unshift(words.pop());else words.push(words.shift());for(var i=all.length;i--;){var range=all[i];var tmp=range.clone();session.replace(range,words[i]);range.start.row=tmp.start.row;range.start.column=tmp.start.column}};this.selectMore=function(dir,skip,stopAtFirst){var session=this.session;var sel=session.multiSelect;var range=sel.toOrientedRange();if(range.isEmpty()){range=session.getWordRange(range.start.row,range.start.column);range.cursor=dir==-1?range.start:range.end;this.multiSelect.addRange(range);if(stopAtFirst)return}var needle=session.getTextRange(range);var newRange=find(session,needle,dir);if(newRange){newRange.cursor=dir==-1?newRange.start:newRange.end;this.$blockScrolling+=1;this.session.unfold(newRange);this.multiSelect.addRange(newRange);this.$blockScrolling-=1;this.renderer.scrollCursorIntoView(null,.5)}if(skip)this.multiSelect.substractPoint(range.cursor)};this.alignCursors=function(){var session=this.session;var sel=session.multiSelect;var ranges=sel.ranges;var row=-1;var sameRowRanges=ranges.filter(function(r){if(r.cursor.row==row)return true;row=r.cursor.row});if(!ranges.length||sameRowRanges.length==ranges.length-1){var range=this.selection.getRange();var fr=range.start.row,lr=range.end.row;var guessRange=fr==lr;if(guessRange){var max=this.session.getLength();var line;do line=this.session.getLine(lr);while(/[=:]/.test(line)&&++lr<max);do line=this.session.getLine(fr);while(/[=:]/.test(line)&&--fr>0);if(fr<0)fr=0;if(lr>=max)lr=max-1}var lines=this.session.removeFullLines(fr,lr);lines=this.$reAlignText(lines,guessRange);this.session.insert({row:fr,column:0},lines.join("\n")+"\n");if(!guessRange){range.start.column=0;range.end.column=lines[lines.length-1].length}this.selection.setRange(range)}else{sameRowRanges.forEach(function(r){sel.substractPoint(r.cursor)});var maxCol=0;var minSpace=Infinity;var spaceOffsets=ranges.map(function(r){var p=r.cursor;var line=session.getLine(p.row);var spaceOffset=line.substr(p.column).search(/\S/g);if(spaceOffset==-1)spaceOffset=0;if(p.column>maxCol)maxCol=p.column;if(spaceOffset<minSpace)minSpace=spaceOffset;return spaceOffset});ranges.forEach(function(r,i){var p=r.cursor;var l=maxCol-p.column;var d=spaceOffsets[i]-minSpace;if(l>d)session.insert(p,lang.stringRepeat(" ",l-d));else session.remove(new Range(p.row,p.column,p.row,p.column-l+d));r.start.column=r.end.column=maxCol;r.start.row=r.end.row=p.row;r.cursor=r.end});sel.fromOrientedRange(ranges[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}};this.$reAlignText=function(lines,forceLeft){var isLeftAligned=true,isRightAligned=true;var startW,textW,endW;return lines.map(function(line){var m=line.match(/(\s*)(.*?)(\s*)([=:].*)/);if(!m)return[line];if(startW==null){startW=m[1].length;textW=m[2].length;endW=m[3].length;return m}if(startW+textW+endW!=m[1].length+m[2].length+m[3].length)isRightAligned=false;if(startW!=m[1].length)isLeftAligned=false;if(startW>m[1].length)startW=m[1].length;if(textW<m[2].length)textW=m[2].length;if(endW>m[3].length)endW=m[3].length;return m}).map(forceLeft?alignLeft:isLeftAligned?isRightAligned?alignRight:alignLeft:unAlign);function spaces(n){return lang.stringRepeat(" ",n)}function alignLeft(m){return!m[2]?m[0]:spaces(startW)+m[2]+spaces(textW-m[2].length+endW)+m[4].replace(/^([=:])\s+/,"$1 ")}function alignRight(m){return!m[2]?m[0]:spaces(startW+textW-m[2].length)+m[2]+spaces(endW," ")+m[4].replace(/^([=:])\s+/,"$1 ")}function unAlign(m){return!m[2]?m[0]:spaces(startW)+m[2]+spaces(endW)+m[4].replace(/^([=:])\s+/,"$1 ")}}}).call(Editor.prototype);function isSamePoint(p1,p2){return p1.row==p2.row&&p1.column==p2.column}exports.onSessionChange=function(e){var session=e.session;if(session&&!session.multiSelect){session.$selectionMarkers=[];session.selection.$initRangeList();session.multiSelect=session.selection}this.multiSelect=session&&session.multiSelect;var oldSession=e.oldSession;if(oldSession){oldSession.multiSelect.off("addRange",this.$onAddRange);oldSession.multiSelect.off("removeRange",this.$onRemoveRange);oldSession.multiSelect.off("multiSelect",this.$onMultiSelect);oldSession.multiSelect.off("singleSelect",this.$onSingleSelect);oldSession.multiSelect.lead.off("change",this.$checkMultiselectChange);oldSession.multiSelect.anchor.off("change",this.$checkMultiselectChange)}if(session){session.multiSelect.on("addRange",this.$onAddRange);session.multiSelect.on("removeRange",this.$onRemoveRange);session.multiSelect.on("multiSelect",this.$onMultiSelect);session.multiSelect.on("singleSelect",this.$onSingleSelect);session.multiSelect.lead.on("change",this.$checkMultiselectChange);session.multiSelect.anchor.on("change",this.$checkMultiselectChange)}if(session&&this.inMultiSelectMode!=session.selection.inMultiSelectMode)if(session.selection.inMultiSelectMode)this.$onMultiSelect();else this.$onSingleSelect()};function MultiSelect(editor){if(editor.$multiselectOnSessionChange)return;editor.$onAddRange=editor.$onAddRange.bind(editor);editor.$onRemoveRange=editor.$onRemoveRange.bind(editor);editor.$onMultiSelect=editor.$onMultiSelect.bind(editor);editor.$onSingleSelect=editor.$onSingleSelect.bind(editor);editor.$multiselectOnSessionChange=exports.onSessionChange.bind(editor);editor.$checkMultiselectChange=editor.$checkMultiselectChange.bind(editor);editor.$multiselectOnSessionChange(editor);editor.on("changeSession",editor.$multiselectOnSessionChange);editor.on("mousedown",onMouseDown);editor.commands.addCommands(commands.defaultCommands);addAltCursorListeners(editor)}function addAltCursorListeners(editor){var el=editor.textInput.getElement();var altCursor=false;event.addListener(el,"keydown",function(e){var altDown=e.keyCode==18&&!(e.ctrlKey||e.shiftKey||e.metaKey);if(editor.$blockSelectEnabled&&altDown){if(!altCursor){editor.renderer.setMouseCursor("crosshair");altCursor=true}}else if(altCursor)reset()});event.addListener(el,"keyup",reset);event.addListener(el,"blur",reset);function reset(e){if(altCursor){editor.renderer.setMouseCursor("");altCursor=false}}}exports.MultiSelect=MultiSelect;acequire("./config").defineOptions(Editor.prototype,"editor",{enableMultiselect:{set:function(val){MultiSelect(this);if(val){this.on("changeSession",this.$multiselectOnSessionChange);this.on("mousedown",onMouseDown)}else{this.off("changeSession",this.$multiselectOnSessionChange);this.off("mousedown",onMouseDown)}},value:true},enableBlockSelect:{set:function(val){this.$blockSelectEnabled=val},value:true}})});ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("../../range").Range;var FoldMode=exports.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.foldingStartMarker.test(line))return"start";if(foldStyle=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(line))return"end";return""};this.getFoldWidgetRange=function(session,foldStyle,row){return null};this.indentationBlock=function(session,row,column){var re=/\S/;var line=session.getLine(row);var startLevel=line.search(re);if(startLevel==-1)return;var startColumn=column||line.length;var maxRow=session.getLength();var startRow=row;var endRow=row;while(++row<maxRow){var level=session.getLine(row).search(re);if(level==-1)continue;if(level<=startLevel)break;endRow=row}if(endRow>startRow){var endColumn=session.getLine(endRow).length;return new Range(startRow,startColumn,endRow,endColumn)}};this.openingBracketBlock=function(session,bracket,row,column,typeRe){var start={row:row,column:column+1};var end=session.$findClosingBracket(bracket,start,typeRe);if(!end)return;var fw=session.foldWidgets[end.row];if(fw==null)fw=session.getFoldWidget(end.row);if(fw=="start"&&end.row>start.row){end.row--;end.column=session.getLine(end.row).length}return Range.fromPoints(start,end)};this.closingBracketBlock=function(session,bracket,row,column,typeRe){var end={row:row,column:column};var start=session.$findOpeningBracket(bracket,end);if(!start)return;start.column++;end.column--;return Range.fromPoints(start,end)}}).call(FoldMode.prototype)});ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(acequire,exports,module){exports.isDark=false;exports.cssClass="ace-tm";exports.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg\x3d\x3d") right repeat-y;\t}\t';var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)});ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(acequire,exports,module){var oop=acequire("./lib/oop");var dom=acequire("./lib/dom");var Range=acequire("./range").Range;function LineWidgets(session){this.session=session;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(row){var h;if(this.lineWidgets)h=this.lineWidgets[row]&&this.lineWidgets[row].rowCount||0;else h=0;if(!this.$useWrapMode||!this.$wrapData[row])return 1+h;else return this.$wrapData[row].length+1+h};this.$getWidgetScreenLength=function(){var screenRows=0;this.lineWidgets.forEach(function(w){if(w&&w.rowCount&&!w.hidden)screenRows+=w.rowCount});return screenRows};this.$onChangeEditor=function(e){this.attach(e.editor)};this.attach=function(editor){if(editor&&editor.widgetManager&&editor.widgetManager!=this)editor.widgetManager.detach();if(this.editor==editor)return;this.detach();this.editor=editor;if(editor){editor.widgetManager=this;editor.renderer.on("beforeRender",this.measureWidgets);editor.renderer.on("afterRender",this.renderWidgets)}};this.detach=function(e){var editor=this.editor;if(!editor)return;this.editor=null;editor.widgetManager=null;editor.renderer.off("beforeRender",this.measureWidgets);editor.renderer.off("afterRender",this.renderWidgets);var lineWidgets=this.session.lineWidgets;lineWidgets&&lineWidgets.forEach(function(w){if(w&&w.el&&w.el.parentNode){w._inDocument=false;w.el.parentNode.removeChild(w.el)}})};this.updateOnFold=function(e,session){var lineWidgets=session.lineWidgets;if(!lineWidgets||!e.action)return;var fold=e.data;var start=fold.start.row;var end=fold.end.row;var hide=e.action=="add";for(var i=start+1;i<end;i++)if(lineWidgets[i])lineWidgets[i].hidden=hide;if(lineWidgets[end])if(hide)if(!lineWidgets[start])lineWidgets[start]=lineWidgets[end];else lineWidgets[end].hidden=hide;else{if(lineWidgets[start]==lineWidgets[end])lineWidgets[start]=undefined;lineWidgets[end].hidden=hide}};this.updateOnChange=function(delta){var lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var startRow=delta.start.row;var len=delta.end.row-startRow;if(len===0);else if(delta.action=="remove"){var removed=lineWidgets.splice(startRow+1,len);removed.forEach(function(w){w&&this.removeLineWidget(w)},this);this.$updateRows()}else{var args=new Array(len);args.unshift(startRow,0);lineWidgets.splice.apply(lineWidgets,args);this.$updateRows()}};this.$updateRows=function(){var lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var noWidgets=true;lineWidgets.forEach(function(w,i){if(w){noWidgets=false;w.row=i;while(w.$oldWidget){w.$oldWidget.row=i;w=w.$oldWidget}}});if(noWidgets)this.session.lineWidgets=null};this.addLineWidget=function(w){if(!this.session.lineWidgets)this.session.lineWidgets=new Array(this.session.getLength());var old=this.session.lineWidgets[w.row];if(old){w.$oldWidget=old;if(old.el&&old.el.parentNode){old.el.parentNode.removeChild(old.el);old._inDocument=false}}this.session.lineWidgets[w.row]=w;w.session=this.session;var renderer=this.editor.renderer;if(w.html&&!w.el){w.el=dom.createElement("div");w.el.innerHTML=w.html}if(w.el){dom.addCssClass(w.el,"ace_lineWidgetContainer");w.el.style.position="absolute";w.el.style.zIndex=5;renderer.container.appendChild(w.el);w._inDocument=true}if(!w.coverGutter)w.el.style.zIndex=3;if(w.pixelHeight==null)w.pixelHeight=w.el.offsetHeight;if(w.rowCount==null)w.rowCount=w.pixelHeight/renderer.layerConfig.lineHeight;var fold=this.session.getFoldAt(w.row,0);w.$fold=fold;if(fold){var lineWidgets=this.session.lineWidgets;if(w.row==fold.end.row&&!lineWidgets[fold.start.row])lineWidgets[fold.start.row]=w;else w.hidden=true}this.session._emit("changeFold",{data:{start:{row:w.row}}});this.$updateRows();this.renderWidgets(null,renderer);this.onWidgetChanged(w);return w};this.removeLineWidget=function(w){w._inDocument=false;w.session=null;if(w.el&&w.el.parentNode)w.el.parentNode.removeChild(w.el);if(w.editor&&w.editor.destroy)try{w.editor.destroy()}catch(e){}if(this.session.lineWidgets){var w1=this.session.lineWidgets[w.row];if(w1==w){this.session.lineWidgets[w.row]=w.$oldWidget;if(w.$oldWidget)this.onWidgetChanged(w.$oldWidget)}else while(w1){if(w1.$oldWidget==w){w1.$oldWidget=w.$oldWidget;break}w1=w1.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:w.row}}});this.$updateRows()};this.getWidgetsAtRow=function(row){var lineWidgets=this.session.lineWidgets;var w=lineWidgets&&lineWidgets[row];var list=[];while(w){list.push(w);w=w.$oldWidget}return list};this.onWidgetChanged=function(w){this.session._changedWidgets.push(w);this.editor&&this.editor.renderer.updateFull()};this.measureWidgets=function(e,renderer){var changedWidgets=this.session._changedWidgets;var config=renderer.layerConfig;if(!changedWidgets||!changedWidgets.length)return;var min=Infinity;for(var i=0;i<changedWidgets.length;i++){var w=changedWidgets[i];if(!w||!w.el)continue;if(w.session!=this.session)continue;if(!w._inDocument){if(this.session.lineWidgets[w.row]!=w)continue;w._inDocument=true;renderer.container.appendChild(w.el)}w.h=w.el.offsetHeight;if(!w.fixedWidth){w.w=w.el.offsetWidth;w.screenWidth=Math.ceil(w.w/config.characterWidth)}var rowCount=w.h/config.lineHeight;if(w.coverLine){rowCount-=this.session.getRowLineCount(w.row);if(rowCount<0)rowCount=0}if(w.rowCount!=rowCount){w.rowCount=rowCount;if(w.row<min)min=w.row}}if(min!=Infinity){this.session._emit("changeFold",{data:{start:{row:min}}});this.session.lineWidgetWidth=null}this.session._changedWidgets=[]};this.renderWidgets=function(e,renderer){var config=renderer.layerConfig;var lineWidgets=this.session.lineWidgets;if(!lineWidgets)return;var first=Math.min(this.firstRow,config.firstRow);var last=Math.max(this.lastRow,config.lastRow,lineWidgets.length);while(first>0&&!lineWidgets[first])first--;this.firstRow=config.firstRow;this.lastRow=config.lastRow;renderer.$cursorLayer.config=config;for(var i=first;i<=last;i++){var w=lineWidgets[i];if(!w||!w.el)continue;if(w.hidden){w.el.style.top=-100-(w.pixelHeight||0)+"px";continue}if(!w._inDocument){w._inDocument=true;renderer.container.appendChild(w.el)}var top=renderer.$cursorLayer.getPixelPosition({row:i,column:0},true).top;if(!w.coverLine)top+=config.lineHeight*this.session.getRowLineCount(w.row);w.el.style.top=top-config.offset+"px";var left=w.coverGutter?0:renderer.gutterWidth;if(!w.fixedWidth)left-=renderer.scrollLeft;w.el.style.left=left+"px";if(w.fullWidth&&w.screenWidth)w.el.style.minWidth=config.width+2*config.padding+"px";if(w.fixedWidth)w.el.style.right=renderer.scrollBar.getWidth()+"px";else w.el.style.right=""}}}).call(LineWidgets.prototype);exports.LineWidgets=LineWidgets});ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(acequire,exports,module){var LineWidgets=acequire("../line_widgets").LineWidgets;var dom=acequire("../lib/dom");var Range=acequire("../range").Range;function binarySearch(array,needle,comparator){var first=0;var last=array.length-1;while(first<=last){var mid=first+last>>1;var c=comparator(needle,array[mid]);if(c>0)first=mid+1;else if(c<0)last=mid-1;else return mid}return-(first+1)}function findAnnotations(session,row,dir){var annotations=session.getAnnotations().sort(Range.comparePoints);if(!annotations.length)return;var i=binarySearch(annotations,{row:row,column:-1},Range.comparePoints);if(i<0)i=-i-1;if(i>=annotations.length)i=dir>0?0:annotations.length-1;else if(i===0&&dir<0)i=annotations.length-1;var annotation=annotations[i];if(!annotation||!dir)return;if(annotation.row===row){do annotation=annotations[i+=dir];while(annotation&&annotation.row===row);if(!annotation)return annotations.slice()}var matched=[];row=annotation.row;do{matched[dir<0?"unshift":"push"](annotation);annotation=annotations[i+=dir]}while(annotation&&annotation.row==row);return matched.length&&matched}exports.showErrorMarker=function(editor,dir){var session=editor.session;if(!session.widgetManager){session.widgetManager=new LineWidgets(session);session.widgetManager.attach(editor)}var pos=editor.getCursorPosition();var row=pos.row;var oldWidget=session.widgetManager.getWidgetsAtRow(row).filter(function(w){return w.type=="errorMarker"})[0];if(oldWidget)oldWidget.destroy();else row-=dir;var annotations=findAnnotations(session,row,dir);var gutterAnno;if(annotations){var annotation=annotations[0];pos.column=(annotation.pos&&typeof annotation.column!="number"?annotation.pos.sc:annotation.column)||0;pos.row=annotation.row;gutterAnno=editor.renderer.$gutterLayer.$annotations[pos.row]}else if(oldWidget)return;else gutterAnno={text:["Looks good!"],className:"ace_ok"};editor.session.unfold(pos.row);editor.selection.moveToPosition(pos);var w={row:pos.row,fixedWidth:true,coverGutter:true,el:dom.createElement("div"),type:"errorMarker"};var el=w.el.appendChild(dom.createElement("div"));var arrow=w.el.appendChild(dom.createElement("div"));arrow.className="error_widget_arrow "+gutterAnno.className;var left=editor.renderer.$cursorLayer.getPixelPosition(pos).left;arrow.style.left=left+editor.renderer.gutterWidth-5+"px";w.el.className="error_widget_wrapper";el.className="error_widget "+gutterAnno.className;el.innerHTML=gutterAnno.text.join("\x3cbr\x3e");el.appendChild(dom.createElement("div"));var kb=function(_,hashId,keyString){if(hashId===0&&(keyString==="esc"||keyString==="return")){w.destroy();return{command:"null"}}};w.destroy=function(){if(editor.$mouseHandler.isMousePressed)return;editor.keyBinding.removeKeyboardHandler(kb);session.widgetManager.removeLineWidget(w);editor.off("changeSelection",w.destroy);editor.off("changeSession",w.destroy);editor.off("mouseup",w.destroy);editor.off("change",w.destroy)};editor.keyBinding.addKeyboardHandler(kb);editor.on("changeSelection",w.destroy);editor.on("changeSession",w.destroy);editor.on("mouseup",w.destroy);editor.on("change",w.destroy);editor.session.widgetManager.addLineWidget(w);w.el.onmousedown=editor.focus.bind(editor);editor.renderer.scrollCursorIntoView(null,.5,{bottom:w.el.offsetHeight})};dom.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")});ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(acequire,exports,module){acequire("./lib/fixoldbrowsers");var dom=acequire("./lib/dom");var event=acequire("./lib/event");var Editor=acequire("./editor").Editor;var EditSession=acequire("./edit_session").EditSession;var UndoManager=acequire("./undomanager").UndoManager;var Renderer=acequire("./virtual_renderer").VirtualRenderer;acequire("./worker/worker_client");acequire("./keyboard/hash_handler");acequire("./placeholder");acequire("./multi_select");acequire("./mode/folding/fold_mode");acequire("./theme/textmate");acequire("./ext/error_marker");exports.config=acequire("./config");exports.acequire=acequire;if(true)exports.define=__webpack_require__(53);exports.edit=function(el){if(typeof el=="string"){var _id=el;el=document.getElementById(_id);if(!el)throw new Error("ace.edit can't find div #"+_id);}if(el&&el.env&&el.env.editor instanceof Editor)return el.env.editor;var value="";if(el&&/input|textarea/i.test(el.tagName)){var oldNode=el;value=oldNode.value;el=dom.createElement("pre");oldNode.parentNode.replaceChild(el,oldNode)}else if(el){value=dom.getInnerText(el);el.innerHTML=""}var doc=exports.createEditSession(value);var editor=new Editor(new Renderer(el));editor.setSession(doc);var env={document:doc,editor:editor,onResize:editor.resize.bind(editor,null)};if(oldNode)env.textarea=oldNode;event.addListener(window,"resize",env.onResize);editor.on("destroy",function(){event.removeListener(window,"resize",env.onResize);env.editor.container.env=null});editor.container.env=editor.env=env;return editor};exports.createEditSession=function(text,mode){var doc=new EditSession(text,mode);doc.setUndoManager(new UndoManager);return doc};exports.EditSession=EditSession;exports.UndoManager=UndoManager;exports.version="1.2.9"});(function(){ace.acequire(["ace/ace"],function(a){if(a){a.config.init(true);a.define=ace.define}if(!window.ace)window.ace=a;for(var key in a)if(a.hasOwnProperty(key))window.ace[key]=a[key]})})();module.exports=window.ace.acequire("ace/ace")},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect");}},function(module,exports,__webpack_require__){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(acequire,exports,module){var oop=acequire("../lib/oop");var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var JsonHighlightRules=function(){this.$rules={"start":[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?\x3d:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],"string":[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],"comment":[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};oop.inherits(JsonHighlightRules,TextHighlightRules);exports.JsonHighlightRules=JsonHighlightRules});ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(acequire,exports,module){var Range=acequire("../range").Range;var MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){if(!/^\s+$/.test(line))return false;return/^\s*\}/.test(input)};this.autoOutdent=function(doc,row){var line=doc.getLine(row);var match=line.match(/^(\s*\})/);if(!match)return 0;var column=match[1].length;var openBracePos=doc.findMatchingBracket({row:row,column:column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)};this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype);exports.MatchingBraceOutdent=MatchingBraceOutdent});ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(acequire,exports,module){var oop=acequire("../../lib/oop");var Range=acequire("../../range").Range;var BaseFoldMode=acequire("./fold_mode").FoldMode;var FoldMode=exports.FoldMode=function(commentRegex){if(commentRegex){this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start));this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end))}};oop.inherits(FoldMode,BaseFoldMode);(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.singleLineBlockCommentRe.test(line))if(!this.startRegionRe.test(line)&&!this.tripleStarBlockCommentRe.test(line))return"";var fw=this._getFoldWidgetBase(session,foldStyle,row);if(!fw&&this.startRegionRe.test(line))return"start";return fw};this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var line=session.getLine(row);if(this.startRegionRe.test(line))return this.getCommentRegionBlock(session,line,row);var match=line.match(this.foldingStartMarker);if(match){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);if(range&&!range.isMultiLine())if(forceMultiline)range=this.getSectionRange(session,row);else if(foldStyle!="all")range=null;return range}if(foldStyle==="markbegin")return;var match=line.match(this.foldingStopMarker);if(match){var i=match.index+match[0].length;if(match[1])return this.closingBracketBlock(session,match[1],row,i);return session.getCommentFoldRange(row,i,-1)}};this.getSectionRange=function(session,row){var line=session.getLine(row);var startIndent=line.search(/\S/);var startRow=row;var startColumn=line.length;row=row+1;var endRow=row;var maxRow=session.getLength();while(++row<maxRow){line=session.getLine(row);var indent=line.search(/\S/);if(indent===-1)continue;if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange)if(subRange.start.row<=startRow)break;else if(subRange.isMultiLine())row=subRange.end.row;else if(startIndent==indent)break;endRow=row}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)};this.getCommentRegionBlock=function(session,line,row){var startColumn=line.search(/\s*$/);var maxRow=session.getLength();var startRow=row;var re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;var depth=1;while(++row<maxRow){line=session.getLine(row);var m=re.exec(line);if(!m)continue;if(m[1])depth--;else depth++;if(!depth)break}var endRow=row;if(endRow>startRow)return new Range(startRow,startColumn,endRow,line.length)}}).call(FoldMode.prototype)});ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(acequire,exports,module){var oop=acequire("../lib/oop");var TextMode=acequire("./text").Mode;var HighlightRules=acequire("./json_highlight_rules").JsonHighlightRules;var MatchingBraceOutdent=acequire("./matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=acequire("./folding/cstyle").FoldMode;var WorkerClient=acequire("../worker/worker_client").WorkerClient;var Mode=function(){this.HighlightRules=HighlightRules;this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode);(function(){this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if(state=="start"){var match=line.match(/^.*[\{\(\[]\s*$/);if(match)indent+=tab}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace"],__webpack_require__(55),"JsonWorker");worker.attachToDocument(session.getDocument());worker.on("annotate",function(e){session.setAnnotations(e.data)});worker.on("terminate",function(){session.clearAnnotations()});return worker};this.$id="ace/mode/json"}).call(Mode.prototype);exports.Mode=Mode})},function(module,exports){module.exports.id="ace/mode/json_worker";module.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath\x3did,tail\x3d"";testPath;){var alias\x3dpaths[testPath];if("string"\x3d\x3dtypeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias\x3d\x3d\x3d!1)return"";var i\x3dtestPath.lastIndexOf("/");if(-1\x3d\x3d\x3di)break;tail\x3dtestPath.substr(i)+tail,testPath\x3dtestPath.slice(0,i)}return id}if(!(void 0!\x3d\x3dwindow.window\x26\x26window.document||window.acequire\x26\x26window.define)){window.console||(window.console\x3dfunction(){var msgs\x3dArray.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error\x3dwindow.console.warn\x3dwindow.console.log\x3dwindow.console.trace\x3dwindow.console),window.window\x3dwindow,window.ace\x3dwindow,window.onerror\x3dfunction(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule\x3dfunction(parentId,moduleName){if(-1!\x3d\x3dmoduleName.indexOf("!")){var chunks\x3dmoduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."\x3d\x3dmoduleName.charAt(0)){var base\x3dparentId.split("/").slice(0,-1).join("/");for(moduleName\x3d(base?base+"/":"")+moduleName;-1!\x3d\x3dmoduleName.indexOf(".")\x26\x26previous!\x3dmoduleName;){var previous\x3dmoduleName;moduleName\x3dmoduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire\x3dfunction acequire(parentId,id){if(id||(id\x3dparentId,parentId\x3dnull),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id\x3dwindow.normalizeModule(parentId,id);var module\x3dwindow.acequire.modules[id];if(module)return module.initialized||(module.initialized\x3d!0,module.exports\x3dmodule.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path\x3dresolveModuleId(id,window.acequire.tlns);return".js"!\x3dpath.slice(-3)\x26\x26(path+\x3d".js"),window.acequire.id\x3did,window.acequire.modules[id]\x3d{},importScripts(path),window.acequire(parentId,id)},window.acequire.modules\x3d{},window.acequire.tlns\x3d{},window.define\x3dfunction(id,deps,factory){if(2\x3d\x3darguments.length?(factory\x3ddeps,"string"!\x3dtypeof id\x26\x26(deps\x3did,id\x3dwindow.acequire.id)):1\x3d\x3darguments.length\x26\x26(factory\x3did,deps\x3d[],id\x3dwindow.acequire.id),"function"!\x3dtypeof factory)return window.acequire.modules[id]\x3d{exports:factory,initialized:!0},void 0;deps.length||(deps\x3d["require","exports","module"]);var req\x3dfunction(childId){return window.acequire(id,childId)};window.acequire.modules[id]\x3d{exports:{},factory:function(){var module\x3dthis,returnExports\x3dfactory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports\x26\x26(module.exports\x3dreturnExports),module}}},window.define.amd\x3d{},acequire.tlns\x3d{},window.initBaseUrls\x3dfunction(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]\x3dtopLevelNamespaces[i]},window.initSender\x3dfunction(){var EventEmitter\x3dwindow.acequire("ace/lib/event_emitter").EventEmitter,oop\x3dwindow.acequire("ace/lib/oop"),Sender\x3dfunction(){};return function(){oop.implement(this,EventEmitter),this.callback\x3dfunction(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit\x3dfunction(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main\x3dwindow.main\x3dnull,sender\x3dwindow.sender\x3dnull;window.onmessage\x3dfunction(e){var msg\x3de.data;if(msg.event\x26\x26sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender\x3dwindow.sender\x3dwindow.initSender();var clazz\x3dacequire(msg.module)[msg.classname];main\x3dwindow.main\x3dnew clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits\x3dfunction(ctor,superCtor){ctor.super_\x3dsuperCtor,ctor.prototype\x3dObject.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin\x3dfunction(obj,mixin){for(var key in mixin)obj[key]\x3dmixin[key];return obj},exports.implement\x3dfunction(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints\x3dfunction(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range\x3dfunction(startRow,startColumn,endRow,endColumn){this.start\x3d{row:startRow,column:startColumn},this.end\x3d{row:endRow,column:endColumn}};(function(){this.isEqual\x3dfunction(range){return this.start.row\x3d\x3d\x3drange.start.row\x26\x26this.end.row\x3d\x3d\x3drange.end.row\x26\x26this.start.column\x3d\x3d\x3drange.start.column\x26\x26this.end.column\x3d\x3d\x3drange.end.column},this.toString\x3dfunction(){return"Range: ["+this.start.row+"/"+this.start.column+"] -\x3e ["+this.end.row+"/"+this.end.column+"]"},this.contains\x3dfunction(row,column){return 0\x3d\x3dthis.compare(row,column)},this.compareRange\x3dfunction(range){var cmp,end\x3drange.end,start\x3drange.start;return cmp\x3dthis.compare(end.row,end.column),1\x3d\x3dcmp?(cmp\x3dthis.compare(start.row,start.column),1\x3d\x3dcmp?2:0\x3d\x3dcmp?1:0):-1\x3d\x3dcmp?-2:(cmp\x3dthis.compare(start.row,start.column),-1\x3d\x3dcmp?-1:1\x3d\x3dcmp?42:0)},this.comparePoint\x3dfunction(p){return this.compare(p.row,p.column)},this.containsRange\x3dfunction(range){return 0\x3d\x3dthis.comparePoint(range.start)\x26\x260\x3d\x3dthis.comparePoint(range.end)},this.intersects\x3dfunction(range){var cmp\x3dthis.compareRange(range);return-1\x3d\x3dcmp||0\x3d\x3dcmp||1\x3d\x3dcmp},this.isEnd\x3dfunction(row,column){return this.end.row\x3d\x3drow\x26\x26this.end.column\x3d\x3dcolumn},this.isStart\x3dfunction(row,column){return this.start.row\x3d\x3drow\x26\x26this.start.column\x3d\x3dcolumn},this.setStart\x3dfunction(row,column){"object"\x3d\x3dtypeof row?(this.start.column\x3drow.column,this.start.row\x3drow.row):(this.start.row\x3drow,this.start.column\x3dcolumn)},this.setEnd\x3dfunction(row,column){"object"\x3d\x3dtypeof row?(this.end.column\x3drow.column,this.end.row\x3drow.row):(this.end.row\x3drow,this.end.column\x3dcolumn)},this.inside\x3dfunction(row,column){return 0\x3d\x3dthis.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart\x3dfunction(row,column){return 0\x3d\x3dthis.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd\x3dfunction(row,column){return 0\x3d\x3dthis.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare\x3dfunction(row,column){return this.isMultiLine()||row!\x3d\x3dthis.start.row?this.start.row\x3erow?-1:row\x3ethis.end.row?1:this.start.row\x3d\x3d\x3drow?column\x3e\x3dthis.start.column?0:-1:this.end.row\x3d\x3d\x3drow?this.end.column\x3e\x3dcolumn?0:1:0:this.start.column\x3ecolumn?-1:column\x3ethis.end.column?1:0},this.compareStart\x3dfunction(row,column){return this.start.row\x3d\x3drow\x26\x26this.start.column\x3d\x3dcolumn?-1:this.compare(row,column)},this.compareEnd\x3dfunction(row,column){return this.end.row\x3d\x3drow\x26\x26this.end.column\x3d\x3dcolumn?1:this.compare(row,column)},this.compareInside\x3dfunction(row,column){return this.end.row\x3d\x3drow\x26\x26this.end.column\x3d\x3dcolumn?1:this.start.row\x3d\x3drow\x26\x26this.start.column\x3d\x3dcolumn?-1:this.compare(row,column)},this.clipRows\x3dfunction(firstRow,lastRow){if(this.end.row\x3elastRow)var end\x3d{row:lastRow+1,column:0};else if(firstRow\x3ethis.end.row)var end\x3d{row:firstRow,column:0};if(this.start.row\x3elastRow)var start\x3d{row:lastRow+1,column:0};else if(firstRow\x3ethis.start.row)var start\x3d{row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend\x3dfunction(row,column){var cmp\x3dthis.compare(row,column);if(0\x3d\x3dcmp)return this;if(-1\x3d\x3dcmp)var start\x3d{row:row,column:column};else var end\x3d{row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty\x3dfunction(){return this.start.row\x3d\x3d\x3dthis.end.row\x26\x26this.start.column\x3d\x3d\x3dthis.end.column},this.isMultiLine\x3dfunction(){return this.start.row!\x3d\x3dthis.end.row},this.clone\x3dfunction(){return Range.fromPoints(this.start,this.end)},this.collapseRows\x3dfunction(){return 0\x3d\x3dthis.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange\x3dfunction(session){var screenPosStart\x3dsession.documentToScreenPosition(this.start),screenPosEnd\x3dsession.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy\x3dfunction(row,column){this.start.row+\x3drow,this.start.column+\x3dcolumn,this.end.row+\x3drow,this.end.column+\x3dcolumn}}).call(Range.prototype),Range.fromPoints\x3dfunction(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints\x3dcomparePoints,Range.comparePoints\x3dfunction(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range\x3dRange}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta\x3dfunction(docLines,delta){var row\x3ddelta.start.row,startColumn\x3ddelta.start.column,line\x3ddocLines[row]||"";switch(delta.action){case"insert":var lines\x3ddelta.lines;if(1\x3d\x3d\x3dlines.length)docLines[row]\x3dline.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args\x3d[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]\x3dline.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+\x3dline.substring(startColumn)}break;case"remove":var endColumn\x3ddelta.end.column,endRow\x3ddelta.end.row;row\x3d\x3d\x3dendRow?docLines[row]\x3dline.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter\x3d{},stopPropagation\x3dfunction(){this.propagationStopped\x3d!0},preventDefault\x3dfunction(){this.defaultPrevented\x3d!0};EventEmitter._emit\x3dEventEmitter._dispatchEvent\x3dfunction(eventName,e){this._eventRegistry||(this._eventRegistry\x3d{}),this._defaultHandlers||(this._defaultHandlers\x3d{});var listeners\x3dthis._eventRegistry[eventName]||[],defaultHandler\x3dthis._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"\x3d\x3dtypeof e\x26\x26e||(e\x3d{}),e.type||(e.type\x3deventName),e.stopPropagation||(e.stopPropagation\x3dstopPropagation),e.preventDefault||(e.preventDefault\x3dpreventDefault),listeners\x3dlisteners.slice();for(var i\x3d0;listeners.length\x3ei\x26\x26(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler\x26\x26!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal\x3dfunction(eventName,e){var listeners\x3d(this._eventRegistry||{})[eventName];if(listeners){listeners\x3dlisteners.slice();for(var i\x3d0;listeners.length\x3ei;i++)listeners[i](e,this)}},EventEmitter.once\x3dfunction(eventName,callback){var _self\x3dthis;callback\x26\x26this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler\x3dfunction(eventName,callback){var handlers\x3dthis._defaultHandlers;if(handlers||(handlers\x3dthis._defaultHandlers\x3d{_disabled_:{}}),handlers[eventName]){var old\x3dhandlers[eventName],disabled\x3dhandlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]\x3ddisabled\x3d[]),disabled.push(old);var i\x3ddisabled.indexOf(callback);-1!\x3di\x26\x26disabled.splice(i,1)}handlers[eventName]\x3dcallback},EventEmitter.removeDefaultHandler\x3dfunction(eventName,callback){var handlers\x3dthis._defaultHandlers;if(handlers){var disabled\x3dhandlers._disabled_[eventName];if(handlers[eventName]\x3d\x3dcallback)handlers[eventName],disabled\x26\x26this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i\x3ddisabled.indexOf(callback);-1!\x3di\x26\x26disabled.splice(i,1)}}},EventEmitter.on\x3dEventEmitter.addEventListener\x3dfunction(eventName,callback,capturing){this._eventRegistry\x3dthis._eventRegistry||{};var listeners\x3dthis._eventRegistry[eventName];return listeners||(listeners\x3dthis._eventRegistry[eventName]\x3d[]),-1\x3d\x3dlisteners.indexOf(callback)\x26\x26listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off\x3dEventEmitter.removeListener\x3dEventEmitter.removeEventListener\x3dfunction(eventName,callback){this._eventRegistry\x3dthis._eventRegistry||{};var listeners\x3dthis._eventRegistry[eventName];if(listeners){var index\x3dlisteners.indexOf(callback);-1!\x3d\x3dindex\x26\x26listeners.splice(index,1)}},EventEmitter.removeAllListeners\x3dfunction(eventName){this._eventRegistry\x26\x26(this._eventRegistry[eventName]\x3d[])},exports.EventEmitter\x3dEventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop\x3dacequire("./lib/oop"),EventEmitter\x3dacequire("./lib/event_emitter").EventEmitter,Anchor\x3dexports.Anchor\x3dfunction(doc,row,column){this.$onChange\x3dthis.onChange.bind(this),this.attach(doc),column\x3d\x3d\x3dvoid 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter\x3dequalPointsInOrder?point1.column\x3c\x3dpoint2.column:point1.column\x3cpoint2.column;return point1.row\x3cpoint2.row||point1.row\x3d\x3dpoint2.row\x26\x26bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert\x3d"insert"\x3d\x3ddelta.action,deltaRowShift\x3d(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift\x3d(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart\x3ddelta.start,deltaEnd\x3ddeltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row\x3d\x3ddeltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition\x3dfunction(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument\x3dfunction(){return this.document},this.$insertRight\x3d!1,this.onChange\x3dfunction(delta){if(!(delta.start.row\x3d\x3ddelta.end.row\x26\x26delta.start.row!\x3dthis.row||delta.start.row\x3ethis.row)){var point\x3d$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition\x3dfunction(row,column,noClip){var pos;if(pos\x3dnoClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!\x3dpos.row||this.column!\x3dpos.column){var old\x3d{row:this.row,column:this.column};this.row\x3dpos.row,this.column\x3dpos.column,this._signal("change",{old:old,value:pos})}},this.detach\x3dfunction(){this.document.removeEventListener("change",this.$onChange)},this.attach\x3dfunction(doc){this.document\x3ddoc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument\x3dfunction(row,column){var pos\x3d{};return row\x3e\x3dthis.document.getLength()?(pos.row\x3dMath.max(0,this.document.getLength()-1),pos.column\x3dthis.document.getLine(pos.row).length):0\x3erow?(pos.row\x3d0,pos.column\x3d0):(pos.row\x3drow,pos.column\x3dMath.min(this.document.getLine(pos.row).length,Math.max(0,column))),0\x3ecolumn\x26\x26(pos.column\x3d0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop\x3dacequire("./lib/oop"),applyDelta\x3dacequire("./apply_delta").applyDelta,EventEmitter\x3dacequire("./lib/event_emitter").EventEmitter,Range\x3dacequire("./range").Range,Anchor\x3dacequire("./anchor").Anchor,Document\x3dfunction(textOrLines){this.$lines\x3d[""],0\x3d\x3d\x3dtextOrLines.length?this.$lines\x3d[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue\x3dfunction(text){var len\x3dthis.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue\x3dfunction(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor\x3dfunction(row,column){return new Anchor(this,row,column)},this.$split\x3d0\x3d\x3d\x3d"aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine\x3dfunction(text){var match\x3dtext.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine\x3dmatch?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter\x3dfunction(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine\x3d"",this.$newLineMode\x3d"auto",this.setNewLineMode\x3dfunction(newLineMode){this.$newLineMode!\x3d\x3dnewLineMode\x26\x26(this.$newLineMode\x3dnewLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode\x3dfunction(){return this.$newLineMode},this.isNewLine\x3dfunction(text){return"\\r\\n"\x3d\x3dtext||"\\r"\x3d\x3dtext||"\\n"\x3d\x3dtext},this.getLine\x3dfunction(row){return this.$lines[row]||""},this.getLines\x3dfunction(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines\x3dfunction(){return this.getLines(0,this.getLength())},this.getLength\x3dfunction(){return this.$lines.length},this.getTextRange\x3dfunction(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange\x3dfunction(range){var lines;if(range.start.row\x3d\x3d\x3drange.end.row)lines\x3d[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines\x3dthis.getLines(range.start.row,range.end.row),lines[0]\x3d(lines[0]||"").substring(range.start.column);var l\x3dlines.length-1;range.end.row-range.start.row\x3d\x3dl\x26\x26(lines[l]\x3dlines[l].substring(0,range.end.column))}return lines},this.insertLines\x3dfunction(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines\x3dfunction(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine\x3dfunction(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert\x3dfunction(position,text){return 1\x3e\x3dthis.getLength()\x26\x26this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine\x3dfunction(position,text){var start\x3dthis.clippedPos(position.row,position.column),end\x3dthis.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos\x3dfunction(row,column){var length\x3dthis.getLength();void 0\x3d\x3d\x3drow?row\x3dlength:0\x3erow?row\x3d0:row\x3e\x3dlength\x26\x26(row\x3dlength-1,column\x3dvoid 0);var line\x3dthis.getLine(row);return void 0\x3d\x3dcolumn\x26\x26(column\x3dline.length),column\x3dMath.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos\x3dfunction(pos){return{row:pos.row,column:pos.column}},this.pos\x3dfunction(row,column){return{row:row,column:column}},this.$clipPosition\x3dfunction(position){var length\x3dthis.getLength();return position.row\x3e\x3dlength?(position.row\x3dMath.max(0,length-1),position.column\x3dthis.getLine(length-1).length):(position.row\x3dMath.max(0,position.row),position.column\x3dMath.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines\x3dfunction(row,lines){row\x3dMath.min(Math.max(row,0),this.getLength());var column\x3d0;this.getLength()\x3erow?(lines\x3dlines.concat([""]),column\x3d0):(lines\x3d[""].concat(lines),row--,column\x3dthis.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines\x3dfunction(position,lines){var start\x3dthis.clippedPos(position.row,position.column),end\x3d{row:start.row+lines.length-1,column:(1\x3d\x3dlines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove\x3dfunction(range){var start\x3dthis.clippedPos(range.start.row,range.start.column),end\x3dthis.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine\x3dfunction(row,startColumn,endColumn){var start\x3dthis.clippedPos(row,startColumn),end\x3dthis.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines\x3dfunction(firstRow,lastRow){firstRow\x3dMath.min(Math.max(0,firstRow),this.getLength()-1),lastRow\x3dMath.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine\x3dlastRow\x3d\x3dthis.getLength()-1\x26\x26firstRow\x3e0,deleteLastNewLine\x3dthis.getLength()-1\x3elastRow,startRow\x3ddeleteFirstNewLine?firstRow-1:firstRow,startCol\x3ddeleteFirstNewLine?this.getLine(startRow).length:0,endRow\x3ddeleteLastNewLine?lastRow+1:lastRow,endCol\x3ddeleteLastNewLine?0:this.getLine(endRow).length,range\x3dnew Range(startRow,startCol,endRow,endCol),deletedLines\x3dthis.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine\x3dfunction(row){this.getLength()-1\x3erow\x26\x26row\x3e\x3d0\x26\x26this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace\x3dfunction(range,text){if(range instanceof Range||(range\x3dRange.fromPoints(range.start,range.end)),0\x3d\x3d\x3dtext.length\x26\x26range.isEmpty())return range.start;if(text\x3d\x3dthis.getTextRange(range))return range.end;this.remove(range);var end;return end\x3dtext?this.insert(range.start,text):range.start},this.applyDeltas\x3dfunction(deltas){for(var i\x3d0;deltas.length\x3ei;i++)this.applyDelta(deltas[i])},this.revertDeltas\x3dfunction(deltas){for(var i\x3ddeltas.length-1;i\x3e\x3d0;i--)this.revertDelta(deltas[i])},this.applyDelta\x3dfunction(delta,doNotValidate){var isInsert\x3d"insert"\x3d\x3ddelta.action;(isInsert?1\x3e\x3ddelta.lines.length\x26\x26!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert\x26\x26delta.lines.length\x3e2e4\x26\x26this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta\x3dfunction(delta,MAX){for(var lines\x3ddelta.lines,l\x3dlines.length,row\x3ddelta.start.row,column\x3ddelta.start.column,from\x3d0,to\x3d0;;){from\x3dto,to+\x3dMAX-1;var chunk\x3dlines.slice(from,to);if(to\x3el){delta.lines\x3dchunk,delta.start.row\x3drow+from,delta.start.column\x3dcolumn;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column\x3d0),action:delta.action,lines:chunk},!0)}},this.revertDelta\x3dfunction(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"\x3d\x3ddelta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition\x3dfunction(index,startRow){for(var lines\x3dthis.$lines||this.getAllLines(),newlineLength\x3dthis.getNewLineCharacter().length,i\x3dstartRow||0,l\x3dlines.length;l\x3ei;i++)if(index-\x3dlines[i].length+newlineLength,0\x3eindex)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex\x3dfunction(pos,startRow){for(var lines\x3dthis.$lines||this.getAllLines(),newlineLength\x3dthis.getNewLineCharacter().length,index\x3d0,row\x3dMath.min(pos.row,lines.length),i\x3dstartRow||0;row\x3ei;++i)index+\x3dlines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document\x3dDocument}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last\x3dfunction(a){return a[a.length-1]},exports.stringReverse\x3dfunction(string){return string.split("").reverse().join("")},exports.stringRepeat\x3dfunction(string,count){for(var result\x3d"";count\x3e0;)1\x26count\x26\x26(result+\x3dstring),(count\x3e\x3e\x3d1)\x26\x26(string+\x3dstring);return result};var trimBeginRegexp\x3d/^\\s\\s*/,trimEndRegexp\x3d/\\s\\s*$/;exports.stringTrimLeft\x3dfunction(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight\x3dfunction(string){return string.replace(trimEndRegexp,"")},exports.copyObject\x3dfunction(obj){var copy\x3d{};for(var key in obj)copy[key]\x3dobj[key];return copy},exports.copyArray\x3dfunction(array){for(var copy\x3d[],i\x3d0,l\x3darray.length;l\x3ei;i++)copy[i]\x3darray[i]\x26\x26"object"\x3d\x3dtypeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy\x3dfunction deepCopy(obj){if("object"!\x3dtypeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy\x3d[];for(var key\x3d0;obj.length\x3ekey;key++)copy[key]\x3ddeepCopy(obj[key]);return copy}if("[object Object]"!\x3d\x3dObject.prototype.toString.call(obj))return obj;copy\x3d{};for(var key in obj)copy[key]\x3ddeepCopy(obj[key]);return copy},exports.arrayToMap\x3dfunction(arr){for(var map\x3d{},i\x3d0;arr.length\x3ei;i++)map[arr[i]]\x3d1;return map},exports.createMap\x3dfunction(props){var map\x3dObject.create(null);for(var i in props)map[i]\x3dprops[i];return map},exports.arrayRemove\x3dfunction(array,value){for(var i\x3d0;array.length\x3e\x3di;i++)value\x3d\x3d\x3darray[i]\x26\x26array.splice(i,1)},exports.escapeRegExp\x3dfunction(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML\x3dfunction(str){return str.replace(/\x26/g,"\x26#38;").replace(/"/g,"\x26#34;").replace(/\'/g,"\x26#39;").replace(/\x3c/g,"\x26#60;")},exports.getMatchOffsets\x3dfunction(string,regExp){var matches\x3d[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall\x3dfunction(fcn){var timer\x3dnull,callback\x3dfunction(){timer\x3dnull,fcn()},deferred\x3dfunction(timeout){return deferred.cancel(),timer\x3dsetTimeout(callback,timeout||0),deferred};return deferred.schedule\x3ddeferred,deferred.call\x3dfunction(){return this.cancel(),fcn(),deferred},deferred.cancel\x3dfunction(){return clearTimeout(timer),timer\x3dnull,deferred},deferred.isPending\x3dfunction(){return timer},deferred},exports.delayedCall\x3dfunction(fcn,defaultTimeout){var timer\x3dnull,callback\x3dfunction(){timer\x3dnull,fcn()},_self\x3dfunction(timeout){null\x3d\x3dtimer\x26\x26(timer\x3dsetTimeout(callback,timeout||defaultTimeout))};return _self.delay\x3dfunction(timeout){timer\x26\x26clearTimeout(timer),timer\x3dsetTimeout(callback,timeout||defaultTimeout)},_self.schedule\x3d_self,_self.call\x3dfunction(){this.cancel(),fcn()},_self.cancel\x3dfunction(){timer\x26\x26clearTimeout(timer),timer\x3dnull},_self.isPending\x3dfunction(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document\x3dacequire("../document").Document,lang\x3dacequire("../lib/lang"),Mirror\x3dexports.Mirror\x3dfunction(sender){this.sender\x3dsender;var doc\x3dthis.doc\x3dnew Document(""),deferredUpdate\x3dthis.deferredUpdate\x3dlang.delayedCall(this.onUpdate.bind(this)),_self\x3dthis;sender.on("change",function(e){var data\x3de.data;if(data[0].start)doc.applyDeltas(data);else for(var i\x3d0;data.length\x3ei;i+\x3d2){if(Array.isArray(data[i+1]))var d\x3d{action:"insert",start:data[i],lines:data[i+1]};else var d\x3d{action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout\x3d500,this.setTimeout\x3dfunction(timeout){this.$timeout\x3dtimeout},this.setValue\x3dfunction(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue\x3dfunction(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate\x3dfunction(){},this.isPending\x3dfunction(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee\x3d{\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error\x3dfunction(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next\x3dfunction(c){return c\x26\x26c!\x3d\x3dch\x26\x26error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch\x3dtext.charAt(at),at+\x3d1,ch},number\x3dfunction(){var number,string\x3d"";for("-"\x3d\x3d\x3dch\x26\x26(string\x3d"-",next("-"));ch\x3e\x3d"0"\x26\x26"9"\x3e\x3dch;)string+\x3dch,next();if("."\x3d\x3d\x3dch)for(string+\x3d".";next()\x26\x26ch\x3e\x3d"0"\x26\x26"9"\x3e\x3dch;)string+\x3dch;if("e"\x3d\x3d\x3dch||"E"\x3d\x3d\x3dch)for(string+\x3dch,next(),("-"\x3d\x3d\x3dch||"+"\x3d\x3d\x3dch)\x26\x26(string+\x3dch,next());ch\x3e\x3d"0"\x26\x26"9"\x3e\x3dch;)string+\x3dch,next();return number\x3d+string,isNaN(number)?(error("Bad number"),void 0):number},string\x3dfunction(){var hex,i,uffff,string\x3d"";if(\'"\'\x3d\x3d\x3dch)for(;next();){if(\'"\'\x3d\x3d\x3dch)return next(),string;if("\\\\"\x3d\x3d\x3dch)if(next(),"u"\x3d\x3d\x3dch){for(uffff\x3d0,i\x3d0;4\x3ei\x26\x26(hex\x3dparseInt(next(),16),isFinite(hex));i+\x3d1)uffff\x3d16*uffff+hex;string+\x3dString.fromCharCode(uffff)}else{if("string"!\x3dtypeof escapee[ch])break;string+\x3descapee[ch]}else string+\x3dch}error("Bad string")},white\x3dfunction(){for(;ch\x26\x26" "\x3e\x3dch;)next()},word\x3dfunction(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array\x3dfunction(){var array\x3d[];if("["\x3d\x3d\x3dch){if(next("["),white(),"]"\x3d\x3d\x3dch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"\x3d\x3d\x3dch)return next("]"),array;next(","),white()}}error("Bad array")},object\x3dfunction(){var key,object\x3d{};if("{"\x3d\x3d\x3dch){if(next("{"),white(),"}"\x3d\x3d\x3dch)return next("}"),object;for(;ch;){if(key\x3dstring(),white(),next(":"),Object.hasOwnProperty.call(object,key)\x26\x26error(\'Duplicate key "\'+key+\'"\'),object[key]\x3dvalue(),white(),"}"\x3d\x3d\x3dch)return next("}"),object;next(","),white()}}error("Bad object")};return value\x3dfunction(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch\x3e\x3d"0"\x26\x26"9"\x3e\x3dch?number():word()}},function(source,reviver){var result;return text\x3dsource,at\x3d0,ch\x3d" ",result\x3dvalue(),white(),ch\x26\x26error("Syntax error"),"function"\x3d\x3dtypeof reviver?function walk(holder,key){var k,v,value\x3dholder[key];if(value\x26\x26"object"\x3d\x3dtypeof value)for(k in value)Object.hasOwnProperty.call(value,k)\x26\x26(v\x3dwalk(value,k),void 0!\x3d\x3dv?value[k]\x3dv:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop\x3dacequire("../lib/oop"),Mirror\x3dacequire("../worker/mirror").Mirror,parse\x3dacequire("./json/json_parse"),JsonWorker\x3dexports.JsonWorker\x3dfunction(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate\x3dfunction(){var value\x3dthis.doc.getValue(),errors\x3d[];try{value\x26\x26parse(value)}catch(e){var pos\x3dthis.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n\x3d+n,n!\x3d\x3dn?n\x3d0:0!\x3d\x3dn\x26\x26n!\x3d\x3d1/0\x26\x26n!\x3d\x3d-(1/0)\x26\x26(n\x3d(n\x3e0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind\x3dfunction(that){var target\x3dthis;if("function"!\x3dtypeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args\x3dslice.call(arguments,1),bound\x3dfunction(){if(this instanceof bound){var result\x3dtarget.apply(this,args.concat(slice.call(arguments)));return Object(result)\x3d\x3d\x3dresult?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype\x26\x26(Empty.prototype\x3dtarget.prototype,bound.prototype\x3dnew Empty,Empty.prototype\x3dnull),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call\x3dFunction.prototype.call,prototypeOfArray\x3dArray.prototype,prototypeOfObject\x3dObject.prototype,slice\x3dprototypeOfArray.slice,_toString\x3dcall.bind(prototypeOfObject.toString),owns\x3dcall.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors\x3downs(prototypeOfObject,"__defineGetter__"))\x26\x26(defineGetter\x3dcall.bind(prototypeOfObject.__defineGetter__),defineSetter\x3dcall.bind(prototypeOfObject.__defineSetter__),lookupGetter\x3dcall.bind(prototypeOfObject.__lookupGetter__),lookupSetter\x3dcall.bind(prototypeOfObject.__lookupSetter__)),2!\x3d[1,2].splice(0).length)if(function(){function makeArray(l){var a\x3dArray(l+2);return a[0]\x3da[1]\x3d0,a}var lengthBefore,array\x3d[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore\x3darray.length,array.splice(5,0,"XXX"),lengthBefore+1\x3d\x3darray.length,lengthBefore+1\x3d\x3darray.length?!0:void 0\n}()){var array_splice\x3dArray.prototype.splice;Array.prototype.splice\x3dfunction(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0\x3d\x3d\x3dstart?0:start,void 0\x3d\x3d\x3ddeleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice\x3dfunction(pos,removeCount){var length\x3dthis.length;pos\x3e0?pos\x3elength\x26\x26(pos\x3dlength):void 0\x3d\x3dpos?pos\x3d0:0\x3epos\x26\x26(pos\x3dMath.max(length+pos,0)),length\x3epos+removeCount||(removeCount\x3dlength-pos);var removed\x3dthis.slice(pos,pos+removeCount),insert\x3dslice.call(arguments,2),add\x3dinsert.length;if(pos\x3d\x3d\x3dlength)add\x26\x26this.push.apply(this,insert);else{var remove\x3dMath.min(removeCount,length-pos),tailOldPos\x3dpos+remove,tailNewPos\x3dtailOldPos+add-remove,tailCount\x3dlength-tailOldPos,lengthAfterRemove\x3dlength-remove;if(tailOldPos\x3etailNewPos)for(var i\x3d0;tailCount\x3ei;++i)this[tailNewPos+i]\x3dthis[tailOldPos+i];else if(tailNewPos\x3etailOldPos)for(i\x3dtailCount;i--;)this[tailNewPos+i]\x3dthis[tailOldPos+i];if(add\x26\x26pos\x3d\x3d\x3dlengthAfterRemove)this.length\x3dlengthAfterRemove,this.push.apply(this,insert);else for(this.length\x3dlengthAfterRemove+add,i\x3d0;add\x3ei;++i)this[pos+i]\x3dinsert[i]}return removed};Array.isArray||(Array.isArray\x3dfunction(obj){return"[object Array]"\x3d\x3d_toString(obj)});var boxedString\x3dObject("a"),splitString\x3d"a"!\x3dboxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,thisp\x3darguments[1],i\x3d-1,length\x3dself.length\x3e\x3e\x3e0;if("[object Function]"!\x3d_toString(fun))throw new TypeError;for(;length\x3e++i;)i in self\x26\x26fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0,result\x3dArray(length),thisp\x3darguments[1];if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");for(var i\x3d0;length\x3ei;i++)i in self\x26\x26(result[i]\x3dfun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter\x3dfunction(fun){var value,object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0,result\x3d[],thisp\x3darguments[1];if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");for(var i\x3d0;length\x3ei;i++)i in self\x26\x26(value\x3dself[i],fun.call(thisp,value,i,object)\x26\x26result.push(value));return result}),Array.prototype.every||(Array.prototype.every\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0,thisp\x3darguments[1];if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");for(var i\x3d0;length\x3ei;i++)if(i in self\x26\x26!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0,thisp\x3darguments[1];if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");for(var i\x3d0;length\x3ei;i++)if(i in self\x26\x26fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0;if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");if(!length\x26\x261\x3d\x3darguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i\x3d0;if(arguments.length\x3e\x3d2)result\x3darguments[1];else for(;;){if(i in self){result\x3dself[i++];break}if(++i\x3e\x3dlength)throw new TypeError("reduce of empty array with no initial value")}for(;length\x3ei;i++)i in self\x26\x26(result\x3dfun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight\x3dfunction(fun){var object\x3dtoObject(this),self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):object,length\x3dself.length\x3e\x3e\x3e0;if("[object Function]"!\x3d_toString(fun))throw new TypeError(fun+" is not a function");if(!length\x26\x261\x3d\x3darguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i\x3dlength-1;if(arguments.length\x3e\x3d2)result\x3darguments[1];else for(;;){if(i in self){result\x3dself[i--];break}if(0\x3e--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this\x26\x26(result\x3dfun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf\x26\x26-1\x3d\x3d[0,1].indexOf(1,2)||(Array.prototype.indexOf\x3dfunction(sought){var self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):toObject(this),length\x3dself.length\x3e\x3e\x3e0;if(!length)return-1;var i\x3d0;for(arguments.length\x3e1\x26\x26(i\x3dtoInteger(arguments[1])),i\x3di\x3e\x3d0?i:Math.max(0,length+i);length\x3ei;i++)if(i in self\x26\x26self[i]\x3d\x3d\x3dsought)return i;return-1}),Array.prototype.lastIndexOf\x26\x26-1\x3d\x3d[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf\x3dfunction(sought){var self\x3dsplitString\x26\x26"[object String]"\x3d\x3d_toString(this)?this.split(""):toObject(this),length\x3dself.length\x3e\x3e\x3e0;if(!length)return-1;var i\x3dlength-1;for(arguments.length\x3e1\x26\x26(i\x3dMath.min(i,toInteger(arguments[1]))),i\x3di\x3e\x3d0?i:length-Math.abs(i);i\x3e\x3d0;i--)if(i in self\x26\x26sought\x3d\x3d\x3dself[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf\x3dfunction(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT\x3d"Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor\x3dfunction(object,property){if("object"!\x3dtypeof object\x26\x26"function"!\x3dtypeof object||null\x3d\x3d\x3dobject)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor\x3d{enumerable:!0,configurable:!0},supportsAccessors){var prototype\x3dobject.__proto__;object.__proto__\x3dprototypeOfObject;var getter\x3dlookupGetter(object,property),setter\x3dlookupSetter(object,property);if(object.__proto__\x3dprototype,getter||setter)return getter\x26\x26(descriptor.get\x3dgetter),setter\x26\x26(descriptor.set\x3dsetter),descriptor}return descriptor.value\x3dobject[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames\x3dfunction(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty\x3dnull\x3d\x3d\x3dObject.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty\x3d{};for(var i in empty)empty[i]\x3dnull;return empty.constructor\x3dempty.hasOwnProperty\x3dempty.propertyIsEnumerable\x3dempty.isPrototypeOf\x3dempty.toLocaleString\x3dempty.toString\x3dempty.valueOf\x3dempty.__proto__\x3dnull,empty},Object.create\x3dfunction(prototype,properties){var object;if(null\x3d\x3d\x3dprototype)object\x3dcreateEmpty();else{if("object"!\x3dtypeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] !\x3d \'object\'");var Type\x3dfunction(){};Type.prototype\x3dprototype,object\x3dnew Type,object.__proto__\x3dprototype}return void 0!\x3d\x3dproperties\x26\x26Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject\x3ddoesDefinePropertyWork({}),definePropertyWorksOnDom\x3d"undefined"\x3d\x3dtypeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback\x3dObject.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR\x3d"Property description must be an object: ",ERR_NON_OBJECT_TARGET\x3d"Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED\x3d"getters \x26 setters can not be defined on this javascript engine";Object.defineProperty\x3dfunction(object,property,descriptor){if("object"!\x3dtypeof object\x26\x26"function"!\x3dtypeof object||null\x3d\x3d\x3dobject)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!\x3dtypeof descriptor\x26\x26"function"!\x3dtypeof descriptor||null\x3d\x3d\x3ddescriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors\x26\x26(lookupGetter(object,property)||lookupSetter(object,property))){var prototype\x3dobject.__proto__;object.__proto__\x3dprototypeOfObject,delete object[property],object[property]\x3ddescriptor.value,object.__proto__\x3dprototype}else object[property]\x3ddescriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")\x26\x26defineGetter(object,property,descriptor.get),owns(descriptor,"set")\x26\x26defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties\x3dfunction(object,properties){for(var property in properties)owns(properties,property)\x26\x26Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal\x3dfunction(object){return object}),Object.freeze||(Object.freeze\x3dfunction(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze\x3dfunction(freezeObject){return function(object){return"function"\x3d\x3dtypeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions\x3dfunction(object){return object}),Object.isSealed||(Object.isSealed\x3dfunction(){return!1}),Object.isFrozen||(Object.isFrozen\x3dfunction(){return!1}),Object.isExtensible||(Object.isExtensible\x3dfunction(object){if(Object(object)\x3d\x3d\x3dobject)throw new TypeError;for(var name\x3d"";owns(object,name);)name+\x3d"?";object[name]\x3d!0;var returnValue\x3downs(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug\x3d!0,dontEnums\x3d["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength\x3ddontEnums.length;for(var key in{toString:null})hasDontEnumBug\x3d!1;Object.keys\x3dfunction(object){if("object"!\x3dtypeof object\x26\x26"function"!\x3dtypeof object||null\x3d\x3d\x3dobject)throw new TypeError("Object.keys called on a non-object");var keys\x3d[];for(var name in object)owns(object,name)\x26\x26keys.push(name);if(hasDontEnumBug)for(var i\x3d0,ii\x3ddontEnumsLength;ii\x3ei;i++){var dontEnum\x3ddontEnums[i];owns(object,dontEnum)\x26\x26keys.push(dontEnum)}return keys}}Date.now||(Date.now\x3dfunction(){return(new Date).getTime()});var ws\x3d"\t\\n\x0B\\f\\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws\x3d"["+ws+"]";var trimBeginRegexp\x3dRegExp("^"+ws+ws+"*"),trimEndRegexp\x3dRegExp(ws+ws+"*$");String.prototype.trim\x3dfunction(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject\x3dfunction(o){if(null\x3d\x3do)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(module,exports){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(acequire,exports,module){var dom=acequire("../lib/dom");var lang=acequire("../lib/lang");var event=acequire("../lib/event");var searchboxCss='\t.ace_search {\tbackground-color: #ddd;\tcolor: #666;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\toverflow: hidden;\tmargin: 0;\tpadding: 4px 6px 0 4px;\tposition: absolute;\ttop: 0;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tmargin: 0 20px 4px 0;\toverflow: hidden;\tline-height: 1.9;\t}\t.ace_replace_form {\tmargin-right: 0;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tborder-radius: 3px 0 0 3px;\tbackground-color: white;\tcolor: black;\tborder: 1px solid #cbcbcb;\tborder-right: 0 none;\tbox-sizing: border-box!important;\toutline: 0;\tpadding: 0;\tfont-size: inherit;\tmargin: 0;\tline-height: inherit;\tpadding: 0 6px;\tmin-width: 17em;\tvertical-align: top;\t}\t.ace_searchbtn {\tborder: 1px solid #cbcbcb;\tline-height: inherit;\tdisplay: inline-block;\tpadding: 0 6px;\tbackground: #fff;\tborder-right: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tmargin: 0;\tposition: relative;\tbox-sizing: content-box!important;\tcolor: #666;\t}\t.ace_searchbtn:last-child {\tborder-radius: 0 3px 3px 0;\tborder-right: 1px solid #cbcbcb;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn:hover {\tbackground-color: #eef1f6;\t}\t.ace_searchbtn.prev, .ace_searchbtn.next {\tpadding: 0px 0.7em\t}\t.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\tcontent: "";\tborder: solid 2px #888;\twidth: 0.5em;\theight: 0.5em;\tborder-width:  2px 0 0 2px;\tdisplay:inline-block;\ttransform: rotate(-45deg);\t}\t.ace_searchbtn.next:after {\tborder-width: 0 2px 2px 0 ;\t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg\x3d\x3d) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfont: 16px/16px Arial;\tpadding: 0;\theight: 14px;\twidth: 14px;\ttop: 9px;\tright: 7px;\tposition: absolute;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\tbox-sizing:    border-box!important;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\tclear: both;\t}\t.ace_search_counter {\tfloat: left;\tfont-family: arial;\tpadding: 0 8px;\t}';var HashHandler=acequire("../keyboard/hash_handler").HashHandler;var keyUtil=acequire("../lib/keys");var MAX_COUNT=999;dom.importCssString(searchboxCss,"ace_searchbox");var html='\x3cdiv class\x3d"ace_search right"\x3e\t    \x3cspan action\x3d"hide" class\x3d"ace_searchbtn_close"\x3e\x3c/span\x3e\t    \x3cdiv class\x3d"ace_search_form"\x3e\t        \x3cinput class\x3d"ace_search_field" placeholder\x3d"Search for" spellcheck\x3d"false"\x3e\x3c/input\x3e\t        \x3cspan action\x3d"findPrev" class\x3d"ace_searchbtn prev"\x3e\x3c/span\x3e\t        \x3cspan action\x3d"findNext" class\x3d"ace_searchbtn next"\x3e\x3c/span\x3e\t        \x3cspan action\x3d"findAll" class\x3d"ace_searchbtn" title\x3d"Alt-Enter"\x3eAll\x3c/span\x3e\t    \x3c/div\x3e\t    \x3cdiv class\x3d"ace_replace_form"\x3e\t        \x3cinput class\x3d"ace_search_field" placeholder\x3d"Replace with" spellcheck\x3d"false"\x3e\x3c/input\x3e\t        \x3cspan action\x3d"replaceAndFindNext" class\x3d"ace_searchbtn"\x3eReplace\x3c/span\x3e\t        \x3cspan action\x3d"replaceAll" class\x3d"ace_searchbtn"\x3eAll\x3c/span\x3e\t    \x3c/div\x3e\t    \x3cdiv class\x3d"ace_search_options"\x3e\t        \x3cspan action\x3d"toggleReplace" class\x3d"ace_button" title\x3d"Toggel Replace mode"\t            style\x3d"float:left;margin-top:-2px;padding:0 5px;"\x3e+\x3c/span\x3e\t        \x3cspan class\x3d"ace_search_counter"\x3e\x3c/span\x3e\t        \x3cspan action\x3d"toggleRegexpMode" class\x3d"ace_button" title\x3d"RegExp Search"\x3e.*\x3c/span\x3e\t        \x3cspan action\x3d"toggleCaseSensitive" class\x3d"ace_button" title\x3d"CaseSensitive Search"\x3eAa\x3c/span\x3e\t        \x3cspan action\x3d"toggleWholeWords" class\x3d"ace_button" title\x3d"Whole Word Search"\x3e\\b\x3c/span\x3e\t        \x3cspan action\x3d"searchInSelection" class\x3d"ace_button" title\x3d"Search In Selection"\x3eS\x3c/span\x3e\t    \x3c/div\x3e\t\x3c/div\x3e'.replace(/> +/g,"\x3e");var SearchBox=function(editor,range,showReplaceForm){var div=dom.createElement("div");div.innerHTML=html;this.element=div.firstChild;this.setSession=this.setSession.bind(this);this.$init();this.setEditor(editor)};(function(){this.setEditor=function(editor){editor.searchBox=this;editor.renderer.scroller.appendChild(this.element);this.editor=editor};this.setSession=function(e){this.searchRange=null;this.$syncOptions(true)};this.$initElements=function(sb){this.searchBox=sb.querySelector(".ace_search_form");this.replaceBox=sb.querySelector(".ace_replace_form");this.searchOption=sb.querySelector("[action\x3dsearchInSelection]");this.replaceOption=sb.querySelector("[action\x3dtoggleReplace]");this.regExpOption=sb.querySelector("[action\x3dtoggleRegexpMode]");this.caseSensitiveOption=sb.querySelector("[action\x3dtoggleCaseSensitive]");this.wholeWordOption=sb.querySelector("[action\x3dtoggleWholeWords]");this.searchInput=this.searchBox.querySelector(".ace_search_field");this.replaceInput=this.replaceBox.querySelector(".ace_search_field");this.searchCounter=sb.querySelector(".ace_search_counter")};this.$init=function(){var sb=this.element;this.$initElements(sb);var _this=this;event.addListener(sb,"mousedown",function(e){setTimeout(function(){_this.activeInput.focus()},0);event.stopPropagation(e)});event.addListener(sb,"click",function(e){var t=e.target||e.srcElement;var action=t.getAttribute("action");if(action&&_this[action])_this[action]();else if(_this.$searchBarKb.commands[action])_this.$searchBarKb.commands[action].exec(_this);event.stopPropagation(e)});event.addCommandKeyListener(sb,function(e,hashId,keyCode){var keyString=keyUtil.keyCodeToString(keyCode);var command=_this.$searchBarKb.findKeyCommand(hashId,keyString);if(command&&command.exec){command.exec(_this);event.stopEvent(e)}});this.$onChange=lang.delayedCall(function(){_this.find(false,false)});event.addListener(this.searchInput,"input",function(){_this.$onChange.schedule(20)});event.addListener(this.searchInput,"focus",function(){_this.activeInput=_this.searchInput;_this.searchInput.value&&_this.highlight()});event.addListener(this.replaceInput,"focus",function(){_this.activeInput=_this.replaceInput;_this.searchInput.value&&_this.highlight()})};this.$closeSearchBarKb=new HashHandler([{bindKey:"Esc",name:"closeSearchBar",exec:function(editor){editor.searchBox.hide()}}]);this.$searchBarKb=new HashHandler;this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(sb){var isReplace=sb.isReplace=!sb.isReplace;sb.replaceBox.style.display=isReplace?"":"none";sb.replaceOption.checked=false;sb.$syncOptions();sb.searchInput.focus()},"Ctrl-H|Command-Option-F":function(sb){sb.replaceOption.checked=true;sb.$syncOptions();sb.replaceInput.focus()},"Ctrl-G|Command-G":function(sb){sb.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(sb){sb.findPrev()},"esc":function(sb){setTimeout(function(){sb.hide()})},"Return":function(sb){if(sb.activeInput==sb.replaceInput)sb.replace();sb.findNext()},"Shift-Return":function(sb){if(sb.activeInput==sb.replaceInput)sb.replace();sb.findPrev()},"Alt-Return":function(sb){if(sb.activeInput==sb.replaceInput)sb.replaceAll();sb.findAll()},"Tab":function(sb){(sb.activeInput==sb.replaceInput?sb.searchInput:sb.replaceInput).focus()}});this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(sb){sb.regExpOption.checked=!sb.regExpOption.checked;sb.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(sb){sb.caseSensitiveOption.checked=!sb.caseSensitiveOption.checked;sb.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(sb){sb.wholeWordOption.checked=!sb.wholeWordOption.checked;sb.$syncOptions()}},{name:"toggleReplace",exec:function(sb){sb.replaceOption.checked=!sb.replaceOption.checked;sb.$syncOptions()}},{name:"searchInSelection",exec:function(sb){sb.searchOption.checked=!sb.searchRange;sb.setSearchRange(sb.searchOption.checked&&sb.editor.getSelectionRange());sb.$syncOptions()}}]);this.setSearchRange=function(range){this.searchRange=range;if(range)this.searchRangeMarker=this.editor.session.addMarker(range,"ace_active-line");else if(this.searchRangeMarker){this.editor.session.removeMarker(this.searchRangeMarker);this.searchRangeMarker=null}};this.$syncOptions=function(preventScroll){dom.setCssClass(this.replaceOption,"checked",this.searchRange);dom.setCssClass(this.searchOption,"checked",this.searchOption.checked);this.replaceOption.textContent=this.replaceOption.checked?"-":"+";dom.setCssClass(this.regExpOption,"checked",this.regExpOption.checked);dom.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked);dom.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);this.replaceBox.style.display=this.replaceOption.checked?"":"none";this.find(false,false,preventScroll)};this.highlight=function(re){this.editor.session.highlight(re||this.editor.$search.$options.re);this.editor.renderer.updateBackMarkers()};this.find=function(skipCurrent,backwards,preventScroll){var range=this.editor.find(this.searchInput.value,{skipCurrent:skipCurrent,backwards:backwards,wrap:true,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:preventScroll,range:this.searchRange});var noMatch=!range&&this.searchInput.value;dom.setCssClass(this.searchBox,"ace_nomatch",noMatch);this.editor._emit("findSearchBox",{match:!noMatch});this.highlight();this.updateCounter()};this.updateCounter=function(){var editor=this.editor;var regex=editor.$search.$options.re;var all=0;var before=0;if(regex){var value=this.searchRange?editor.session.getTextRange(this.searchRange):editor.getValue();var offset=editor.session.doc.positionToIndex(editor.selection.anchor);if(this.searchRange)offset-=editor.session.doc.positionToIndex(this.searchRange.start);var last=regex.lastIndex=0;var m;while(m=regex.exec(value)){all++;last=m.index;if(last<=offset)before++;if(all>MAX_COUNT)break;if(!m[0]){regex.lastIndex=last+=1;if(last>=value.length)break}}}this.searchCounter.textContent=before+" of "+(all>MAX_COUNT?MAX_COUNT+"+":all)};this.findNext=function(){this.find(true,false)};this.findPrev=function(){this.find(true,true)};this.findAll=function(){var range=this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked});var noMatch=!range&&this.searchInput.value;dom.setCssClass(this.searchBox,"ace_nomatch",noMatch);this.editor._emit("findSearchBox",{match:!noMatch});this.highlight();this.hide()};this.replace=function(){if(!this.editor.getReadOnly())this.editor.replace(this.replaceInput.value)};this.replaceAndFindNext=function(){if(!this.editor.getReadOnly()){this.editor.replace(this.replaceInput.value);this.findNext()}};this.replaceAll=function(){if(!this.editor.getReadOnly())this.editor.replaceAll(this.replaceInput.value)};this.hide=function(){this.active=false;this.setSearchRange(null);this.editor.off("changeSession",this.setSession);this.element.style.display="none";this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);this.editor.focus()};this.show=function(value,isReplace){this.active=true;this.editor.on("changeSession",this.setSession);this.element.style.display="";this.replaceOption.checked=isReplace;if(value)this.searchInput.value=value;this.searchInput.focus();this.searchInput.select();this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);this.$syncOptions(true)};this.isFocused=function(){var el=document.activeElement;return el==this.searchInput||el==this.replaceInput}}).call(SearchBox.prototype);exports.SearchBox=SearchBox;exports.Search=function(editor,isReplace){var sb=editor.searchBox||new SearchBox(editor);sb.show(editor.session.getTextRange(),isReplace)}});(function(){ace.acequire(["ace/ext/searchbox"],function(){})})()},function(module,exports,__webpack_require__){var VanillaPicker;if(window.Picker)VanillaPicker=window.Picker;else try{VanillaPicker=__webpack_require__(58)}catch(err){}module.exports=VanillaPicker},function(module,exports,__webpack_require__){(function(global,factory){true?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.Picker=factory()})(this,function(){var classCallCheck=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");};var createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e;}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;else if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);else throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();String.prototype.startsWith=String.prototype.startsWith||function(needle){return this.indexOf(needle)===0};String.prototype.padStart=String.prototype.padStart||function(len,pad){var str=this;while(str.length<len)str=pad+str;return str};var colorNames="735AACA770//Xub218Pj/mo5+uvX6mdAP//gtpf//Ur258P//q1d9fXcxop/+TEq9zAAAAqfg/+vN6m1AAD/ngoiiviqt6pSoqzyo3riHxvdX56grk1f/8Aax10mkeqts/39QxbtZJXttkb//jcyxm3BQ86rmAP//wl5AACLwqqAIuL3y8uIYLwv1qampniqAGQAns5vbdrmohiwCLw5uVWsvsdd/4wAsegmTLMqagiwAAsqi6ZZ6uz6j7yPxtzSD2Lxk3L09PudbAM7RwsolADT0kz/xSTfuhAL//vfhaWlpyuxHpD/43rsiIiwn9//rw39uIosi9bp/wD/6w73Nzc9s5+Pj/6v8/9cA3b42qUg6vxgICArmaAIAAtdfrf8vf9n8P/wek3/2m0xnczVxc3bvSwCCsdt///wrvp8OaMs5i5ub6iyk//D1e8ifPwAoui//rNpyxrdjmw9c8ICAq4i4P//mx9+vrSq8t09PTx1ukO6Qqlv/7bBuuy/6B690uILKqpfdh876sd9d4iZnehsMTe0dv///g71lAP8A4nmMs0ys9u+vDmg9d/wD/4pmgAAAcurZs2qzllAADN4lkulXT6txk3Db66qPLNxozre2juokuAPqalj3SNHMgdkxxWF60pGRlwxfl9f/6hr5/+Thx6q/+S1m85/96tutd/fXmszxgIAAe4ma44j8rl/6UAmu0/0UA8so2nDWji87uiqumqmPuY9xbr+7u4rs23CTsb8/+/V95a/9q577xzYU/78z/8DL7b53aDdsu1sODmb11gACAy5nZjOZ1so/wAAlvevI+Pn09QWnhm7ui0UT94q+oBy7ei9KRg5aqLotXad5oFItasmwMDAaihh87r9fdalrN9p9cICQ7gz//r6k5uAP9/4qhRoK01te0rSM7cwAICA91x2L/Yclr/2NHcw1QODQd6w7oLuua09d6zudh////t359fX1enn//8Ao0ims0y";var colorNamesDeser=void 0;var Color=function(){function Color(r,g,b,a){classCallCheck(this,Color);var that=this;function parseString(input){if(input.startsWith("hsl")){var _input$match$map=input.match(/([\-\d\.e]+)/g).map(Number),_input$match$map2=slicedToArray(_input$match$map,4),h=_input$match$map2[0],s=_input$match$map2[1],l=_input$match$map2[2],_a=_input$match$map2[3];if(_a===undefined)_a=1;h/=360;s/=100;l/=100;that.hsla=[h,s,l,_a]}else if(input.startsWith("rgb")){var _input$match$map3=input.match(/([\-\d\.e]+)/g).map(Number),_input$match$map4=slicedToArray(_input$match$map3,4),_r=_input$match$map4[0],_g=_input$match$map4[1],_b=_input$match$map4[2],_a2=_input$match$map4[3];if(_a2===undefined)_a2=1;that.rgba=[_r,_g,_b,_a2]}else if(input.startsWith("#"))that.rgba=Color.hexToRgb(input);else that.rgba=Color.nameToRgb(input)||Color.hexToRgb(input)}if(r===undefined);else if(Array.isArray(r))this.rgba=r;else if(b===undefined){var color=r&&(""+r).trim();if(color)parseString(color.toLowerCase())}else this.rgba=[r,g,b,a===undefined?1:a]}createClass(Color,[{key:"rgba",get:function get$$1(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=Color.hslToRgb(this._hsla)},set:function set$$1(rgb){if(rgb.length===3)rgb[3]=1;this._rgba=rgb;this._hsla=null}},{key:"rgbString",get:function get$$1(){return"rgb("+this.rgba.slice(0,3)+")"}},{key:"rgbaString",get:function get$$1(){return"rgba("+this.rgba+")"}},{key:"hsla",get:function get$$1(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=Color.rgbToHsl(this._rgba)},set:function set$$1(hsl){if(hsl.length===3)hsl[3]=1;this._hsla=hsl;this._rgba=null}},{key:"hslString",get:function get$$1(){var c=this.hsla;return"hsl("+c[0]*360+","+c[1]*100+"%,"+c[2]*100+"%)"}},{key:"hslaString",get:function get$$1(){var c=this.hsla;return"hsla("+c[0]*360+","+c[1]*100+"%,"+c[2]*100+"%,"+c[3]+")"}},{key:"hex",get:function get$$1(){var rgb=this.rgba,hex=rgb.map(function(x,i){return i<3?x.toString(16):Math.round(x*255).toString(16)});return"#"+hex.map(function(x){return x.padStart(2,"0")}).join("")},set:function set$$1(hex){this.rgba=Color.hexToRgb(hex)}}],[{key:"hexToRgb",value:function hexToRgb(input){var hex=(input.startsWith("#")?input.slice(1):input).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!hex.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+input);var rgba=hex.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(x){return parseInt(x,16)});rgba[3]=rgba[3]/255;return rgba}},{key:"nameToRgb",value:function nameToRgb(input){if(!colorNamesDeser){colorNamesDeser={};colorNames.match(/.{7}/g).forEach(function(x){return colorNamesDeser[x.slice(0,3)]=atob(x.slice(-4)).split("").map(function(b){return b.charCodeAt(0)})})}var hash=[].reduce.call(input.replace("ey","ay"),function(h,c){return(h<<2)+c.charCodeAt(0)},0).toString(36).slice(-3);return colorNamesDeser[hash]}},{key:"rgbToHsl",value:function rgbToHsl(_ref){var _ref2=slicedToArray(_ref,4),r=_ref2[0],g=_ref2[1],b=_ref2[2],a=_ref2[3];r/=255;g/=255;b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h=void 0,s=void 0,l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;s=l>.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return[h,s,l,a]}},{key:"hslToRgb",value:function hslToRgb(_ref3){var _ref4=slicedToArray(_ref3,4),h=_ref4[0],s=_ref4[1],l=_ref4[2],a=_ref4[3];var r=void 0,g=void 0,b=void 0;if(s===0)r=g=b=l;else{var hue2rgb=function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p};var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3)}var rgba=[r*255,g*255,b*255].map(Math.round);rgba[3]=a;return rgba}}]);return Color}();var root=window;function dragTracker(options){var ep=Element.prototype;if(!ep.matches)ep.matches=ep.msMatchesSelector||ep.webkitMatchesSelector;if(!ep.closest)ep.closest=function(s){var node=this;do{if(node.matches(s))return node;node=node.tagName==="svg"?node.parentNode:node.parentElement}while(node);return null};options=options||{};var container=options.container||document.documentElement,selector=options.selector,callback=options.callback||console.log,callbackStart=options.callbackDragStart,callbackEnd=options.callbackDragEnd,callbackClick=options.callbackClick,propagate=options.propagateEvents,roundCoords=options.roundCoords!==false,dragOutside=options.dragOutside!==false,handleOffset=options.handleOffset||options.handleOffset!==false;var offsetToCenter=null;switch(handleOffset){case "center":offsetToCenter=true;break;case "topleft":case "top-left":offsetToCenter=false;break}var dragState=void 0;function getMousePos(e,elm,offset,stayWithin){var x=e.clientX,y=e.clientY;function respectBounds(value,min,max){return Math.max(min,Math.min(value,max))}if(elm){var bounds=elm.getBoundingClientRect();x-=bounds.left;y-=bounds.top;if(offset){x-=offset[0];y-=offset[1]}if(stayWithin){x=respectBounds(x,0,bounds.width);y=respectBounds(y,0,bounds.height)}if(elm!==container){var center=offsetToCenter!==null?offsetToCenter:elm.nodeName==="circle"||elm.nodeName==="ellipse";if(center){x-=bounds.width/2;y-=bounds.height/2}}}return roundCoords?[Math.round(x),Math.round(y)]:[x,y]}function stopEvent(e){e.preventDefault();if(!propagate)e.stopPropagation()}function onDown(e){var target=void 0;if(selector)target=selector instanceof Element?selector.contains(e.target)?selector:null:e.target.closest(selector);else target={};if(target){stopEvent(e);var mouseOffset=selector&&handleOffset?getMousePos(e,target):[0,0],startPos=getMousePos(e,container,mouseOffset);dragState={target:target,mouseOffset:mouseOffset,startPos:startPos,actuallyDragged:false};if(callbackStart)callbackStart(target,startPos)}}function onMove(e){if(!dragState)return;stopEvent(e);var start=dragState.startPos,pos=getMousePos(e,container,dragState.mouseOffset,!dragOutside);dragState.actuallyDragged=dragState.actuallyDragged||start[0]!==pos[0]||start[1]!==pos[1];callback(dragState.target,pos,start)}function onEnd(e,cancelled){if(!dragState)return;if(callbackEnd||callbackClick){var isClick=!dragState.actuallyDragged,pos=isClick?dragState.startPos:getMousePos(e,container,dragState.mouseOffset,!dragOutside);if(callbackClick&&isClick&&!cancelled)callbackClick(dragState.target,pos);if(callbackEnd)callbackEnd(dragState.target,pos,dragState.startPos,cancelled||isClick&&callbackClick)}dragState=null}addEvent(container,"mousedown",function(e){if(isLeftButton(e))onDown(e);else onEnd(e,true)});addEvent(container,"touchstart",function(e){return relayTouch(e,onDown)});addEvent(root,"mousemove",function(e){if(!dragState)return;if(isLeftButton(e))onMove(e);else onEnd(e)});addEvent(root,"touchmove",function(e){return relayTouch(e,onMove)});addEvent(container,"mouseup",function(e){if(dragState&&!isLeftButton(e))onEnd(e)});function onTouchEnd(e,cancelled){onEnd(tweakTouch(e),cancelled)}addEvent(container,"touchend",function(e){return onTouchEnd(e)});addEvent(container,"touchcancel",function(e){return onTouchEnd(e,true)});function addEvent(target,type,handler){target.addEventListener(type,handler)}function isLeftButton(e){return e.buttons!==undefined?e.buttons===1:e.which===1}function relayTouch(e,handler){if(e.touches.length!==1){onEnd(e,true);return}handler(tweakTouch(e))}function tweakTouch(e){var touch=e.targetTouches[0];if(!touch)touch=e.changedTouches[0];touch.preventDefault=e.preventDefault.bind(e);touch.stopPropagation=e.stopPropagation.bind(e);return touch}}function parseHTML(htmlString){var div=document.createElement("div");div.innerHTML=htmlString;return div.firstElementChild}function addEvent(target,type,handler){target.addEventListener(type,handler,false)}var BG_TRANSP="url(\"data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'2' height\x3d'2'%3E%3Cpath d\x3d'M1,0H0V1H2V2H1' fill\x3d'lightgrey'/%3E%3C/svg%3E\")";var HUES=360;document.documentElement.firstElementChild.appendChild(document.createElement("style")).textContent=".picker_wrapper.no_alpha .picker_alpha,.picker_wrapper.no_editor .picker_editor{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper\x3e*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6rem}.layout_default .picker_editor input{width:calc(100% + 2px);height:calc(100% + 2px)}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;cursor:default;font-family:sans-serif;pointer-events:auto}.picker_wrapper button,.picker_wrapper input{margin:-1px}.picker_selector{position:absolute;z-index:1;display:block;transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'2' height\x3d'2'%3E%3Cpath d\x3d'M1,0H0V1H2V2H1' fill\x3d'lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{box-sizing:border-box;font-family:monospace;padding:.1em .2em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_done button{box-sizing:border-box;padding:.2em .5em;cursor:pointer}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;transform:skew(45deg);transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}";var Picker=function(){function Picker(options){var _this=this;classCallCheck(this,Picker);this.settings={popup:"right",layout:"default",alpha:true,editor:true};this._openProxy=function(e){return _this.openHandler(e)};this.onChange=null;this.onDone=null;this.onOpen=null;this.onClose=null;this.setOptions(options)}createClass(Picker,[{key:"setOptions",value:function setOptions(options){if(!options)return;var settings=this.settings;function transfer(source,target,skipKeys){for(var key in source){if(skipKeys&&skipKeys.indexOf(key)>=0)continue;target[key]=source[key]}}if(options instanceof HTMLElement)settings.parent=options;else{if(settings.parent&&options.parent&&settings.parent!==options.parent){settings.parent.removeEventListener("click",this._openProxy,false);this._popupInited=false}transfer(options,settings)}if(options.onChange)this.onChange=options.onChange;if(options.onDone)this.onDone=options.onDone;if(options.onOpen)this.onOpen=options.onOpen;if(options.onClose)this.onClose=options.onClose;var col=options.color||options.colour;if(col)this._setColor(col);if(settings.parent&&settings.popup&&!this._popupInited){addEvent(settings.parent,"click",this._openProxy);this._popupInited=true}else if(options.parent&&!settings.popup)this.show()}},{key:"openHandler",value:function openHandler(e){if(this.show()){this.settings.parent.style.pointerEvents="none";if(this.onOpen)this.onOpen(this.colour)}}},{key:"closeHandler",value:function closeHandler(e){var doHide=false;if(!e)doHide=true;else if(e.type==="mousedown"){if(!this.domElement.contains(e.target))doHide=true}else{e.preventDefault();e.stopPropagation();doHide=true}if(doHide&&this.hide()){this.settings.parent.style.pointerEvents="";if(this.onClose)this.onClose(this.colour)}}},{key:"movePopup",value:function movePopup(options,open){this.closeHandler();this.setOptions(options);if(open)this.openHandler()}},{key:"setColor",value:function setColor(color,silent){this._setColor(color,{silent:silent})}},{key:"_setColor",value:function _setColor(color,flags){var c=new Color(color);if(!this.settings.alpha){var hsla=c.hsla;hsla[3]=1;c.hsla=hsla}this.colour=this.color=c;this._setHSLA(null,null,null,null,flags)}},{key:"setColour",value:function setColour(colour,silent){this.setColor(colour,silent)}},{key:"show",value:function show(){var parent=this.settings.parent;if(!parent)return false;if(this.domElement){var toggled=this._toggleDOM(true);this._setPosition();return toggled}var html=this.settings.template||'\x3cdiv class\x3d"picker_wrapper"\x3e\x3cdiv class\x3d"picker_arrow"\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_hue picker_slider"\x3e\x3cdiv class\x3d"picker_selector"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_sl"\x3e\x3cdiv class\x3d"picker_selector"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_alpha picker_slider"\x3e\x3cdiv class\x3d"picker_selector"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_editor"\x3e\x3cinput/\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_sample"\x3e\x3c/div\x3e\x3cdiv class\x3d"picker_done"\x3e\x3cbutton\x3eOk\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e';var wrapper=parseHTML(html);this.domElement=wrapper;this._domH=wrapper.querySelector(".picker_hue");this._domSL=wrapper.querySelector(".picker_sl");this._domA=wrapper.querySelector(".picker_alpha");this._domEdit=wrapper.querySelector(".picker_editor input");this._domSample=wrapper.querySelector(".picker_sample");this._domOkay=wrapper.querySelector(".picker_done button");wrapper.classList.add("layout_"+this.settings.layout);if(!this.settings.alpha)wrapper.classList.add("no_alpha");if(!this.settings.editor)wrapper.classList.add("no_editor");this._ifPopup(function(){return wrapper.classList.add("popup")});this._setPosition();if(this.colour)this._updateUI();else this._setColor("#0cf");this._bindEvents();return true}},{key:"hide",value:function hide(){return this._toggleDOM(false)}},{key:"_bindEvents",value:function _bindEvents(){var _this2=this;var that=this;function createDragConfig(container,callbackRelative){function relayDrag(_,pos){var relX=pos[0]/container.clientWidth,relY=pos[1]/container.clientHeight;callbackRelative(relX,relY)}var config={container:container,dragOutside:false,callback:relayDrag,callbackClick:relayDrag,callbackDragStart:relayDrag,propagateEvents:true};return config}dragTracker(createDragConfig(this._domH,function(x,y){return that._setHSLA(x)}));dragTracker(createDragConfig(this._domSL,function(x,y){return that._setHSLA(null,x,1-y)}));if(this.settings.alpha)dragTracker(createDragConfig(this._domA,function(x,y){return that._setHSLA(null,null,null,1-y)}));if(this.settings.editor)addEvent(this._domEdit,"input",function(e){var color=this.value;try{new Color(this.value);that._setColor(color,{fromEditor:true})}catch(ex){}});addEvent(window,"mousedown",function(e){return _this2._ifPopup(function(){return _this2.closeHandler(e)})});addEvent(this._domOkay,"click",function(e){_this2._ifPopup(function(){return _this2.closeHandler(e)});if(_this2.onDone)_this2.onDone(_this2.colour)})}},{key:"_setPosition",value:function _setPosition(){var parent=this.settings.parent,elm=this.domElement;if(parent!==elm.parentNode)parent.appendChild(elm);this._ifPopup(function(popup){if(getComputedStyle(parent).position==="static")parent.style.position="relative";var cssClass=popup===true?"popup_right":"popup_"+popup;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(c){if(c===cssClass)elm.classList.add(c);else elm.classList.remove(c)});elm.classList.add(cssClass)})}},{key:"_setHSLA",value:function _setHSLA(h,s,l,a,flags){flags=flags||{};var col=this.colour,hsla=col.hsla;[h,s,l,a].forEach(function(x,i){if(x||x===0)hsla[i]=x});col.hsla=hsla;this._updateUI(flags);if(this.onChange&&!flags.silent)this.onChange(col)}},{key:"_updateUI",value:function _updateUI(flags){if(!this.domElement)return;flags=flags||{};var col=this.colour,hsl=col.hsla,cssHue="hsl("+hsl[0]*HUES+", 100%, 50%)",cssHSL=col.hslString,cssHSLA=col.hslaString;var uiH=this._domH,uiSL=this._domSL,uiA=this._domA;function posX(parent,child,relX){child.style.left=relX*100+"%"}function posY(parent,child,relY){child.style.top=relY*100+"%"}posX(uiH,uiH.firstElementChild,hsl[0]);this._domSL.style.backgroundColor=this._domH.style.color=cssHue;posX(uiSL,uiSL.firstElementChild,hsl[1]);posY(uiSL,uiSL.firstElementChild,1-hsl[2]);uiSL.style.color=cssHSL;posY(uiA,uiA.firstElementChild,1-hsl[3]);var opaque=cssHSL,transp=opaque.replace("hsl","hsla").replace(")",", 0)"),bg="linear-gradient("+[opaque,transp]+")";this._domA.style.backgroundImage=bg+", "+BG_TRANSP;if(!flags.fromEditor){var hex=col.hex;this._domEdit.value=this.settings.alpha?hex:hex.substr(0,7)}this._domSample.style.color=cssHSLA}},{key:"_ifPopup",value:function _ifPopup(actionIf,actionElse){if(this.settings.parent&&this.settings.popup)actionIf&&actionIf(this.settings.popup);else actionElse&&actionElse()}},{key:"_toggleDOM",value:function _toggleDOM(toVisible){var dom=this.domElement;if(!dom)return false;var displayStyle=toVisible?"":"none",toggle=dom.style.display!==displayStyle;if(toggle)dom.style.display=displayStyle;return toggle}}]);return Picker}();return Picker})},function(module,exports,__webpack_require__){var VanillaPicker=__webpack_require__(57);var Highlighter=__webpack_require__(60);var History=__webpack_require__(61);var SearchBox=__webpack_require__(67);var ContextMenu=__webpack_require__(68);var TreePath=__webpack_require__(70);var Node=__webpack_require__(71);var ModeSwitcher=__webpack_require__(80);var util=__webpack_require__(62);var autocomplete=__webpack_require__(81);var showSortModal=__webpack_require__(76);var showTransformModal=__webpack_require__(78);var translate=__webpack_require__(66).translate;var setLanguages=__webpack_require__(66).setLanguages;var setLanguage=__webpack_require__(66).setLanguage;var DEFAULT_MODAL_ANCHOR=document.body;var treemode={};treemode.create=function(container,options){if(!container)throw new Error("No container element provided.");this.container=container;this.dom={};this.highlighter=new Highlighter;this.selection=undefined;this.multiselection={nodes:[]};this.validateSchema=null;this.validationSequence=0;this.errorNodes=[];this.node=null;this.focusTarget=null;this._setOptions(options);if(options.autocomplete)this.autocomplete=new autocomplete(options.autocomplete);if(this.options.history&&this.options.mode!=="view")this.history=new History(this);this._createFrame();this._createTable()};treemode.destroy=function(){if(this.frame&&this.container&&this.frame.parentNode==this.container){this.container.removeChild(this.frame);this.frame=null}this.container=null;this.dom=null;this.clear();this.node=null;this.focusTarget=null;this.selection=null;this.multiselection=null;this.errorNodes=null;this.validateSchema=null;this._debouncedValidate=null;if(this.history){this.history.destroy();this.history=null}if(this.searchBox){this.searchBox.destroy();this.searchBox=null}if(this.modeSwitcher){this.modeSwitcher.destroy();this.modeSwitcher=null}};treemode._setOptions=function(options){this.options={search:true,history:true,mode:"tree",name:undefined,schema:null,schemaRefs:null,autocomplete:null,navigationBar:true,mainMenuBar:true,onSelectionChange:null,colorPicker:true,onColorPicker:function(parent,color,onChange){if(VanillaPicker)(new VanillaPicker({parent:parent,color:color,popup:"bottom",onDone:function(color){var alpha=color.rgba[3];var hex=alpha===1?color.hex.substr(0,7):color.hex;onChange(hex)}})).show();else console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. "+"Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:true,onEvent:null,enableSort:true,enableTransform:true};if(options)for(var prop in options)if(options.hasOwnProperty(prop))this.options[prop]=options[prop];this.setSchema(this.options.schema,this.options.schemaRefs);this._debouncedValidate=util.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL);if(options.onSelectionChange)this.onSelectionChange(options.onSelectionChange);setLanguages(this.options.languages);setLanguage(this.options.language)};treemode.set=function(json){if(json instanceof Function||json===undefined)this.clear();else{this.content.removeChild(this.table);var params={field:this.options.name,value:json};var node=new Node(this,params);this._setRoot(node);this.validate();var recurse=false;this.node.expand(recurse);this.content.appendChild(this.table)}if(this.history)this.history.clear();if(this.searchBox)this.searchBox.clear()};treemode.update=function(json){if(this.node.deepEqual(json))return;var selection=this.getSelection();this.onChangeDisabled=true;this.node.update(json);this.onChangeDisabled=false;this.validate();if(this.searchBox&&!this.searchBox.isEmpty())this.searchBox.forceSearch();if(selection&&selection.start&&selection.end){var startNode=this.node.findNodeByPath(selection.start.path);var endNode=this.node.findNodeByPath(selection.end.path);if(startNode&&endNode)this.setSelection(selection.start,selection.end);else this.setSelection({},{})}else this.setSelection({},{})};treemode.get=function(){if(this.node)return this.node.getValue();else return undefined};treemode.getText=function(){return JSON.stringify(this.get())};treemode.setText=function(jsonText){try{this.set(util.parse(jsonText))}catch(err){var sanitizedJsonText=util.sanitize(jsonText);this.set(util.parse(sanitizedJsonText))}};treemode.updateText=function(jsonText){try{this.update(util.parse(jsonText))}catch(err){var sanitizedJsonText=util.sanitize(jsonText);this.update(util.parse(sanitizedJsonText))}};treemode.setName=function(name){this.options.name=name;if(this.node)this.node.updateField(this.options.name)};treemode.getName=function(){return this.options.name};treemode.focus=function(){var input=this.scrollableContent.querySelector("[contenteditable\x3dtrue]");if(input)input.focus();else if(this.node.dom.expand)this.node.dom.expand.focus();else if(this.node.dom.menu)this.node.dom.menu.focus();else{input=this.frame.querySelector("button");if(input)input.focus()}};treemode.clear=function(){if(this.node){this.node.hide();delete this.node}if(this.treePath)this.treePath.reset()};treemode._setRoot=function(node){this.clear();this.node=node;this.tbody.appendChild(node.getDom())};treemode.search=function(text){var results;if(this.node){this.content.removeChild(this.table);results=this.node.search(text);this.content.appendChild(this.table)}else results=[];return results};treemode.expandAll=function(){if(this.node){this.content.removeChild(this.table);this.node.expand();this.content.appendChild(this.table)}};treemode.collapseAll=function(){if(this.node){this.content.removeChild(this.table);this.node.collapse();this.content.appendChild(this.table)}};treemode._onAction=function(action,params){if(this.history)this.history.add(action,params);this._onChange()};treemode._onChange=function(){if(this.onChangeDisabled)return;this.selection=this.getDomSelection();this._debouncedValidate();if(this.treePath){var selectedNode=this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:undefined;if(selectedNode)this._updateTreePath(selectedNode.getNodePath());else this.treePath.reset()}if(this.options.onChange)try{this.options.onChange()}catch(err){console.error("Error in onChange callback: ",err)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(err$9){console.error("Error in onChangeJSON callback: ",err$9)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(err$10){console.error("Error in onChangeText callback: ",err$10)}if(this.options.onClassName)this.node.recursivelyUpdateCssClassesOnNodes();if(this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(err$11){console.error("Error in onNodeName callback: ",err$11)}};treemode.validate=function(){var root=this.node;if(!root)return;var json=root.getValue();var schemaErrors=[];if(this.validateSchema){var valid=this.validateSchema(json);if(!valid)schemaErrors=this.validateSchema.errors.map(function(error){return util.improveSchemaError(error)}).map(function findNode(error){return{node:root.findNode(error.dataPath),error:error}}).filter(function hasNode(entry){return entry.node!=null})}try{this.validationSequence++;var me=this;var seq=this.validationSequence;this._validateCustom(json).then(function(customValidationErrors){if(seq===me.validationSequence){var errorNodes=[].concat(schemaErrors,customValidationErrors||[]);me._renderValidationErrors(errorNodes)}}).catch(function(err){console.error(err)})}catch(err){console.error(err)}};treemode._renderValidationErrors=function(errorNodes){if(this.errorNodes)this.errorNodes.forEach(function(node){node.setError(null)});var parentPairs=errorNodes.reduce(function(all,entry){return entry.node.findParents().filter(function(parent){return!all.some(function(pair){return pair[0]===parent})}).map(function(parent){return[parent,entry.node]}).concat(all)},[]);this.errorNodes=parentPairs.map(function(pair){return{node:pair[0],child:pair[1],error:{message:pair[0].type==="object"?"Contains invalid properties":"Contains invalid items"}}}).concat(errorNodes).map(function setError(entry){entry.node.setError(entry.error,entry.child);return entry.node})};treemode._validateCustom=function(json){try{if(this.options.onValidate){var root=this.node;var customValidateResults=this.options.onValidate(json);var resultPromise=util.isPromise(customValidateResults)?customValidateResults:Promise.resolve(customValidateResults);return resultPromise.then(function(customValidationPathErrors){if(Array.isArray(customValidationPathErrors))return customValidationPathErrors.filter(function(error){var valid=util.isValidValidationError(error);if(!valid)console.warn("Ignoring a custom validation error with invalid structure. "+'Expected structure: {path: [...], message: "..."}. '+"Actual error:",error);return valid}).map(function(error){var node;try{node=error&&error.path?root.findNodeByPath(error.path):null}catch(err){}if(!node)console.warn("Ignoring validation error: node not found. Path:",error.path,"Error:",error);return{node:node,error:error}}).filter(function(entry){return entry&&entry.node&&entry.error&&entry.error.message});else return null})}}catch(err){return Promise.reject(err)}return Promise.resolve(null)};treemode.refresh=function(){if(this.node)this.node.updateDom({recurse:true})};treemode.startAutoScroll=function(mouseY){var me=this;var content=this.scrollableContent;var top=util.getAbsoluteTop(content);var height=content.clientHeight;var bottom=top+height;var margin=24;var interval=50;if(mouseY<top+margin&&content.scrollTop>0)this.autoScrollStep=(top+margin-mouseY)/3;else if(mouseY>bottom-margin&&height+content.scrollTop<content.scrollHeight)this.autoScrollStep=(bottom-margin-mouseY)/3;else this.autoScrollStep=undefined;if(this.autoScrollStep){if(!this.autoScrollTimer)this.autoScrollTimer=setInterval(function(){if(me.autoScrollStep)content.scrollTop-=me.autoScrollStep;else me.stopAutoScroll()},interval)}else this.stopAutoScroll()};treemode.stopAutoScroll=function(){if(this.autoScrollTimer){clearTimeout(this.autoScrollTimer);delete this.autoScrollTimer}if(this.autoScrollStep)delete this.autoScrollStep};treemode.setDomSelection=function(selection){if(!selection)return;if("scrollTop"in selection&&this.scrollableContent)this.scrollableContent.scrollTop=selection.scrollTop;if(selection.paths){var me=this;var nodes=selection.paths.map(function(path){return me.node.findNodeByInternalPath(path)});this.select(nodes)}else{var node=selection.path?this.node.findNodeByInternalPath(selection.path):null;var container=node&&selection.domName?node.dom[selection.domName]:null;if(selection.range&&container){var range=Object.assign({},selection.range,{container:container});util.setSelectionOffset(range)}else if(node)node.focus()}};treemode.getDomSelection=function(){var node=Node.getNodeFromTarget(this.focusTarget);var focusTarget=this.focusTarget;var domName=node?Object.keys(node.dom).find(function(domName){return node.dom[domName]===focusTarget}):null;var range=util.getSelectionOffset();if(range&&range.container.nodeName!=="DIV")range=null;if(range&&range.container!==focusTarget)range=null;if(range)delete range.container;return{path:node?node.getInternalPath():null,domName:domName,range:range,paths:this.multiselection.length>0?this.multiselection.nodes.map(function(node){return node.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}};treemode.scrollTo=function(top,callback){var content=this.scrollableContent;if(content){var editor=this;if(editor.animateTimeout){clearTimeout(editor.animateTimeout);delete editor.animateTimeout}if(editor.animateCallback){editor.animateCallback(false);delete editor.animateCallback}var height=content.clientHeight;var bottom=content.scrollHeight-height;var finalScrollTop=Math.min(Math.max(top-height/4,0),bottom);var animate=function(){var scrollTop=content.scrollTop;var diff=finalScrollTop-scrollTop;if(Math.abs(diff)>3){content.scrollTop+=diff/3;editor.animateCallback=callback;editor.animateTimeout=setTimeout(animate,50)}else{if(callback)callback(true);content.scrollTop=finalScrollTop;delete editor.animateTimeout;delete editor.animateCallback}};animate()}else if(callback)callback(false)};treemode._createFrame=function(){this.frame=document.createElement("div");this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode;this.container.appendChild(this.frame);this.contentOuter=document.createElement("div");this.contentOuter.className="jsoneditor-outer";var editor=this;function onEvent(event){if(editor._onEvent)editor._onEvent(event)}this.frame.onclick=function(event){var target=event.target;onEvent(event);if(target.nodeName=="BUTTON")event.preventDefault()};this.frame.oninput=onEvent;this.frame.onchange=onEvent;this.frame.onkeydown=onEvent;this.frame.onkeyup=onEvent;this.frame.oncut=onEvent;this.frame.onpaste=onEvent;this.frame.onmousedown=onEvent;this.frame.onmouseup=onEvent;this.frame.onmouseover=onEvent;this.frame.onmouseout=onEvent;util.addEventListener(this.frame,"focus",onEvent,true);util.addEventListener(this.frame,"blur",onEvent,true);this.frame.onfocusin=onEvent;this.frame.onfocusout=onEvent;if(this.options.mainMenuBar){util.addClassName(this.contentOuter,"has-main-menu-bar");this.menu=document.createElement("div");this.menu.className="jsoneditor-menu";this.frame.appendChild(this.menu);var expandAll=document.createElement("button");expandAll.type="button";expandAll.className="jsoneditor-expand-all";expandAll.title=translate("expandAll");expandAll.onclick=function(){editor.expandAll()};this.menu.appendChild(expandAll);var collapseAll=document.createElement("button");collapseAll.type="button";collapseAll.title=translate("collapseAll");collapseAll.className="jsoneditor-collapse-all";collapseAll.onclick=function(){editor.collapseAll()};this.menu.appendChild(collapseAll);if(this.options.enableSort){var sort=document.createElement("button");sort.type="button";sort.className="jsoneditor-sort";sort.title=translate("sortTitleShort");sort.onclick=function(){var anchor=editor.options.modalAnchor||DEFAULT_MODAL_ANCHOR;showSortModal(editor.node,anchor)};this.menu.appendChild(sort)}if(this.options.enableTransform){var transform=document.createElement("button");transform.type="button";transform.title=translate("transformTitleShort");transform.className="jsoneditor-transform";transform.onclick=function(){var anchor=editor.options.modalAnchor||DEFAULT_MODAL_ANCHOR;showTransformModal(editor.node,anchor)};this.menu.appendChild(transform)}if(this.history){var undo=document.createElement("button");undo.type="button";undo.className="jsoneditor-undo jsoneditor-separator";undo.title=translate("undo");undo.onclick=function(){editor._onUndo()};this.menu.appendChild(undo);this.dom.undo=undo;var redo=document.createElement("button");redo.type="button";redo.className="jsoneditor-redo";redo.title=translate("redo");redo.onclick=function(){editor._onRedo()};this.menu.appendChild(redo);this.dom.redo=redo;this.history.onChange=function(){undo.disabled=!editor.history.canUndo();redo.disabled=!editor.history.canRedo()};this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var me=this;this.modeSwitcher=new ModeSwitcher(this.menu,this.options.modes,this.options.mode,function onSwitch(mode){me.setMode(mode);me.modeSwitcher.focus()})}if(this.options.search)this.searchBox=new SearchBox(this,this.menu)}if(this.options.navigationBar){this.navBar=document.createElement("div");this.navBar.className="jsoneditor-navigation-bar nav-bar-empty";this.frame.appendChild(this.navBar);this.treePath=new TreePath(this.navBar,this.frame);this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this));this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this))}};treemode._onUndo=function(){if(this.history){this.history.undo();this._onChange()}};treemode._onRedo=function(){if(this.history){this.history.redo();this._onChange()}};treemode._onEvent=function(event){if(Node.targetIsColorPicker(event.target))return;if(event.type==="keydown")this._onKeyDown(event);if(event.type==="focus")this.focusTarget=event.target;if(event.type==="mousedown")this._startDragDistance(event);if(event.type==="mousemove"||event.type==="mouseup"||event.type==="click")this._updateDragDistance(event);var node=Node.getNodeFromTarget(event.target);if(node&&this.options&&this.options.navigationBar&&node&&(event.type==="keydown"||event.type==="mousedown")){var me=this;setTimeout(function(){me._updateTreePath(node.getNodePath())})}if(node&&node.selected){if(event.type==="click"){if(event.target===node.dom.menu){this.showContextMenu(event.target);return}if(!event.hasMoved)this.deselect()}if(event.type==="mousedown")Node.onDragStart(this.multiselection.nodes,event)}else if(event.type==="mousedown"&&util.hasParentNode(event.target,this.content)){this.deselect();if(node&&event.target===node.dom.drag)Node.onDragStart(node,event);else if(!node||event.target!==node.dom.field&&event.target!==node.dom.value&&event.target!==node.dom.select)this._onMultiSelectStart(event)}if(node)node.onEvent(event)};treemode._updateTreePath=function(pathNodes){if(pathNodes&&pathNodes.length){util.removeClassName(this.navBar,"nav-bar-empty");var pathObjs=[];pathNodes.forEach(function(node){var pathObj={name:getName(node),node:node,children:[]};if(node.childs&&node.childs.length)node.childs.forEach(function(childNode){pathObj.children.push({name:getName(childNode),node:childNode})});pathObjs.push(pathObj)});this.treePath.setPath(pathObjs)}else util.addClassName(this.navBar,"nav-bar-empty");function getName(node){return node.parent?node.parent.type==="array"?node.index:node.field:node.type}};treemode._onTreePathSectionSelected=function(pathObj){if(pathObj&&pathObj.node){pathObj.node.expandTo();pathObj.node.focus()}};treemode._onTreePathMenuItemSelected=function(pathObj,selection){if(pathObj&&pathObj.children.length){var selectionObj=pathObj.children.find(function(obj){return obj.name===selection});if(selectionObj&&selectionObj.node){this._updateTreePath(selectionObj.node.getNodePath());selectionObj.node.expandTo();selectionObj.node.focus()}}};treemode._startDragDistance=function(event){this.dragDistanceEvent={initialTarget:event.target,initialPageX:event.pageX,initialPageY:event.pageY,dragDistance:0,hasMoved:false}};treemode._updateDragDistance=function(event){if(!this.dragDistanceEvent)this._startDragDistance(event);var diffX=event.pageX-this.dragDistanceEvent.initialPageX;var diffY=event.pageY-this.dragDistanceEvent.initialPageY;this.dragDistanceEvent.dragDistance=Math.sqrt(diffX*diffX+diffY*diffY);this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10;event.dragDistance=this.dragDistanceEvent.dragDistance;event.hasMoved=this.dragDistanceEvent.hasMoved;return event.dragDistance};treemode._onMultiSelectStart=function(event){var node=Node.getNodeFromTarget(event.target);if(this.options.mode!=="tree"||this.options.onEditable!==undefined)return;this.multiselection={start:node||null,end:null,nodes:[]};this._startDragDistance(event);var editor=this;if(!this.mousemove)this.mousemove=util.addEventListener(window,"mousemove",function(event){editor._onMultiSelect(event)});if(!this.mouseup)this.mouseup=util.addEventListener(window,"mouseup",function(event){editor._onMultiSelectEnd(event)});event.preventDefault()};treemode._onMultiSelect=function(event){event.preventDefault();this._updateDragDistance(event);if(!event.hasMoved)return;var node=Node.getNodeFromTarget(event.target);if(node){if(this.multiselection.start==null)this.multiselection.start=node;this.multiselection.end=node}this.deselect();var start=this.multiselection.start;var end=this.multiselection.end||this.multiselection.start;if(start&&end){this.multiselection.nodes=this._findTopLevelNodes(start,end);if(this.multiselection.nodes&&this.multiselection.nodes.length){var firstNode=this.multiselection.nodes[0];if(this.multiselection.start===firstNode||this.multiselection.start.isDescendantOf(firstNode))this.multiselection.direction="down";else this.multiselection.direction="up"}this.select(this.multiselection.nodes)}};treemode._onMultiSelectEnd=function(){if(this.multiselection.nodes[0])this.multiselection.nodes[0].dom.menu.focus();this.multiselection.start=null;this.multiselection.end=null;if(this.mousemove){util.removeEventListener(window,"mousemove",this.mousemove);delete this.mousemove}if(this.mouseup){util.removeEventListener(window,"mouseup",this.mouseup);delete this.mouseup}};treemode.deselect=function(clearStartAndEnd){var selectionChanged=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(node){node.setSelected(false)});this.multiselection.nodes=[];if(clearStartAndEnd){this.multiselection.start=null;this.multiselection.end=null}if(selectionChanged)if(this._selectionChangedHandler)this._selectionChangedHandler()};treemode.select=function(nodes){if(!Array.isArray(nodes))return this.select([nodes]);if(nodes){this.deselect();this.multiselection.nodes=nodes.slice(0);var first=nodes[0];nodes.forEach(function(node){node.expandPathToNode();node.setSelected(true,node===first)});if(this._selectionChangedHandler){var selection=this.getSelection();this._selectionChangedHandler(selection.start,selection.end)}}};treemode._findTopLevelNodes=function(start,end){var startPath=start.getNodePath();var endPath=end.getNodePath();var i=0;while(i<startPath.length&&startPath[i]===endPath[i])i++;var root=startPath[i-1];var startChild=startPath[i];var endChild=endPath[i];if(!startChild||!endChild)if(root.parent){startChild=root;endChild=root;root=root.parent}else{startChild=root.childs[0];endChild=root.childs[root.childs.length-1]}if(root&&startChild&&endChild){var startIndex=root.childs.indexOf(startChild);var endIndex=root.childs.indexOf(endChild);var firstIndex=Math.min(startIndex,endIndex);var lastIndex=Math.max(startIndex,endIndex);return root.childs.slice(firstIndex,lastIndex+1)}else return[]};treemode._onKeyDown=function(event){var keynum=event.which||event.keyCode;var altKey=event.altKey;var ctrlKey=event.ctrlKey;var metaKey=event.metaKey;var shiftKey=event.shiftKey;var handled=false;if(keynum==9){var me=this;setTimeout(function(){util.selectContentEditable(me.focusTarget)},0)}if(this.searchBox)if(ctrlKey&&keynum==70){this.searchBox.dom.search.focus();this.searchBox.dom.search.select();handled=true}else if(keynum==114||ctrlKey&&keynum==71){var focus=true;if(!shiftKey)this.searchBox.next(focus);else this.searchBox.previous(focus);handled=true}if(this.history)if(ctrlKey&&!shiftKey&&keynum==90){this._onUndo();handled=true}else if(ctrlKey&&shiftKey&&keynum==90){this._onRedo();handled=true}if(this.options.autocomplete&&!handled)if(!ctrlKey&&!altKey&&!metaKey&&(event.key.length==1||keynum==8||keynum==46)){handled=false;var jsonElementType="";if(event.target.className.indexOf("jsoneditor-value")>=0)jsonElementType="value";if(event.target.className.indexOf("jsoneditor-field")>=0)jsonElementType="field";var node=Node.getNodeFromTarget(event.target);setTimeout(function(hnode,element){if(element.innerText.length>0){var result=this.options.autocomplete.getOptions(element.innerText,hnode.getPath(),jsonElementType,hnode.editor);if(result===null)this.autocomplete.hideDropDown();else if(typeof result.then==="function"){if(result.then(function(obj){if(obj===null)this.autocomplete.hideDropDown();else if(obj.options)this.autocomplete.show(element,obj.startFrom,obj.options);else this.autocomplete.show(element,0,obj)}.bind(this)));}else if(result.options)this.autocomplete.show(element,result.startFrom,result.options);else this.autocomplete.show(element,0,result)}else this.autocomplete.hideDropDown()}.bind(this,node,event.target),50)}if(handled){event.preventDefault();event.stopPropagation()}};treemode._createTable=function(){if(this.options.navigationBar)util.addClassName(this.contentOuter,"has-nav-bar");this.scrollableContent=document.createElement("div");this.scrollableContent.className="jsoneditor-tree";this.contentOuter.appendChild(this.scrollableContent);this.content=document.createElement("div");this.content.className="jsoneditor-tree-inner";this.scrollableContent.appendChild(this.content);this.table=document.createElement("table");this.table.className="jsoneditor-tree";this.content.appendChild(this.table);var col;this.colgroupContent=document.createElement("colgroup");if(this.options.mode==="tree"){col=document.createElement("col");col.width="24px";this.colgroupContent.appendChild(col)}col=document.createElement("col");col.width="24px";this.colgroupContent.appendChild(col);col=document.createElement("col");this.colgroupContent.appendChild(col);this.table.appendChild(this.colgroupContent);this.tbody=document.createElement("tbody");this.table.appendChild(this.tbody);this.frame.appendChild(this.contentOuter)};treemode.showContextMenu=function(anchor,onClose){var items=[];var selectedNodes=this.multiselection.nodes.slice();items.push({text:translate("duplicateText"),title:translate("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){Node.onDuplicate(selectedNodes)}});items.push({text:translate("remove"),title:translate("removeTitle"),className:"jsoneditor-remove",click:function(){Node.onRemove(selectedNodes)}});if(this.editor.options.onCreateMenu)items=this.editor.options.onCreateMenu(items,{path:node.getPath()});var menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.frame)};treemode.getSelection=function(){var selection={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length)if(this.multiselection.nodes.length){var selection1=this.multiselection.nodes[0];var selection2=this.multiselection.nodes[this.multiselection.nodes.length-1];if(this.multiselection.direction==="down"){selection.start=selection1.serialize();selection.end=selection2.serialize()}else{selection.start=selection2.serialize();selection.end=selection1.serialize()}}return selection};treemode.onSelectionChange=function(callback){if(typeof callback==="function")this._selectionChangedHandler=util.debounce(callback,this.DEBOUNCE_INTERVAL)};treemode.setSelection=function(start,end){if(start&&start.dom&&start.range){console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options");this.setDomSelection(start)}var nodes=this._getNodeInstancesByRange(start,end);nodes.forEach(function(node){node.expandTo()});this.select(nodes)};treemode._getNodeInstancesByRange=function(start,end){var startNode,endNode;if(start&&start.path){startNode=this.node.findNodeByPath(start.path);if(end&&end.path)endNode=this.node.findNodeByPath(end.path)}var nodes=[];if(startNode instanceof Node)if(endNode instanceof Node&&endNode!==startNode)if(startNode.parent===endNode.parent){var start,end;if(startNode.getIndex()<endNode.getIndex()){start=startNode;end=endNode}else{start=endNode;end=startNode}var current=start;nodes.push(current);do{current=current.nextSibling();nodes.push(current)}while(current&&current!==end)}else nodes=this._findTopLevelNodes(startNode,endNode);else nodes.push(startNode);return nodes};treemode.getNodesByRange=function(start,end){var nodes=this._getNodeInstancesByRange(start,end);var serializableNodes=[];nodes.forEach(function(node){serializableNodes.push(node.serialize())});return serializableNodes};module.exports=[{mode:"tree",mixin:treemode,data:"json"},{mode:"view",mixin:treemode,data:"json"},{mode:"form",mixin:treemode,data:"json"}]},function(module,exports){function Highlighter(){this.locked=false}Highlighter.prototype.highlight=function(node){if(this.locked)return;if(this.node!=node){if(this.node)this.node.setHighlight(false);this.node=node;this.node.setHighlight(true)}this._cancelUnhighlight()};Highlighter.prototype.unhighlight=function(){if(this.locked)return;var me=this;if(this.node){this._cancelUnhighlight();this.unhighlightTimer=setTimeout(function(){me.node.setHighlight(false);me.node=undefined;me.unhighlightTimer=undefined},0)}};Highlighter.prototype._cancelUnhighlight=function(){if(this.unhighlightTimer){clearTimeout(this.unhighlightTimer);this.unhighlightTimer=undefined}};Highlighter.prototype.lock=function(){this.locked=true};Highlighter.prototype.unlock=function(){this.locked=false};module.exports=Highlighter},function(module,exports,__webpack_require__){var util=__webpack_require__(62);function History(editor){this.editor=editor;this.history=[];this.index=-1;this.clear();function findNode(path){return editor.node.findNodeByInternalPath(path)}this.actions={"editField":{"undo":function(params){var parentNode=findNode(params.parentPath);var node=parentNode.childs[params.index];node.updateField(params.oldValue)},"redo":function(params){var parentNode=findNode(params.parentPath);var node=parentNode.childs[params.index];node.updateField(params.newValue)}},"editValue":{"undo":function(params){findNode(params.path).updateValue(params.oldValue)},"redo":function(params){findNode(params.path).updateValue(params.newValue)}},"changeType":{"undo":function(params){findNode(params.path).changeType(params.oldType)},"redo":function(params){findNode(params.path).changeType(params.newType)}},"appendNodes":{"undo":function(params){var parentNode=findNode(params.parentPath);params.paths.map(findNode).forEach(function(node){parentNode.removeChild(node)})},"redo":function(params){var parentNode=findNode(params.parentPath);params.nodes.forEach(function(node){parentNode.appendChild(node)})}},"insertBeforeNodes":{"undo":function(params){var parentNode=findNode(params.parentPath);params.paths.map(findNode).forEach(function(node){parentNode.removeChild(node)})},"redo":function(params){var parentNode=findNode(params.parentPath);var beforeNode=findNode(params.beforePath);params.nodes.forEach(function(node){parentNode.insertBefore(node,beforeNode)})}},"insertAfterNodes":{"undo":function(params){var parentNode=findNode(params.parentPath);params.paths.map(findNode).forEach(function(node){parentNode.removeChild(node)})},"redo":function(params){var parentNode=findNode(params.parentPath);var afterNode=findNode(params.afterPath);params.nodes.forEach(function(node){parentNode.insertAfter(node,afterNode);afterNode=node})}},"removeNodes":{"undo":function(params){var parentNode=findNode(params.parentPath);var beforeNode=parentNode.childs[params.index]||parentNode.append;params.nodes.forEach(function(node){parentNode.insertBefore(node,beforeNode)})},"redo":function(params){var parentNode=findNode(params.parentPath);params.paths.map(findNode).forEach(function(node){parentNode.removeChild(node)})}},"duplicateNodes":{"undo":function(params){var parentNode=findNode(params.parentPath);params.clonePaths.map(findNode).forEach(function(node){parentNode.removeChild(node)})},"redo":function(params){var parentNode=findNode(params.parentPath);var afterNode=findNode(params.afterPath);var nodes=params.paths.map(findNode);nodes.forEach(function(node){var clone=node.clone();if(parentNode.type==="object"){var existingFieldNames=parentNode.getFieldNames();clone.field=util.findUniqueName(node.field,existingFieldNames)}parentNode.insertAfter(clone,afterNode);afterNode=clone})}},"moveNodes":{"undo":function(params){var oldParentNode=findNode(params.oldParentPath);var newParentNode=findNode(params.newParentPath);var oldBeforeNode=oldParentNode.childs[params.oldIndex]||oldParentNode.append;var nodes=newParentNode.childs.slice(params.newIndex,params.newIndex+params.count);nodes.forEach(function(node,index){node.field=params.fieldNames[index];oldParentNode.moveBefore(node,oldBeforeNode)});if(params.newParentPathRedo===null)params.newParentPathRedo=newParentNode.getInternalPath()},"redo":function(params){var oldParentNode=findNode(params.oldParentPathRedo);var newParentNode=findNode(params.newParentPathRedo);var newBeforeNode=newParentNode.childs[params.newIndexRedo]||newParentNode.append;var nodes=oldParentNode.childs.slice(params.oldIndexRedo,params.oldIndexRedo+params.count);nodes.forEach(function(node,index){node.field=params.fieldNames[index];newParentNode.moveBefore(node,newBeforeNode)})}},"sort":{"undo":function(params){var node=findNode(params.path);node.hideChilds();node.childs=params.oldChilds;node.updateDom({updateIndexes:true});node.showChilds()},"redo":function(params){var node=findNode(params.path);node.hideChilds();node.childs=params.newChilds;node.updateDom({updateIndexes:true});node.showChilds()}},"transform":{"undo":function(params){findNode(params.path).setInternalValue(params.oldValue)},"redo":function(params){findNode(params.path).setInternalValue(params.newValue)}}}}History.prototype.onChange=function(){};History.prototype.add=function(action,params){this.index++;this.history[this.index]={"action":action,"params":params,"timestamp":new Date};if(this.index<this.history.length-1)this.history.splice(this.index+1,this.history.length-this.index-1);this.onChange()};History.prototype.clear=function(){this.history=[];this.index=-1;this.onChange()};History.prototype.canUndo=function(){return this.index>=0};History.prototype.canRedo=function(){return this.index<this.history.length-1};History.prototype.undo=function(){if(this.canUndo()){var obj=this.history[this.index];if(obj){var action=this.actions[obj.action];if(action&&action.undo){action.undo(obj.params);if(obj.params.oldSelection)try{this.editor.setDomSelection(obj.params.oldSelection)}catch(err){console.error(err)}}else console.error(new Error('unknown action "'+obj.action+'"'))}this.index--;this.onChange()}};History.prototype.redo=function(){if(this.canRedo()){this.index++;var obj=this.history[this.index];if(obj){var action=this.actions[obj.action];if(action&&action.redo){action.redo(obj.params);if(obj.params.newSelection)try{this.editor.setDomSelection(obj.params.newSelection)}catch(err){console.error(err)}}else console.error(new Error('unknown action "'+obj.action+'"'))}this.onChange()}};History.prototype.destroy=function(){this.editor=null;this.history=[];this.index=-1};module.exports=History},function(module,exports,__webpack_require__){__webpack_require__(63);var jsonlint=__webpack_require__(64);var jsonMap=__webpack_require__(65);var translate=__webpack_require__(66).translate;exports.parse=function parse(jsonString){try{return JSON.parse(jsonString)}catch(err){exports.validate(jsonString);throw err;}};exports.sanitize=function(jsString){var chars=[];var i=0;var match=jsString.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);if(match)jsString=match[3];var controlChars={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};var quote="'";var quoteDbl='"';var quoteLeft="\u2018";var quoteRight="\u2019";var quoteDblLeft="\u201c";var quoteDblRight="\u201d";var graveAccent="`";var acuteAccent="\u00b4";function curr(){return jsString.charAt(i)}function next(){return jsString.charAt(i+1)}function prev(){return jsString.charAt(i-1)}function isWhiteSpace(c){return c===" "||c==="\n"||c==="\r"||c==="\t"}function lastNonWhitespace(){var p=chars.length-1;while(p>=0){var pp=chars[p];if(!isWhiteSpace(pp))return pp;p--}return""}function nextNonWhiteSpace(){var iNext=i+1;while(iNext<jsString.length&&isWhiteSpace(jsString[iNext]))iNext++;return jsString[iNext]}function skipBlockComment(){i+=2;while(i<jsString.length&&(curr()!=="*"||next()!=="/"))i++;i+=2}function skipComment(){i+=2;while(i<jsString.length&&curr()!=="\n")i++}function parseString(endQuote){chars.push('"');i++;var c=curr();while(i<jsString.length&&c!==endQuote){if(c==='"'&&prev()!=="\\")chars.push('\\"');else if(controlChars.hasOwnProperty(c))chars.push(controlChars[c]);else if(c==="\\"){i++;c=curr();if(c!=="'")chars.push("\\");chars.push(c)}else chars.push(c);i++;c=curr()}if(c===endQuote){chars.push('"');i++}}function parseKey(){var specialValues=["null","true","false"];var key="";var c=curr();var regexp=/[a-zA-Z_$\d]/;while(regexp.test(c)){key+=c;i++;c=curr()}if(specialValues.indexOf(key)===-1)chars.push('"'+key+'"');else chars.push(key)}while(i<jsString.length){var c=curr();if(c==="/"&&next()==="*")skipBlockComment();else if(c==="/"&&next()==="/")skipComment();else if(c==="\u00a0"||c>="\u2000"&&c<="\u200a"||c==="\u202f"||c==="\u205f"||c==="\u3000"){chars.push(" ");i++}else if(c===quote)parseString(quote);else if(c===quoteDbl)parseString(quoteDbl);else if(c===graveAccent)parseString(acuteAccent);else if(c===quoteLeft)parseString(quoteRight);else if(c===quoteDblLeft)parseString(quoteDblRight);else if(c===","&&["]","}"].indexOf(nextNonWhiteSpace())!==-1)i++;else if(/[a-zA-Z_$]/.test(c)&&["{",","].indexOf(lastNonWhitespace())!==-1)parseKey();else{chars.push(c);i++}}return chars.join("")};exports.escapeUnicodeChars=function(text){return text.replace(/[\u007F-\uFFFF]/g,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})};exports.validate=function validate(jsonString){if(typeof jsonlint!="undefined")jsonlint.parse(jsonString);else JSON.parse(jsonString)};exports.extend=function extend(a,b){for(var prop in b)if(b.hasOwnProperty(prop))a[prop]=b[prop];return a};exports.clear=function clear(a){for(var prop in a)if(a.hasOwnProperty(prop))delete a[prop];return a};exports.type=function type(object){if(object===null)return"null";if(object===undefined)return"undefined";if(object instanceof Number||typeof object==="number")return"number";if(object instanceof String||typeof object==="string")return"string";if(object instanceof Boolean||typeof object==="boolean")return"boolean";if(object instanceof RegExp||typeof object==="regexp")return"regexp";if(exports.isArray(object))return"array";return"object"};var isUrlRegex=/^https?:\/\/\S+$/;exports.isUrl=function isUrl(text){return(typeof text=="string"||text instanceof String)&&isUrlRegex.test(text)};exports.isArray=function(obj){return Object.prototype.toString.call(obj)==="[object Array]"};exports.getAbsoluteLeft=function getAbsoluteLeft(elem){var rect=elem.getBoundingClientRect();return rect.left+window.pageXOffset||document.scrollLeft||0};exports.getAbsoluteTop=function getAbsoluteTop(elem){var rect=elem.getBoundingClientRect();return rect.top+window.pageYOffset||document.scrollTop||0};exports.addClassName=function addClassName(elem,className){var classes=elem.className.split(" ");if(classes.indexOf(className)==-1){classes.push(className);elem.className=classes.join(" ")}};exports.removeAllClassNames=function removeAllClassNames(elem){elem.className=""};exports.removeClassName=function removeClassName(elem,className){var classes=elem.className.split(" ");var index=classes.indexOf(className);if(index!=-1){classes.splice(index,1);elem.className=classes.join(" ")}};exports.stripFormatting=function stripFormatting(divElement){var childs=divElement.childNodes;for(var i=0,iMax=childs.length;i<iMax;i++){var child=childs[i];if(child.style)child.removeAttribute("style");var attributes=child.attributes;if(attributes)for(var j=attributes.length-1;j>=0;j--){var attribute=attributes[j];if(attribute.specified===true)child.removeAttribute(attribute.name)}exports.stripFormatting(child)}};exports.setEndOfContentEditable=function setEndOfContentEditable(contentEditableElement){var range,selection;if(document.createRange){range=document.createRange();range.selectNodeContents(contentEditableElement);range.collapse(false);selection=window.getSelection();selection.removeAllRanges();selection.addRange(range)}};exports.selectContentEditable=function selectContentEditable(contentEditableElement){if(!contentEditableElement||contentEditableElement.nodeName!="DIV")return;var sel,range;if(window.getSelection&&document.createRange){range=document.createRange();range.selectNodeContents(contentEditableElement);sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}};exports.getSelection=function getSelection(){if(window.getSelection){var sel=window.getSelection();if(sel.getRangeAt&&sel.rangeCount)return sel.getRangeAt(0)}return null};exports.setSelection=function setSelection(range){if(range)if(window.getSelection){var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range)}};exports.getSelectionOffset=function getSelectionOffset(){var range=exports.getSelection();if(range&&"startOffset"in range&&"endOffset"in range&&range.startContainer&&range.startContainer==range.endContainer)return{startOffset:range.startOffset,endOffset:range.endOffset,container:range.startContainer.parentNode};return null};exports.setSelectionOffset=function setSelectionOffset(params){if(document.createRange&&window.getSelection){var selection=window.getSelection();if(selection){var range=document.createRange();if(!params.container.firstChild)params.container.appendChild(document.createTextNode(""));range.setStart(params.container.firstChild,params.startOffset);range.setEnd(params.container.firstChild,params.endOffset);exports.setSelection(range)}}};exports.getInnerText=function getInnerText(element,buffer){var first=buffer==undefined;if(first)buffer={"text":"","flush":function(){var text=this.text;this.text="";return text},"set":function(text){this.text=text}};if(element.nodeValue)return buffer.flush()+element.nodeValue;if(element.hasChildNodes()){var childNodes=element.childNodes;var innerText="";for(var i=0,iMax=childNodes.length;i<iMax;i++){var child=childNodes[i];if(child.nodeName=="DIV"||child.nodeName=="P"){var prevChild=childNodes[i-1];var prevName=prevChild?prevChild.nodeName:undefined;if(prevName&&prevName!="DIV"&&prevName!="P"&&prevName!="BR"){innerText+="\n";buffer.flush()}innerText+=exports.getInnerText(child,buffer);buffer.set("\n")}else if(child.nodeName=="BR"){innerText+=buffer.flush();buffer.set("\n")}else innerText+=exports.getInnerText(child,buffer)}return innerText}else if(element.nodeName=="P"&&exports.getInternetExplorerVersion()!=-1)return buffer.flush();return""};exports.hasParentNode=function(elem,parent){var e=elem?elem.parentNode:undefined;while(e){if(e===parent)return true;e=e.parentNode}return false};exports.getInternetExplorerVersion=function getInternetExplorerVersion(){if(_ieVersion==-1){var rv=-1;if(typeof navigator!=="undefined"&&navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null)rv=parseFloat(RegExp.$1)}_ieVersion=rv}return _ieVersion};exports.isFirefox=function isFirefox(){return typeof navigator!=="undefined"&&navigator.userAgent.indexOf("Firefox")!==-1};var _ieVersion=-1;exports.addEventListener=function addEventListener(element,action,listener,useCapture){if(element.addEventListener){if(useCapture===undefined)useCapture=false;if(action==="mousewheel"&&exports.isFirefox())action="DOMMouseScroll";element.addEventListener(action,listener,useCapture);return listener}else if(element.attachEvent){var f=function(){return listener.call(element,window.event)};element.attachEvent("on"+action,f);return f}};exports.removeEventListener=function removeEventListener(element,action,listener,useCapture){if(element.removeEventListener){if(useCapture===undefined)useCapture=false;if(action==="mousewheel"&&exports.isFirefox())action="DOMMouseScroll";element.removeEventListener(action,listener,useCapture)}else if(element.detachEvent)element.detachEvent("on"+action,listener)};exports.isChildOf=function(elem,parent){var e=elem.parentNode;while(e){if(e===parent)return true;e=e.parentNode}return false};exports.parsePath=function parsePath(jsonPath){var path=[];var i=0;function parseProperty(){var prop="";while(jsonPath[i]!==undefined&&/[\w$]/.test(jsonPath[i])){prop+=jsonPath[i];i++}if(prop==="")throw new Error("Invalid JSON path: property name expected at index "+i);return prop}function parseIndex(end){var name="";while(jsonPath[i]!==undefined&&jsonPath[i]!==end){name+=jsonPath[i];i++}if(jsonPath[i]!==end)throw new Error("Invalid JSON path: unexpected end, character "+end+" expected");return name}while(jsonPath[i]!==undefined)if(jsonPath[i]==="."){i++;path.push(parseProperty())}else if(jsonPath[i]==="["){i++;if(jsonPath[i]==="'"||jsonPath[i]==='"'){var end=jsonPath[i];i++;path.push(parseIndex(end));if(jsonPath[i]!==end)throw new Error("Invalid JSON path: closing quote ' expected at index "+i);i++}else{var index=parseIndex("]").trim();if(index.length===0)throw new Error("Invalid JSON path: array value expected at index "+i);index=index==="*"?index:JSON.parse(index);path.push(index)}if(jsonPath[i]!=="]")throw new Error("Invalid JSON path: closing bracket ] expected at index "+i);i++}else throw new Error('Invalid JSON path: unexpected character "'+jsonPath[i]+'" at index '+i);return path};exports.stringifyPath=function stringifyPath(path){return path.map(function(p){if(typeof p==="number")return"["+p+"]";else if(typeof p==="string"&&p.match(/^[A-Za-z0-9_$]+$/))return"."+p;else return'["'+p+'"]'}).join("")};exports.improveSchemaError=function(error){if(error.keyword==="enum"&&Array.isArray(error.schema)){var enums=error.schema;if(enums){enums=enums.map(function(value){return JSON.stringify(value)});if(enums.length>5){var more=["("+(enums.length-5)+" more...)"];enums=enums.slice(0,5);enums.push(more)}error.message="should be equal to one of: "+enums.join(", ")}}if(error.keyword==="additionalProperties")error.message="should NOT have additional property: "+error.params.additionalProperty;return error};exports.isPromise=function(object){return object&&typeof object.then==="function"&&typeof object.catch==="function"};exports.isValidValidationError=function(validationError){return typeof validationError==="object"&&Array.isArray(validationError.path)&&typeof validationError.message==="string"};exports.insideRect=function(parent,child,margin){var _margin=margin!==undefined?margin:0;return child.left-_margin>=parent.left&&child.right+_margin<=parent.right&&child.top-_margin>=parent.top&&child.bottom+_margin<=parent.bottom};exports.debounce=function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args)}};exports.textDiff=function textDiff(oldText,newText){var len=newText.length;var start=0;var oldEnd=oldText.length;var newEnd=newText.length;while(newText.charAt(start)===oldText.charAt(start)&&start<len)start++;while(newText.charAt(newEnd-1)===oldText.charAt(oldEnd-1)&&newEnd>start&&oldEnd>0){newEnd--;oldEnd--}return{start:start,end:newEnd}};exports.getInputSelection=function(el){var startIndex=0,endIndex=0,normalizedValue,range,textInputRange,len,endRange;if(typeof el.selectionStart=="number"&&typeof el.selectionEnd=="number"){startIndex=el.selectionStart;endIndex=el.selectionEnd}else{range=document.selection.createRange();if(range&&range.parentElement()==el){len=el.value.length;normalizedValue=el.value.replace(/\r\n/g,"\n");textInputRange=el.createTextRange();textInputRange.moveToBookmark(range.getBookmark());endRange=el.createTextRange();endRange.collapse(false);if(textInputRange.compareEndPoints("StartToEnd",endRange)>-1)startIndex=endIndex=len;else{startIndex=-textInputRange.moveStart("character",-len);startIndex+=normalizedValue.slice(0,startIndex).split("\n").length-1;if(textInputRange.compareEndPoints("EndToEnd",endRange)>-1)endIndex=len;else{endIndex=-textInputRange.moveEnd("character",-len);endIndex+=normalizedValue.slice(0,endIndex).split("\n").length-1}}}}return{startIndex:startIndex,endIndex:endIndex,start:_positionForIndex(startIndex),end:_positionForIndex(endIndex)};function _positionForIndex(index){var textTillIndex=el.value.substring(0,index);var row=(textTillIndex.match(/\n/g)||[]).length+1;var col=textTillIndex.length-textTillIndex.lastIndexOf("\n");return{row:row,column:col}}};exports.getIndexForPosition=function(el,row,column){var text=el.value||"";if(row>0&&column>0){var rows=text.split("\n",row);row=Math.min(rows.length,row);column=Math.min(rows[row-1].length,column-1);var columnCount=row==1?column:column+1;return rows.slice(0,row-1).join("\n").length+columnCount}return-1};exports.getPositionForPath=function(text,paths){var me=this;var result=[];var jsmap;if(!paths||!paths.length)return result;try{jsmap=jsonMap.parse(text)}catch(err){return result}paths.forEach(function(path){var pathArr=me.parsePath(path);var pointerName=pathArr.length?"/"+pathArr.join("/"):"";var pointer=jsmap.pointers[pointerName];if(pointer)result.push({path:path,line:pointer.key?pointer.key.line:pointer.value?pointer.value.line:0,column:pointer.key?pointer.key.column:pointer.value?pointer.value.column:0})});return result};exports.getColorCSS=function(color){var ele=document.createElement("div");ele.style.color=color;return ele.style.color.split(/\s+/).join("").toLowerCase()||null};exports.isValidColor=function(color){return!!exports.getColorCSS(color)};exports.makeFieldTooltip=function(schema,locale){if(!schema)return"";var tooltip="";if(schema.title)tooltip+=schema.title;if(schema.description){if(tooltip.length>0)tooltip+="\n";tooltip+=schema.description}if(schema.default){if(tooltip.length>0)tooltip+="\n\n";tooltip+=translate("default",undefined,locale)+"\n";tooltip+=JSON.stringify(schema.default,null,2)}if(Array.isArray(schema.examples)&&schema.examples.length>0){if(tooltip.length>0)tooltip+="\n\n";tooltip+=translate("examples",undefined,locale)+"\n";schema.examples.forEach(function(example,index){tooltip+=JSON.stringify(example,null,2);if(index!==schema.examples.length-1)tooltip+="\n"})}return tooltip};exports.get=function(object,path){var value=object;for(var i=0;i<path.length&&value!==undefined&&value!==null;i++)value=value[path[i]];return value};exports.findUniqueName=function(name,existingPropNames){var strippedName=name.replace(/ \(copy( \d+)?\)$/,"");var validName=strippedName;var i=1;while(existingPropNames.indexOf(validName)!==-1){var copy="copy"+(i>1?" "+i:"");validName=strippedName+" ("+copy+")";i++}return validName}},function(module,exports){if(typeof Element!=="undefined")(function(){function polyfill(item){if(item.hasOwnProperty("remove"))return;Object.defineProperty(item,"remove",{configurable:true,enumerable:true,writable:true,value:function remove(){if(this.parentNode!=null)this.parentNode.removeChild(this)}})}if(typeof Element!=="undefined")polyfill(Element.prototype);if(typeof CharacterData!=="undefined")polyfill(CharacterData.prototype);if(typeof DocumentType!=="undefined")polyfill(DocumentType.prototype)})();if(!String.prototype.startsWith)String.prototype.startsWith=function(searchString,position){position=position||0;return this.substr(position,searchString.length)===searchString};if(!Array.prototype.find)Array.prototype.find=function(callback){for(var i=0;i<this.length;i++){var element=this[i];if(callback.call(this,element,i,this))return element}};if(!String.prototype.trim)String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},function(module,exports,__webpack_require__){var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"JSONString":3,"STRING":4,"JSONNumber":5,"NUMBER":6,"JSONNullLiteral":7,"NULL":8,"JSONBooleanLiteral":9,"TRUE":10,"FALSE":11,"JSONText":12,"JSONValue":13,"EOF":14,"JSONObject":15,"JSONArray":16,"{":17,"}":18,"JSONMemberList":19,"JSONMember":20,":":21,",":22,"[":23,"]":24,"JSONElementList":25,"$accept":0,"$end":1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number")token=self.symbols_[token]||token;return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state])action=this.defaultActions[state];else{if(symbol==null)symbol=lex();action=table[state]&&table[state][symbol]}_handle_error:if(typeof action==="undefined"||!action.length||!action[0]){if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2)expected.push("'"+this.terminals_[p]+"'");var errStr="";if(this.lexer.showPosition)errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+this.terminals_[symbol]+"'";else errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}if(recovering==3){if(symbol==EOF)throw new Error(errStr||"Parsing halted.");yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex()}while(1){if(TERROR.toString()in table[state])break;if(state==0)throw new Error(errStr||"Parsing halted.");popStack(1);state=stack[stack.length-1]}preErrorSymbol=symbol;symbol=TERROR;state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined")return r;if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError)this.yy.parseError(str,hash);else throw new Error(str);},setInput:function(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch},unput:function(ch){this._input=ch+this._input;return this},more:function(){this._more=true;return this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;if(next.length<20)next+=this._input.substr(0,20-next.length);return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput();var c=(new Array(pre.length+1)).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return}if(this._input==="")return this.EOF;else this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();if(typeof r!=="undefined")return r;else return this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return"INVALID";break}};lexer.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];lexer.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13],"inclusive":true}};return lexer}();parser.lexer=lexer;return parser}();if(true){exports.parser=jsonlint;exports.parse=jsonlint.parse.bind(jsonlint)}},function(module,exports){var escapedChars={"b":"\b","f":"\f","n":"\n","r":"\r","t":"\t",'"':'"',"/":"/","\\":"\\"};var A_CODE="a".charCodeAt();exports.parse=function(source){var pointers={};var line=0;var column=0;var pos=0;return{data:_parse("",true),pointers:pointers};function _parse(ptr,topLevel){whitespace();var data;map(ptr,"value");var char=getChar();switch(char){case "t":read("rue");data=true;break;case "f":read("alse");data=false;break;case "n":read("ull");data=null;break;case '"':data=parseString();break;case "[":data=parseArray(ptr);break;case "{":data=parseObject(ptr);break;default:backChar();if("-0123456789".indexOf(char)>=0)data=parseNumber();else unexpectedToken()}map(ptr,"valueEnd");whitespace();if(topLevel&&pos<source.length)unexpectedToken();return data}function whitespace(){loop:while(pos<source.length){switch(source[pos]){case " ":column++;break;case "\t":column+=4;break;case "\r":column=0;break;case "\n":column=0;line++;break;default:break loop}pos++}}function parseString(){var str="";var char;while(true){char=getChar();if(char=='"')break;else if(char=="\\"){char=getChar();if(char in escapedChars)str+=escapedChars[char];else if(char=="u")str+=getCharCode();else wasUnexpectedToken()}else str+=char}return str}function parseNumber(){var numStr="";if(source[pos]=="-")numStr+=getChar();numStr+=source[pos]=="0"?getChar():getDigits();if(source[pos]==".")numStr+=getChar()+getDigits();if(source[pos]=="e"||source[pos]=="E"){numStr+=getChar();if(source[pos]=="+"||source[pos]=="-")numStr+=getChar();numStr+=getDigits()}return+numStr}function parseArray(ptr){whitespace();var arr=[];var i=0;if(getChar()=="]")return arr;backChar();while(true){var itemPtr=ptr+"/"+i;arr.push(_parse(itemPtr));whitespace();var char=getChar();if(char=="]")break;if(char!=",")wasUnexpectedToken();whitespace();i++}return arr}function parseObject(ptr){whitespace();var obj={};if(getChar()=="}")return obj;backChar();while(true){var loc=getLoc();if(getChar()!='"')wasUnexpectedToken();var key=parseString();var propPtr=ptr+"/"+escapeJsonPointer(key);mapLoc(propPtr,"key",loc);map(propPtr,"keyEnd");whitespace();if(getChar()!=":")wasUnexpectedToken();whitespace();obj[key]=_parse(propPtr);whitespace();var char=getChar();if(char=="}")break;if(char!=",")wasUnexpectedToken();whitespace()}return obj}function read(str){for(var i=0;i<str.length;i++)if(getChar()!==str[i])wasUnexpectedToken()}function getChar(){checkUnexpectedEnd();var char=source[pos];pos++;column++;return char}function backChar(){pos--;column--}function getCharCode(){var count=4;var code=0;while(count--){code<<=4;var char=getChar().toLowerCase();if(char>="a"&&char<="f")code+=char.charCodeAt()-A_CODE+10;else if(char>="0"&&char<="9")code+=+char;else wasUnexpectedToken()}return String.fromCharCode(code)}function getDigits(){var digits="";while(source[pos]>="0"&&source[pos]<="9")digits+=getChar();if(digits.length)return digits;checkUnexpectedEnd();unexpectedToken()}function map(ptr,prop){mapLoc(ptr,prop,getLoc())}function mapLoc(ptr,prop,loc){pointers[ptr]=pointers[ptr]||{};pointers[ptr][prop]=loc}function getLoc(){return{line:line,column:column,pos:pos}}function unexpectedToken(){throw new SyntaxError("Unexpected token "+source[pos]+" in JSON at position "+pos);}function wasUnexpectedToken(){backChar();unexpectedToken()}function checkUnexpectedEnd(){if(pos>=source.length)throw new SyntaxError("Unexpected end of JSON input");}};exports.stringify=function(data,_,whitespace){if(!validType(data))return;var wsLine=0;var wsPos,wsColumn;switch(typeof whitespace){case "number":var len=whitespace>10?10:whitespace<0?0:Math.floor(whitespace);whitespace=len&&repeat(len," ");wsPos=len;wsColumn=len;break;case "string":whitespace=whitespace.slice(0,10);wsPos=0;wsColumn=0;for(var j=0;j<whitespace.length;j++){var char=whitespace[j];switch(char){case " ":wsColumn++;break;case "\t":wsColumn+=4;break;case "\r":wsColumn=0;break;case "\n":wsColumn=0;wsLine++;break;default:throw new Error("whitespace characters not allowed in JSON");}wsPos++}break;default:whitespace=undefined}var json="";var pointers={};var line=0;var column=0;var pos=0;_stringify(data,0,"");return{json:json,pointers:pointers};function _stringify(_data,lvl,ptr){map(ptr,"value");switch(typeof _data){case "number":case "boolean":out(""+_data);break;case "string":out(quoted(_data));break;case "object":if(_data===null)out("null");else if(typeof _data.toJSON=="function")out(quoted(_data.toJSON()));else if(Array.isArray(_data))stringifyArray();else stringifyObject()}map(ptr,"valueEnd");function stringifyArray(){if(_data.length){out("[");var itemLvl=lvl+1;for(var i=0;i<_data.length;i++){if(i)out(",");indent(itemLvl);var item=validType(_data[i])?_data[i]:null;var itemPtr=ptr+"/"+i;_stringify(item,itemLvl,itemPtr)}indent(lvl);out("]")}else out("[]")}function stringifyObject(){var keys=Object.keys(_data);if(keys.length){out("{");var propLvl=lvl+1;for(var i=0;i<keys.length;i++){var key=keys[i];var value=_data[key];if(validType(value)){if(i)out(",");var propPtr=ptr+"/"+escapeJsonPointer(key);indent(propLvl);map(propPtr,"key");out(quoted(key));map(propPtr,"keyEnd");out(":");if(whitespace)out(" ");_stringify(value,propLvl,propPtr)}}indent(lvl);out("}")}else out("{}")}}function out(str){column+=str.length;pos+=str.length;json+=str}function indent(lvl){if(whitespace){json+="\n"+repeat(lvl,whitespace);line++;column=0;while(lvl--){if(wsLine){line+=wsLine;column=wsColumn}else column+=wsColumn;pos+=wsPos}pos+=1}}function map(ptr,prop){pointers[ptr]=pointers[ptr]||{};pointers[ptr][prop]={line:line,column:column,pos:pos}}function repeat(n,str){return Array(n+1).join(str)}};var VALID_TYPES=["number","boolean","string","object"];function validType(data){return VALID_TYPES.indexOf(typeof data)>=0}var ESC_QUOTE=/"|\\/g;var ESC_B=/[\b]/g;var ESC_F=/\f/g;var ESC_N=/\n/g;var ESC_R=/\r/g;var ESC_T=/\t/g;function quoted(str){str=str.replace(ESC_QUOTE,"\\$\x26").replace(ESC_F,"\\f").replace(ESC_B,"\\b").replace(ESC_N,"\\n").replace(ESC_R,"\\r").replace(ESC_T,"\\t");return'"'+str+'"'}var ESC_0=/~/g;var ESC_1=/\//g;function escapeJsonPointer(str){return str.replace(ESC_0,"~0").replace(ESC_1,"~1")}},function(module,exports,__webpack_require__){__webpack_require__(63);var _locales=["en","pt-BR","zh-CN","tr"];var _defs={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \n"+"Ctrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". '+"The field type is automatically determined from the value "+"and can be a string, number, boolean, or null.",objectType:'Field type "object". '+"An object contains an unordered set of key/value pairs.",arrayType:'Field type "array". '+"An array contains an ordered collection of values.",stringType:'Field type "string". '+"Field type is not determined from the value, "+"but always returned as string.",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",examples:"Examples",default:"Default",repaireButtonTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",switchBoxTitle:"Switch editor mode",buttonFormatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+\\)",buttonCompactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+)"},"zh-CN":{array:"\u6570\u7ec4",auto:"\u81ea\u52a8",appendText:"\u8ffd\u52a0",appendTitle:"\u5728\u6b64\u5b57\u6bb5\u540e\u8ffd\u52a0\u4e00\u4e2a\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u9009\u62e9\u8981\u8ffd\u52a0\u7684\u5b57\u6bb5\u7c7b\u578b",appendTitleAuto:"\u8ffd\u52a0\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",ascending:"\u5347\u5e8f",ascendingTitle:"\u5347\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",actionsMenu:"\u70b9\u51fb\u6253\u5f00\u52a8\u4f5c\u83dc\u5355(Ctrl+M)",collapseAll:"\u7f29\u8fdb\u6240\u6709\u5b57\u6bb5",descending:"\u964d\u5e8f",descendingTitle:"\u964d\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",drag:"\u62d6\u62fd\u79fb\u52a8\u8be5\u8282\u70b9(Alt+Shift+Arrows)",duplicateKey:"\u91cd\u590d\u952e",duplicateText:"\u590d\u5236",duplicateTitle:"\u590d\u5236\u9009\u4e2d\u5b57\u6bb5(Ctrl+D)",duplicateField:"\u590d\u5236\u8be5\u5b57\u6bb5(Ctrl+D)",duplicateFieldError:"\u91cd\u590d\u7684\u5b57\u6bb5\u540d\u79f0",cannotParseFieldError:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u89e3\u6790\u4e3aJSON",cannotParseValueError:"\u65e0\u6cd5\u5c06\u503c\u89e3\u6790\u4e3aJSON",empty:"\u6e05\u7a7a",expandAll:"\u5c55\u5f00\u6240\u6709\u5b57\u6bb5",expandTitle:"\u70b9\u51fb \u5c55\u5f00/\u6536\u7f29 \u8be5\u5b57\u6bb5(Ctrl+E). \n"+"Ctrl+Click \u5c55\u5f00/\u6536\u7f29 \u5305\u542b\u6240\u6709\u5b50\u8282\u70b9.",insert:"\u63d2\u5165",insertTitle:"\u5728\u6b64\u5b57\u6bb5\u524d\u63d2\u5165\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Ins)",insertSub:"\u9009\u62e9\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u7c7b\u578b",object:"\u5bf9\u8c61",ok:"Ok",redo:"\u91cd\u505a (Ctrl+Shift+Z)",removeText:"\u79fb\u9664",removeTitle:"\u79fb\u9664\u9009\u4e2d\u5b57\u6bb5 (Ctrl+Del)",removeField:"\u79fb\u9664\u8be5\u5b57\u6bb5 (Ctrl+Del)",selectNode:"\u9009\u62e9\u4e00\u4e2a\u8282\u70b9...",showAll:"\u5c55\u793a\u5168\u90e8",showMore:"\u5c55\u793a\u66f4\u591a",showMoreStatus:"\u663e\u793a${totalChilds}\u7684${visibleChilds}\u9879\u76ee.",sort:"\u6392\u5e8f",sortTitle:"\u6392\u5e8f${type}\u7684\u5b50\u8282\u70b9",sortTitleShort:"\u5185\u5bb9\u6392\u5e8f",sortFieldLabel:"\u5b57\u6bb5\uff1a",sortDirectionLabel:"\u65b9\u5411\uff1a",sortFieldTitle:"\u9009\u62e9\u7528\u4e8e\u5bf9\u6570\u7ec4\u6216\u5bf9\u8c61\u6392\u5e8f\u7684\u5d4c\u5957\u5b57\u6bb5",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortAscendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f",sortDescendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f",string:"\u5b57\u7b26\u4e32",transform:"\u53d8\u6362",transformTitle:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362${type}\u7684\u5b50\u8282\u70b9",transformTitleShort:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362\u5185\u5bb9",transformQueryTitle:"\u8f93\u5165JMESPath\u67e5\u8be2",transformWizardLabel:"\u5411\u5bfc",transformWizardFilter:"\u7b5b\u9009",transformWizardSortBy:"\u6392\u5e8f",transformWizardSelectFields:"\u9009\u62e9\u5b57\u6bb5",transformQueryLabel:"\u67e5\u8be2",transformPreviewLabel:"\u9884\u89c8",type:"\u7c7b\u578b",typeTitle:"\u66f4\u6539\u5b57\u6bb5\u7c7b\u578b",openUrl:"Ctrl+Click \u6216\u8005 Ctrl+Enter \u5728\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",undo:"\u64a4\u9500\u4e0a\u6b21\u52a8\u4f5c (Ctrl+Z)",validationCannotMove:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u79fb\u5165\u5176\u5b50\u8282\u70b9",autoType:'\u5b57\u6bb5\u7c7b\u578b "auto". '+"\u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a "+"\u53ef\u4ee5\u4e3a string\uff0cnumber\uff0cboolean\uff0c\u6216\u8005 null.",objectType:'\u5b57\u6bb5\u7c7b\u578b "object". '+"\u5bf9\u8c61\u5305\u542b\u4e00\u7ec4\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.",arrayType:'\u5b57\u6bb5\u7c7b\u578b "array". '+"\u6570\u7ec4\u5305\u542b\u503c\u7684\u6709\u5e8f\u96c6\u5408.",stringType:'\u5b57\u6bb5\u7c7b\u578b "string". '+"\u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a\uff0c"+"\u4f46\u59cb\u7ec8\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de.",modeCodeText:"\u4ee3\u7801",modeCodeTitle:"\u5207\u6362\u81f3\u4ee3\u7801\u9ad8\u4eae",modeFormText:"\u8868\u5355",modeFormTitle:"\u5207\u6362\u81f3\u8868\u5355\u7f16\u8f91",modeTextText:"\u6587\u672c",modeTextTitle:"\u5207\u6362\u81f3\u6587\u672c\u7f16\u8f91",modeTreeText:"\u6811",modeTreeTitle:"\u5207\u6362\u81f3\u6811\u7f16\u8f91",modeViewText:"\u89c6\u56fe",modeViewTitle:"\u5207\u6362\u81f3\u6811\u89c6\u56fe",examples:"\u4f8b\u5b50",default:"\u7f3a\u7701",repaireButtonTitle:"\u4fee\u590dJSON\uff1a\u4fee\u590d\u5f15\u53f7\u548c\u8f6c\u4e49\u5b57\u7b26\uff0c\u5220\u9664\u6ce8\u91ca\u548cJSONP\u8868\u793a\u6cd5\uff0c\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON",switchBoxTitle:"\u5207\u6362\u7f16\u8f91\u5668\u6a21\u5f0f",buttonFormatTitle:"\u4f7f\u7528\u9002\u5f53\u7684\u7f29\u8fdb\u548c\u6362\u884c\u7b26\u683c\u5f0f\u5316JSON\u6570\u636e (Ctrl+\\)",buttonCompactTitle:"\u538b\u7f29JSON\u6570\u636e\uff0c\u79fb\u9664\u6240\u6709\u7684\u7a7a\u683c (Ctrl+Shift+\\)"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\u00e7\u00f5es (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",cannotParseFieldError:"N\u00e3o \u00e9 poss\u00edvel analisar o campo no JSON",cannotParseValueError:"N\u00e3o \u00e9 poss\u00edvel analisar o valor em JSON",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \n"+"Ctrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \u00faltimo a\u00e7\u00e3o (Ctrl+Z)",validationCannotMove:"N\u00e3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". '+"O tipo do campo \u00e9 determinao automaticamente a partir do seu valor "+"e pode ser texto, n\u00famero, verdade/falso ou nulo.",objectType:'Campo do tipo "objeto". '+"Um objeto cont\u00e9m uma lista de pares com chave e valor.",arrayType:'Campo do tipo "lista". '+"Uma lista contem uma cole\u00e7\u00e3o de valores ordenados.",stringType:'Campo do tipo "string". '+"Campo do tipo nao \u00e9 determinado atrav\u00e9s do seu valor, "+"mas sempre retornara um texto.",examples:"Exemplos",default:"Revelia"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alan\u0131n alt\u0131na 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alan\u0131n tipini se\u00e7",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'\u0131n alt tiplerini artan d\u00fczende s\u0131rala",actionsMenu:"Aksiyon men\u00fcs\u00fcn\u00fc a\u00e7mak i\u00e7in t\u0131klay\u0131n (Ctrl+M)",collapseAll:"T\u00fcm alanlar\u0131 kapat",descending:"Azalan",descendingTitle:"${type}'\u0131n alt tiplerini azalan d\u00fczende s\u0131rala",drag:"Bu alan\u0131 ta\u015f\u0131mak i\u00e7in s\u00fcr\u00fckleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"A\u015fa\u011f\u0131ya kopyala",duplicateTitle:"Se\u00e7ili alanlardan bir daha olu\u015ftur (Ctrl+D)",duplicateField:"Bu alandan bir daha olu\u015ftur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",cannotParseValueError:"JSON'a de\u011fer ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",empty:"bo\u015f",expandAll:"T\u00fcm alanlar\u0131 a\u00e7",expandTitle:"Bu alan\u0131 a\u00e7mak/kapatmak i\u00e7in t\u0131kla (Ctrl+E). \n"+"Alt alanlarda dahil t\u00fcm alanlar\u0131 a\u00e7mak i\u00e7in Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alan\u0131n \u00fcst\u00fcne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alan\u0131n tipini se\u00e7",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kald\u0131r",removeTitle:"Se\u00e7ilen alanlar\u0131 kald\u0131r (Ctrl+Del)",removeField:"Bu alan\u0131 kald\u0131r (Ctrl+Del)",selectNode:"Bir nesne se\u00e7...",showAll:"t\u00fcm\u00fcn\u00fc g\u00f6ster",showMore:"daha fazla g\u00f6ster",showMoreStatus:"${totalChilds} alan\u0131n ${visibleChilds} alt alanlar\u0131 g\u00f6steriliyor",sort:"S\u0131rala",sortTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 s\u0131rala",sortTitleShort:"\u0130\u00e7erikleri s\u0131rala",sortFieldLabel:"Alan:",sortDirectionLabel:"Y\u00f6n:",sortFieldTitle:"Diziyi veya nesneyi s\u0131ralamak i\u00e7in i\u00e7 i\u00e7e ge\u00e7mi\u015f alan\u0131 se\u00e7in",sortAscending:"Artan",sortAscendingTitle:"Se\u00e7ili alan\u0131 artan d\u00fczende s\u0131rala",sortDescending:"Azalan",sortDescendingTitle:"Se\u00e7ili alan\u0131 azalan d\u00fczende s\u0131rala",string:"Karakter Dizisi",transform:"D\u00f6n\u00fc\u015ft\u00fcr",transformTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 filtrele, s\u0131rala veya d\u00f6n\u00fc\u015ft\u00fcr",transformTitleShort:"\u0130\u00e7erikleri filterele, s\u0131rala veya d\u00f6n\u00fc\u015ft\u00fcr",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"S\u0131rala",transformWizardSelectFields:"Alanlar\u0131 se\u00e7",transformQueryLabel:"Sorgu",transformPreviewLabel:"\u00d6nizleme",type:"Tip",typeTitle:"Bu alan\u0131n tipini de\u011fi\u015ftir",openUrl:"URL'i yeni bir pencerede a\u00e7mak i\u00e7in Ctrl+Click veya Ctrl+Enter",undo:"Son de\u011fi\u015fikli\u011fi geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak ta\u015f\u0131nam\u0131yor",autoType:'Alan tipi "otomatik". '+"Alan t\u00fcr\u00fc otomatik olarak de\u011ferden belirlenir"+"ve bir dize, say\u0131, boolean veya null olabilir.",objectType:'Alan tipi "nesne". '+"Bir nesne, s\u0131ralanmam\u0131\u015f bir anahtar / de\u011fer \u00e7ifti k\u00fcmesi i\u00e7erir.",arrayType:'Alan tipi "dizi". '+"Bir dizi, d\u00fczenli de\u011ferler koleksiyonu i\u00e7erir.",stringType:'Alan tipi "karakter dizisi". '+"Alan t\u00fcr\u00fc de\u011ferden belirlenmez,"+"ancak her zaman karakter dizisi olarak d\u00f6nd\u00fcr\u00fcl\u00fcr.",modeCodeText:"Kod",modeCodeTitle:"Kod vurgulay\u0131c\u0131ya ge\u00e7",modeFormText:"Form",modeFormTitle:"Form d\u00fczenleyiciye ge\u00e7",modeTextText:"Metin",modeTextTitle:"D\u00fcz metin d\u00fczenleyiciye ge\u00e7",modeTreeText:"A\u011fa\u00e7",modeTreeTitle:"A\u011fa\u00e7 d\u00fczenleyiciye ge\u00e7",modeViewText:"G\u00f6r\u00fcn\u00fcm",modeViewTitle:"A\u011fa\u00e7 g\u00f6r\u00fcn\u00fcm\u00fcne ge\u00e7",examples:"\u00d6rnekler",default:"Varsay\u0131lan"}};var _defaultLang="en";var _lang;var userLang=typeof navigator!=="undefined"?navigator.language||navigator.userLanguage:undefined;_lang=_locales.find(function(l){return l===userLang});if(!_lang)_lang=_defaultLang;module.exports={_locales:_locales,_defs:_defs,_lang:_lang,setLanguage:function(lang){if(!lang)return;var langFound=_locales.find(function(l){return l===lang});if(langFound)_lang=langFound;else console.error("Language not found")},setLanguages:function(languages){if(!languages)return;for(var key in languages){var langFound=_locales.find(function(l){return l===key});if(!langFound)_locales.push(key);_defs[key]=Object.assign({},_defs[_defaultLang],_defs[key],languages[key])}},translate:function(key,data,lang){if(!lang)lang=_lang;var text=_defs[lang][key];if(data)for(key in data)text=text.replace("${"+key+"}",data[key]);return text||key}}},function(module,exports){function SearchBox(editor,container){var searchBox=this;this.editor=editor;this.timeout=undefined;this.delay=200;this.lastText=undefined;this.dom={};this.dom.container=container;var table=document.createElement("table");this.dom.table=table;table.className="jsoneditor-search";container.appendChild(table);var tbody=document.createElement("tbody");this.dom.tbody=tbody;table.appendChild(tbody);var tr=document.createElement("tr");tbody.appendChild(tr);var td=document.createElement("td");tr.appendChild(td);var results=document.createElement("div");this.dom.results=results;results.className="jsoneditor-results";td.appendChild(results);td=document.createElement("td");tr.appendChild(td);var divInput=document.createElement("div");this.dom.input=divInput;divInput.className="jsoneditor-frame";divInput.title="Search fields and values";td.appendChild(divInput);var tableInput=document.createElement("table");divInput.appendChild(tableInput);var tbodySearch=document.createElement("tbody");tableInput.appendChild(tbodySearch);tr=document.createElement("tr");tbodySearch.appendChild(tr);var refreshSearch=document.createElement("button");refreshSearch.type="button";refreshSearch.className="jsoneditor-refresh";td=document.createElement("td");td.appendChild(refreshSearch);tr.appendChild(td);var search=document.createElement("input");this.dom.search=search;search.oninput=function(event){searchBox._onDelayedSearch(event)};search.onchange=function(event){searchBox._onSearch()};search.onkeydown=function(event){searchBox._onKeyDown(event)};search.onkeyup=function(event){searchBox._onKeyUp(event)};refreshSearch.onclick=function(event){search.select()};td=document.createElement("td");td.appendChild(search);tr.appendChild(td);var searchNext=document.createElement("button");searchNext.type="button";searchNext.title="Next result (Enter)";searchNext.className="jsoneditor-next";searchNext.onclick=function(){searchBox.next()};td=document.createElement("td");td.appendChild(searchNext);tr.appendChild(td);var searchPrevious=document.createElement("button");searchPrevious.type="button";searchPrevious.title="Previous result (Shift+Enter)";searchPrevious.className="jsoneditor-previous";searchPrevious.onclick=function(){searchBox.previous()};td=document.createElement("td");td.appendChild(searchPrevious);tr.appendChild(td)}SearchBox.prototype.next=function(focus){if(this.results!=undefined){var index=this.resultIndex!=undefined?this.resultIndex+1:0;if(index>this.results.length-1)index=0;this._setActiveResult(index,focus)}};SearchBox.prototype.previous=function(focus){if(this.results!=undefined){var max=this.results.length-1;var index=this.resultIndex!=undefined?this.resultIndex-1:max;if(index<0)index=max;this._setActiveResult(index,focus)}};SearchBox.prototype._setActiveResult=function(index,focus){if(this.activeResult){var prevNode=this.activeResult.node;var prevElem=this.activeResult.elem;if(prevElem=="field")delete prevNode.searchFieldActive;else delete prevNode.searchValueActive;prevNode.updateDom()}if(!this.results||!this.results[index]){this.resultIndex=undefined;this.activeResult=undefined;return}this.resultIndex=index;var node=this.results[this.resultIndex].node;var elem=this.results[this.resultIndex].elem;if(elem=="field")node.searchFieldActive=true;else node.searchValueActive=true;this.activeResult=this.results[this.resultIndex];node.updateDom();node.scrollTo(function(){if(focus)node.focus(elem)})};SearchBox.prototype._clearDelay=function(){if(this.timeout!=undefined){clearTimeout(this.timeout);delete this.timeout}};SearchBox.prototype._onDelayedSearch=function(event){this._clearDelay();var searchBox=this;this.timeout=setTimeout(function(event){searchBox._onSearch()},this.delay)};SearchBox.prototype._onSearch=function(forceSearch){this._clearDelay();var value=this.dom.search.value;var text=value.length>0?value:undefined;if(text!==this.lastText||forceSearch){this.lastText=text;this.results=this.editor.search(text);var MAX_SEARCH_RESULTS=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:Infinity;var activeResultIndex=0;if(this.activeResult)for(var i=0;i<this.results.length;i++)if(this.results[i].node===this.activeResult.node){activeResultIndex=i;break}this._setActiveResult(activeResultIndex,false);if(text!==undefined){var resultCount=this.results.length;if(resultCount===0)this.dom.results.innerHTML="no\x26nbsp;results";else if(resultCount===1)this.dom.results.innerHTML="1\x26nbsp;result";else if(resultCount>MAX_SEARCH_RESULTS)this.dom.results.innerHTML=MAX_SEARCH_RESULTS+"+\x26nbsp;results";else this.dom.results.innerHTML=resultCount+"\x26nbsp;results"}else this.dom.results.innerHTML=""}};SearchBox.prototype._onKeyDown=function(event){var keynum=event.which;if(keynum==27){this.dom.search.value="";this._onSearch();event.preventDefault();event.stopPropagation()}else if(keynum==13){if(event.ctrlKey)this._onSearch(true);else if(event.shiftKey)this.previous();else this.next();event.preventDefault();event.stopPropagation()}};SearchBox.prototype._onKeyUp=function(event){var keynum=event.keyCode;if(keynum!=27&&keynum!=13)this._onDelayedSearch(event)};SearchBox.prototype.clear=function(){this.dom.search.value="";this._onSearch()};SearchBox.prototype.forceSearch=function(){this._onSearch(true)};SearchBox.prototype.isEmpty=function(){return this.dom.search.value===""};SearchBox.prototype.destroy=function(){this.editor=null;this.dom.container.removeChild(this.dom.table);this.dom=null;this.results=null;this.activeResult=null;this._clearDelay()};module.exports=SearchBox},function(module,exports,__webpack_require__){var createAbsoluteAnchor=__webpack_require__(69).createAbsoluteAnchor;var util=__webpack_require__(62);var translate=__webpack_require__(66).translate;function ContextMenu(items,options){this.dom={};var me=this;var dom=this.dom;this.anchor=undefined;this.items=items;this.eventListeners={};this.selection=undefined;this.onClose=options?options.close:undefined;var root=document.createElement("div");root.className="jsoneditor-contextmenu-root";dom.root=root;var menu=document.createElement("div");menu.className="jsoneditor-contextmenu";dom.menu=menu;root.appendChild(menu);var list=document.createElement("ul");list.className="jsoneditor-menu";menu.appendChild(list);dom.list=list;dom.items=[];var focusButton=document.createElement("button");focusButton.type="button";dom.focusButton=focusButton;var li=document.createElement("li");li.style.overflow="hidden";li.style.height="0";li.appendChild(focusButton);list.appendChild(li);function createMenuItems(list,domItems,items){items.forEach(function(item){if(item.type=="separator"){var separator=document.createElement("div");separator.className="jsoneditor-separator";li=document.createElement("li");li.appendChild(separator);list.appendChild(li)}else{var domItem={};var li=document.createElement("li");list.appendChild(li);var button=document.createElement("button");button.type="button";button.className=item.className;domItem.button=button;if(item.title)button.title=item.title;if(item.click)button.onclick=function(event){event.preventDefault();me.hide();item.click()};li.appendChild(button);if(item.submenu){var divIcon=document.createElement("div");divIcon.className="jsoneditor-icon";button.appendChild(divIcon);var divText=document.createElement("div");divText.className="jsoneditor-text"+(item.click?"":" jsoneditor-right-margin");divText.appendChild(document.createTextNode(item.text));button.appendChild(divText);var buttonSubmenu;if(item.click){button.className+=" jsoneditor-default";var buttonExpand=document.createElement("button");buttonExpand.type="button";domItem.buttonExpand=buttonExpand;buttonExpand.className="jsoneditor-expand";buttonExpand.innerHTML='\x3cdiv class\x3d"jsoneditor-expand"\x3e\x3c/div\x3e';li.appendChild(buttonExpand);if(item.submenuTitle)buttonExpand.title=item.submenuTitle;buttonSubmenu=buttonExpand}else{var divExpand=document.createElement("div");divExpand.className="jsoneditor-expand";button.appendChild(divExpand);buttonSubmenu=button}buttonSubmenu.onclick=function(event){event.preventDefault();me._onExpandItem(domItem);buttonSubmenu.focus()};var domSubItems=[];domItem.subItems=domSubItems;var ul=document.createElement("ul");domItem.ul=ul;ul.className="jsoneditor-menu";ul.style.height="0";li.appendChild(ul);createMenuItems(ul,domSubItems,item.submenu)}else button.innerHTML='\x3cdiv class\x3d"jsoneditor-icon"\x3e\x3c/div\x3e'+'\x3cdiv class\x3d"jsoneditor-text"\x3e'+translate(item.text)+"\x3c/div\x3e";domItems.push(domItem)}})}createMenuItems(list,this.dom.items,items);this.maxHeight=0;items.forEach(function(item){var height=(items.length+(item.submenu?item.submenu.length:0))*24;me.maxHeight=Math.max(me.maxHeight,height)})}ContextMenu.prototype._getVisibleButtons=function(){var buttons=[];var me=this;this.dom.items.forEach(function(item){buttons.push(item.button);if(item.buttonExpand)buttons.push(item.buttonExpand);if(item.subItems&&item==me.expandedItem)item.subItems.forEach(function(subItem){buttons.push(subItem.button);if(subItem.buttonExpand)buttons.push(subItem.buttonExpand)})});return buttons};ContextMenu.visibleMenu=undefined;ContextMenu.prototype.show=function(anchor,frame,ignoreParent){this.hide();var showBelow=true;var parent=anchor.parentNode;var anchorRect=anchor.getBoundingClientRect();var parentRect=parent.getBoundingClientRect();var frameRect=frame.getBoundingClientRect();var me=this;this.dom.absoluteAnchor=createAbsoluteAnchor(anchor,frame,function(){me.hide()});if(anchorRect.bottom+this.maxHeight<frameRect.bottom);else if(anchorRect.top-this.maxHeight>frameRect.top)showBelow=false;else;var topGap=ignoreParent?0:anchorRect.top-parentRect.top;if(showBelow){var anchorHeight=anchor.offsetHeight;this.dom.menu.style.left="0";this.dom.menu.style.top=topGap+anchorHeight+"px";this.dom.menu.style.bottom=""}else{this.dom.menu.style.left="0";this.dom.menu.style.top="";this.dom.menu.style.bottom="0px"}this.dom.absoluteAnchor.appendChild(this.dom.root);this.selection=util.getSelection();this.anchor=anchor;setTimeout(function(){me.dom.focusButton.focus()},0);if(ContextMenu.visibleMenu)ContextMenu.visibleMenu.hide();ContextMenu.visibleMenu=this};ContextMenu.prototype.hide=function(){if(this.dom.absoluteAnchor){this.dom.absoluteAnchor.destroy();delete this.dom.absoluteAnchor}if(this.dom.root.parentNode){this.dom.root.parentNode.removeChild(this.dom.root);if(this.onClose)this.onClose()}if(ContextMenu.visibleMenu==this)ContextMenu.visibleMenu=undefined};ContextMenu.prototype._onExpandItem=function(domItem){var me=this;var alreadyVisible=domItem==this.expandedItem;var expandedItem=this.expandedItem;if(expandedItem){expandedItem.ul.style.height="0";expandedItem.ul.style.padding="";setTimeout(function(){if(me.expandedItem!=expandedItem){expandedItem.ul.style.display="";util.removeClassName(expandedItem.ul.parentNode,"jsoneditor-selected")}},300);this.expandedItem=undefined}if(!alreadyVisible){var ul=domItem.ul;ul.style.display="block";var height=ul.clientHeight;setTimeout(function(){if(me.expandedItem==domItem){var childsHeight=0;for(var i=0;i<ul.childNodes.length;i++)childsHeight+=ul.childNodes[i].clientHeight;ul.style.height=childsHeight+"px";ul.style.padding="5px 10px"}},0);util.addClassName(ul.parentNode,"jsoneditor-selected");this.expandedItem=domItem}};ContextMenu.prototype._onKeyDown=function(event){var target=event.target;var keynum=event.which;var handled=false;var buttons,targetIndex,prevButton,nextButton;if(keynum==27){if(this.selection)util.setSelection(this.selection);if(this.anchor)this.anchor.focus();this.hide();handled=true}else if(keynum==9)if(!event.shiftKey){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);if(targetIndex==buttons.length-1){buttons[0].focus();handled=true}}else{buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);if(targetIndex==0){buttons[buttons.length-1].focus();handled=true}}else if(keynum==37){if(target.className=="jsoneditor-expand"){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);prevButton=buttons[targetIndex-1];if(prevButton)prevButton.focus()}handled=true}else if(keynum==38){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);prevButton=buttons[targetIndex-1];if(prevButton&&prevButton.className=="jsoneditor-expand")prevButton=buttons[targetIndex-2];if(!prevButton)prevButton=buttons[buttons.length-1];if(prevButton)prevButton.focus();handled=true}else if(keynum==39){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);nextButton=buttons[targetIndex+1];if(nextButton&&nextButton.className=="jsoneditor-expand")nextButton.focus();handled=true}else if(keynum==40){buttons=this._getVisibleButtons();targetIndex=buttons.indexOf(target);nextButton=buttons[targetIndex+1];if(nextButton&&nextButton.className=="jsoneditor-expand")nextButton=buttons[targetIndex+2];if(!nextButton)nextButton=buttons[0];if(nextButton){nextButton.focus();handled=true}handled=true}if(handled){event.stopPropagation();event.preventDefault()}};module.exports=ContextMenu},function(module,exports,__webpack_require__){var util=__webpack_require__(62);exports.createAbsoluteAnchor=function(anchor,parent,onDestroy){var root=getRootNode(anchor);var eventListeners={};var anchorRect=anchor.getBoundingClientRect();var frameRect=parent.getBoundingClientRect();var absoluteAnchor=document.createElement("div");absoluteAnchor.className="jsoneditor-anchor";absoluteAnchor.style.position="absolute";absoluteAnchor.style.left=anchorRect.left-frameRect.left+"px";absoluteAnchor.style.top=anchorRect.top-frameRect.top+"px";absoluteAnchor.style.width=anchorRect.width-2+"px";absoluteAnchor.style.height=anchorRect.height-2+"px";absoluteAnchor.style.boxSizing="border-box";parent.appendChild(absoluteAnchor);function destroy(){if(absoluteAnchor&&absoluteAnchor.parentNode){absoluteAnchor.parentNode.removeChild(absoluteAnchor);for(var name in eventListeners)if(eventListeners.hasOwnProperty(name)){var fn=eventListeners[name];if(fn)util.removeEventListener(root,name,fn);delete eventListeners[name]}if(typeof onDestroy==="function")onDestroy(anchor)}}var destroyIfOutside=function(event){var target=event.target;if(target!==absoluteAnchor&&!util.isChildOf(target,absoluteAnchor))destroy()};eventListeners.mousedown=util.addEventListener(root,"mousedown",destroyIfOutside);eventListeners.mousewheel=util.addEventListener(root,"mousewheel",destroyIfOutside);absoluteAnchor.destroy=destroy;return absoluteAnchor};function getRootNode(node){return typeof node.getRootNode==="function"?node.getRootNode():window}},function(module,exports,__webpack_require__){var ContextMenu=__webpack_require__(68);var translate=__webpack_require__(66).translate;var util=__webpack_require__(62);function TreePath(container,root){if(container){this.root=root;this.path=document.createElement("div");this.path.className="jsoneditor-treepath";this.path.setAttribute("tabindex",0);this.contentMenuClicked;container.appendChild(this.path);this.reset()}}TreePath.prototype.reset=function(){this.path.innerHTML=translate("selectNode")};TreePath.prototype.setPath=function(pathObjs){var me=this;this.path.innerHTML="";if(pathObjs&&pathObjs.length)pathObjs.forEach(function(pathObj,idx){var pathEl=document.createElement("span");var sepEl;pathEl.className="jsoneditor-treepath-element";pathEl.innerText=pathObj.name;pathEl.onclick=_onSegmentClick.bind(me,pathObj);me.path.appendChild(pathEl);if(pathObj.children.length){sepEl=document.createElement("span");sepEl.className="jsoneditor-treepath-seperator";sepEl.innerHTML="\x26#9658;";sepEl.onclick=function(){me.contentMenuClicked=true;var items=[];pathObj.children.forEach(function(child){items.push({"text":child.name,"className":"jsoneditor-type-modes"+(pathObjs[idx+1]+1&&pathObjs[idx+1].name===child.name?" jsoneditor-selected":""),"click":_onContextMenuItemClick.bind(me,pathObj,child.name)})});var menu=new ContextMenu(items);menu.show(sepEl,me.root,true)};me.path.appendChild(sepEl)}if(idx===pathObjs.length-1){var leftRectPos=(sepEl||pathEl).getBoundingClientRect().right;if(me.path.offsetWidth<leftRectPos)me.path.scrollLeft=leftRectPos;if(me.path.scrollLeft){var showAllBtn=document.createElement("span");showAllBtn.className="jsoneditor-treepath-show-all-btn";showAllBtn.title="show all path";showAllBtn.innerHTML="...";showAllBtn.onclick=_onShowAllClick.bind(me,pathObjs);me.path.insertBefore(showAllBtn,me.path.firstChild)}}});function _onShowAllClick(pathObjs){me.contentMenuClicked=false;util.addClassName(me.path,"show-all");me.path.style.width=me.path.parentNode.getBoundingClientRect().width-10+"px";me.path.onblur=function(){if(me.contentMenuClicked){me.contentMenuClicked=false;me.path.focus();return}util.removeClassName(me.path,"show-all");me.path.onblur=undefined;me.path.style.width="";me.setPath(pathObjs)}}function _onSegmentClick(pathObj){if(this.selectionCallback)this.selectionCallback(pathObj)}function _onContextMenuItemClick(pathObj,selection){if(this.contextMenuCallback)this.contextMenuCallback(pathObj,selection)}};TreePath.prototype.onSectionSelected=function(callback){if(typeof callback==="function")this.selectionCallback=callback};TreePath.prototype.onContextMenuItemSelected=function(callback){if(typeof callback==="function")this.contextMenuCallback=callback};module.exports=TreePath},function(module,exports,__webpack_require__){var jmespath=__webpack_require__(72);var naturalSort=__webpack_require__(73);var createAbsoluteAnchor=__webpack_require__(69).createAbsoluteAnchor;var ContextMenu=__webpack_require__(68);var appendNodeFactory=__webpack_require__(74);var showMoreNodeFactory=__webpack_require__(75);var showSortModal=__webpack_require__(76);var showTransformModal=__webpack_require__(78);var util=__webpack_require__(62);var translate=__webpack_require__(66).translate;var DEFAULT_MODAL_ANCHOR=document.body;var YEAR_2000=9466848E5;function Node(editor,params){this.editor=editor;this.dom={};this.expanded=false;if(params&&params instanceof Object){this.setField(params.field,params.fieldEditable);if("value"in params)this.setValue(params.value,params.type);if("internalValue"in params)this.setInternalValue(params.internalValue)}else{this.setField("");this.setValue(null)}this._debouncedOnChangeValue=util.debounce(this._onChangeValue.bind(this),Node.prototype.DEBOUNCE_INTERVAL);this._debouncedOnChangeField=util.debounce(this._onChangeField.bind(this),Node.prototype.DEBOUNCE_INTERVAL);this.visibleChilds=this.getMaxVisibleChilds()}Node.prototype.DEBOUNCE_INTERVAL=150;Node.prototype.MAX_SEARCH_RESULTS=999;var DEFAULT_MAX_VISIBLE_CHILDS=100;Node.prototype.getMaxVisibleChilds=function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:DEFAULT_MAX_VISIBLE_CHILDS};Node.prototype._updateEditability=function(){this.editable={field:true,value:true};if(this.editor){this.editable.field=this.editor.options.mode==="tree";this.editable.value=this.editor.options.mode!=="view";if((this.editor.options.mode==="tree"||this.editor.options.mode==="form")&&typeof this.editor.options.onEditable==="function"){var editable=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});if(typeof editable==="boolean"){this.editable.field=editable;this.editable.value=editable}else{if(typeof editable.field==="boolean")this.editable.field=editable.field;if(typeof editable.value==="boolean")this.editable.value=editable.value}}}};Node.prototype.getPath=function(){var node=this;var path=[];while(node){var field=node.getName();if(field!==undefined)path.unshift(field);node=node.parent}return path};Node.prototype.getInternalPath=function(){var node=this;var internalPath=[];while(node){if(node.parent)internalPath.unshift(node.getIndex());node=node.parent}return internalPath};Node.prototype.getName=function(){return!this.parent?undefined:this.parent.type!="array"?this.field:this.index};Node.prototype.findNodeByPath=function(path){if(!path)return;if(path.length==0)return this;if(path.length&&this.childs&&this.childs.length)for(var i=0;i<this.childs.length;++i)if(""+path[0]===""+this.childs[i].getName())return this.childs[i].findNodeByPath(path.slice(1))};Node.prototype.findNodeByInternalPath=function(internalPath){if(!internalPath)return undefined;var node=this;for(var i=0;i<internalPath.length&&node;i++){var childIndex=internalPath[i];node=node.childs[childIndex]}return node};Node.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}};Node.prototype.findNode=function(jsonPath){var path=util.parsePath(jsonPath);var node=this;while(node&&path.length>0){var prop=path.shift();if(typeof prop==="number"){if(node.type!=="array")throw new Error("Cannot get child node at index "+prop+": node is no array");node=node.childs[prop]}else{if(node.type!=="object")throw new Error("Cannot get child node "+prop+": node is no object");node=node.childs.filter(function(child){return child.field===prop})[0]}}return node};Node.prototype.findParents=function(){var parents=[];var parent=this.parent;while(parent){parents.unshift(parent);parent=parent.parent}return parents};Node.prototype.setError=function(error,child){this.error=error;this.errorChild=child;if(this.dom&&this.dom.tr)this.updateError()};Node.prototype.updateError=function(){var error=this.fieldError||this.valueError||this.error;var tdError=this.dom.tdError;if(error&&this.dom&&this.dom.tr){util.addClassName(this.dom.tr,"jsoneditor-validation-error");if(!tdError){tdError=document.createElement("td");this.dom.tdError=tdError;this.dom.tdValue.parentNode.appendChild(tdError)}var popover=document.createElement("div");popover.className="jsoneditor-popover jsoneditor-right";popover.appendChild(document.createTextNode(error.message));var button=document.createElement("button");button.type="button";button.className="jsoneditor-button jsoneditor-schema-error";button.appendChild(popover);button.onmouseover=button.onfocus=function updateDirection(){var directions=["right","above","below","left"];for(var i=0;i<directions.length;i++){var direction=directions[i];popover.className="jsoneditor-popover jsoneditor-"+direction;var contentRect=this.editor.content.getBoundingClientRect();var popoverRect=popover.getBoundingClientRect();var margin=20;var fit=util.insideRect(contentRect,popoverRect,margin);if(fit)break}}.bind(this);var child=this.errorChild;if(child)button.onclick=function showInvalidNode(){child.findParents().forEach(function(parent){parent.expand(false)});child.scrollTo(function(){child.focus()})};while(tdError.firstChild)tdError.removeChild(tdError.firstChild);tdError.appendChild(button)}else{if(this.dom.tr)util.removeClassName(this.dom.tr,"jsoneditor-validation-error");if(tdError){this.dom.tdError.parentNode.removeChild(this.dom.tdError);delete this.dom.tdError}}};Node.prototype.getIndex=function(){if(this.parent){var index=this.parent.childs.indexOf(this);return index!==-1?index:null}else return-1};Node.prototype.setParent=function(parent){this.parent=parent};Node.prototype.setField=function(field,fieldEditable){this.field=field;this.previousField=field;this.fieldEditable=fieldEditable===true};Node.prototype.getField=function(){if(this.field===undefined)this._getDomField();return this.field};Node.prototype.setValue=function(value,type){var childValue,child,visible;var i,j;var notUpdateDom=false;var previousChilds=this.childs;this.type=this._getType(value);if(type&&type!==this.type)if(type==="string"&&this.type==="auto")this.type=type;else throw new Error("Type mismatch: "+'cannot cast value of type "'+this.type+' to the specified type "'+type+'"');if(this.type==="array"){if(!this.childs)this.childs=[];for(i=0;i<value.length;i++){childValue=value[i];if(childValue!==undefined&&!(childValue instanceof Function))if(i<this.childs.length){child=this.childs[i];child.fieldEditable=false;child.index=i;child.setValue(childValue)}else{child=new Node(this.editor,{value:childValue});visible=i<this.getMaxVisibleChilds();this.appendChild(child,visible,notUpdateDom)}}for(j=this.childs.length;j>=value.length;j--)this.removeChild(this.childs[j],notUpdateDom)}else if(this.type==="object"){if(!this.childs)this.childs=[];for(j=this.childs.length-1;j>=0;j--)if(!value.hasOwnProperty(this.childs[j].field))this.removeChild(this.childs[j],notUpdateDom);i=0;for(var childField in value)if(value.hasOwnProperty(childField)){childValue=value[childField];if(childValue!==undefined&&!(childValue instanceof Function)){child=this.findChildByProperty(childField);if(child){child.setField(childField,true);child.setValue(childValue)}else{child=new Node(this.editor,{field:childField,value:childValue});visible=i<this.getMaxVisibleChilds();this.appendChild(child,visible,notUpdateDom)}}i++}this.value="";if(this.editor.options.sortObjectKeys===true)this.sort([],"asc")}else{this.hideChilds();delete this.append;delete this.showMore;delete this.expanded;delete this.childs;this.value=value}if(Array.isArray(previousChilds)!==Array.isArray(this.childs))this.recreateDom();this.updateDom({"updateIndexes":true});this.previousValue=this.value};Node.prototype.setInternalValue=function(internalValue){var childValue,child,visible;var i,j;var notUpdateDom=false;var previousChilds=this.childs;this.type=internalValue.type;if(internalValue.type==="array"){if(!this.childs)this.childs=[];for(i=0;i<internalValue.childs.length;i++){childValue=internalValue.childs[i];if(childValue!==undefined&&!(childValue instanceof Function))if(i<this.childs.length){child=this.childs[i];child.fieldEditable=false;child.index=i;child.setInternalValue(childValue)}else{child=new Node(this.editor,{internalValue:childValue});visible=i<this.getMaxVisibleChilds();this.appendChild(child,visible,notUpdateDom)}}for(j=this.childs.length;j>=internalValue.childs.length;j--)this.removeChild(this.childs[j],notUpdateDom)}else if(internalValue.type==="object"){if(!this.childs)this.childs=[];for(i=0;i<internalValue.childs.length;i++){childValue=internalValue.childs[i];if(childValue!==undefined&&!(childValue instanceof Function))if(i<this.childs.length){child=this.childs[i];delete child.index;child.setField(childValue.field,true);child.setInternalValue(childValue.value)}else{child=new Node(this.editor,{field:childValue.field,internalValue:childValue.value});visible=i<this.getMaxVisibleChilds();this.appendChild(child,visible,notUpdateDom)}}for(j=this.childs.length;j>=internalValue.childs.length;j--)this.removeChild(this.childs[j],notUpdateDom)}else{this.hideChilds();delete this.append;delete this.showMore;delete this.expanded;delete this.childs;this.value=internalValue.value}if(Array.isArray(previousChilds)!==Array.isArray(this.childs))this.recreateDom();this.updateDom({"updateIndexes":true});this.previousValue=this.value};Node.prototype.recreateDom=function(){if(this.dom&&this.dom.tr&&this.dom.tr.parentNode){var domAnchor=this._detachFromDom();this.clearDom();this._attachToDom(domAnchor)}else this.clearDom()};Node.prototype.getValue=function(){if(this.type=="array"){var arr=[];this.childs.forEach(function(child){arr.push(child.getValue())});return arr}else if(this.type=="object"){var obj={};this.childs.forEach(function(child){obj[child.getField()]=child.getValue()});return obj}else{if(this.value===undefined)this._getDomValue();return this.value}};Node.prototype.getInternalValue=function(){if(this.type==="array")return{type:this.type,childs:this.childs.map(function(child){return child.getInternalValue()})};else if(this.type==="object")return{type:this.type,childs:this.childs.map(function(child){return{field:child.getField(),value:child.getInternalValue()}})};else{if(this.value===undefined)this._getDomValue();return{type:this.type,value:this.value}}};Node.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0};Node.prototype.getNodePath=function(){var path=this.parent?this.parent.getNodePath():[];path.push(this);return path};Node.prototype.clone=function(){var clone=new Node(this.editor);clone.type=this.type;clone.field=this.field;clone.fieldInnerText=this.fieldInnerText;clone.fieldEditable=this.fieldEditable;clone.previousField=this.previousField;clone.value=this.value;clone.valueInnerText=this.valueInnerText;clone.previousValue=this.previousValue;clone.expanded=this.expanded;clone.visibleChilds=this.visibleChilds;if(this.childs){var cloneChilds=[];this.childs.forEach(function(child){var childClone=child.clone();childClone.setParent(clone);cloneChilds.push(childClone)});clone.childs=cloneChilds}else clone.childs=undefined;return clone};Node.prototype.expand=function(recurse){if(!this.childs)return;this.expanded=true;if(this.dom.expand)this.dom.expand.className="jsoneditor-button jsoneditor-expanded";this.showChilds();if(recurse!==false)this.childs.forEach(function(child){child.expand(recurse)})};Node.prototype.collapse=function(recurse){if(!this.childs)return;this.hideChilds();if(recurse!==false)this.childs.forEach(function(child){child.collapse(recurse)});if(this.dom.expand)this.dom.expand.className="jsoneditor-button jsoneditor-collapsed";this.expanded=false};Node.prototype.showChilds=function(){var childs=this.childs;if(!childs)return;if(!this.expanded)return;var tr=this.dom.tr;var table=tr?tr.parentNode:undefined;if(table){var append=this.getAppendDom();if(!append.parentNode){var nextTr=tr.nextSibling;if(nextTr)table.insertBefore(append,nextTr);else table.appendChild(append)}var iMax=Math.min(this.childs.length,this.visibleChilds);var nextTr=this._getNextTr();for(var i=0;i<iMax;i++){var child=this.childs[i];if(!child.getDom().parentNode)table.insertBefore(child.getDom(),nextTr);child.showChilds()}var showMore=this.getShowMoreDom();var nextTr=this._getNextTr();if(!showMore.parentNode)table.insertBefore(showMore,nextTr);this.showMore.updateDom()}};Node.prototype._getNextTr=function(){if(this.showMore&&this.showMore.getDom().parentNode)return this.showMore.getDom();if(this.append&&this.append.getDom().parentNode)return this.append.getDom()};Node.prototype.hide=function(options){var tr=this.dom.tr;var table=tr?tr.parentNode:undefined;if(table)table.removeChild(tr);this.hideChilds(options)};Node.prototype.hideChilds=function(options){var childs=this.childs;if(!childs)return;if(!this.expanded)return;var append=this.getAppendDom();if(append.parentNode)append.parentNode.removeChild(append);this.childs.forEach(function(child){child.hide()});var showMore=this.getShowMoreDom();if(showMore.parentNode)showMore.parentNode.removeChild(showMore);if(!options||options.resetVisibleChilds)this.visibleChilds=this.getMaxVisibleChilds()};Node.prototype._updateCssClassName=function(){if(this.dom.field&&this.editor&&this.editor.options&&typeof this.editor.options.onClassName==="function"&&this.dom.tree){util.removeAllClassNames(this.dom.tree);var addClasses=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"";util.addClassName(this.dom.tree,"jsoneditor-values "+addClasses)}};Node.prototype.recursivelyUpdateCssClassesOnNodes=function(){this._updateCssClassName();if(Array.isArray(this.childs))for(var i=0;i<this.childs.length;i++)this.childs[i].recursivelyUpdateCssClassesOnNodes()};Node.prototype.expandTo=function(){var currentNode=this.parent;while(currentNode){if(!currentNode.expanded)currentNode.expand();currentNode=currentNode.parent}};Node.prototype.appendChild=function(node,visible,updateDom){if(this._hasChilds()){node.setParent(this);node.fieldEditable=this.type=="object";if(this.type=="array")node.index=this.childs.length;if(this.type==="object"&&node.field==undefined)node.setField("");this.childs.push(node);if(this.expanded&&visible!==false){var newTr=node.getDom();var nextTr=this._getNextTr();var table=nextTr?nextTr.parentNode:undefined;if(nextTr&&table)table.insertBefore(newTr,nextTr);node.showChilds();this.visibleChilds++}if(updateDom!==false){this.updateDom({"updateIndexes":true});node.updateDom({"recurse":true})}}};Node.prototype.moveBefore=function(node,beforeNode){if(this._hasChilds()){var tbody=this.dom.tr?this.dom.tr.parentNode:undefined;if(tbody){var trTemp=document.createElement("tr");trTemp.style.height=tbody.clientHeight+"px";tbody.appendChild(trTemp)}if(node.parent)node.parent.removeChild(node);if(beforeNode instanceof AppendNode||!beforeNode)if(this.childs.length+1>this.visibleChilds){var lastVisibleNode=this.childs[this.visibleChilds-1];this.insertBefore(node,lastVisibleNode)}else this.appendChild(node);else this.insertBefore(node,beforeNode);if(tbody)tbody.removeChild(trTemp)}};Node.prototype.insertBefore=function(node,beforeNode){if(this._hasChilds()){this.visibleChilds++;if(this.type==="object"&&node.field==undefined)node.setField("");if(beforeNode===this.append){node.setParent(this);node.fieldEditable=this.type=="object";this.childs.push(node)}else{var index=this.childs.indexOf(beforeNode);if(index==-1)throw new Error("Node not found");node.setParent(this);node.fieldEditable=this.type=="object";this.childs.splice(index,0,node)}if(this.expanded){var newTr=node.getDom();var nextTr=beforeNode.getDom();var table=nextTr?nextTr.parentNode:undefined;if(nextTr&&table)table.insertBefore(newTr,nextTr);node.showChilds();this.showChilds()}this.updateDom({"updateIndexes":true});node.updateDom({"recurse":true})}};Node.prototype.insertAfter=function(node,afterNode){if(this._hasChilds()){var index=this.childs.indexOf(afterNode);var beforeNode=this.childs[index+1];if(beforeNode)this.insertBefore(node,beforeNode);else this.appendChild(node)}};Node.prototype.search=function(text,results){if(!Array.isArray(results))results=[];var index;var search=text?text.toLowerCase():undefined;delete this.searchField;delete this.searchValue;if(this.field!==undefined&&results.length<=this.MAX_SEARCH_RESULTS){var field=String(this.field).toLowerCase();index=field.indexOf(search);if(index!==-1){this.searchField=true;results.push({"node":this,"elem":"field"})}this._updateDomField()}if(this._hasChilds()){if(this.childs)this.childs.forEach(function(child){child.search(text,results)})}else if(this.value!==undefined&&results.length<=this.MAX_SEARCH_RESULTS){var value=String(this.value).toLowerCase();index=value.indexOf(search);if(index!==-1){this.searchValue=true;results.push({"node":this,"elem":"value"})}this._updateDomValue()}return results};Node.prototype.scrollTo=function(callback){this.expandPathToNode();if(this.dom.tr&&this.dom.tr.parentNode)this.editor.scrollTo(this.dom.tr.offsetTop,callback)};Node.prototype.expandPathToNode=function(){var node=this;var recurse=false;while(node&&node.parent){var index=node.parent.type==="array"?node.index:node.parent.childs.indexOf(node);while(node.parent.visibleChilds<index+1)node.parent.visibleChilds+=this.getMaxVisibleChilds();node.parent.expand(recurse);node=node.parent}};Node.focusElement=undefined;Node.prototype.focus=function(elementName){Node.focusElement=elementName;if(this.dom.tr&&this.dom.tr.parentNode){var dom=this.dom;switch(elementName){case "drag":if(dom.drag)dom.drag.focus();else dom.menu.focus();break;case "menu":dom.menu.focus();break;case "expand":if(this._hasChilds())dom.expand.focus();else if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else dom.menu.focus();break;case "field":if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else if(this._hasChilds())dom.expand.focus();else dom.menu.focus();break;case "value":default:if(dom.select)dom.select.focus();else if(dom.value&&!this._hasChilds()){dom.value.focus();util.selectContentEditable(dom.value)}else if(dom.field&&this.fieldEditable){dom.field.focus();util.selectContentEditable(dom.field)}else if(this._hasChilds())dom.expand.focus();else dom.menu.focus();break}}};Node.select=function(editableDiv){setTimeout(function(){util.selectContentEditable(editableDiv)},0)};Node.prototype.containsNode=function(node){if(this==node)return true;var childs=this.childs;if(childs)for(var i=0,iMax=childs.length;i<iMax;i++)if(childs[i].containsNode(node))return true;return false};Node.prototype.removeChild=function(node,updateDom){if(this.childs){var index=this.childs.indexOf(node);if(index!==-1){if(index<this.visibleChilds&&this.expanded)this.visibleChilds--;node.hide();delete node.searchField;delete node.searchValue;var removedNode=this.childs.splice(index,1)[0];removedNode.parent=null;if(updateDom!==false)this.updateDom({"updateIndexes":true});return removedNode}}return undefined};Node.prototype._remove=function(node){this.removeChild(node)};Node.prototype.changeType=function(newType){var oldType=this.type;if(oldType==newType)return;if((newType=="string"||newType=="auto")&&(oldType=="string"||oldType=="auto"))this.type=newType;else{var domAnchor=this._detachFromDom();this.clearDom();this.type=newType;if(newType=="object"){if(!this.childs)this.childs=[];this.childs.forEach(function(child){child.clearDom();delete child.index;child.fieldEditable=true;if(child.field==undefined)child.field=""});if(oldType=="string"||oldType=="auto")this.expanded=true}else if(newType=="array"){if(!this.childs)this.childs=[];this.childs.forEach(function(child,index){child.clearDom();child.fieldEditable=false;child.index=index});if(oldType=="string"||oldType=="auto")this.expanded=true}else this.expanded=false;this._attachToDom(domAnchor)}if(newType=="auto"||newType=="string"){if(newType=="string")this.value=String(this.value);else this.value=this._stringCast(String(this.value));this.focus()}this.updateDom({"updateIndexes":true})};Node.prototype.deepEqual=function(json){var i;if(this.type==="array"){if(!Array.isArray(json))return false;if(this.childs.length!==json.length)return false;for(i=0;i<this.childs.length;i++)if(!this.childs[i].deepEqual(json[i]))return false}else if(this.type==="object"){if(typeof json!=="object"||!json)return false;var props={};var propCount=0;for(i=0;i<this.childs.length;i++){var child=this.childs[i];if(!props[child.field]){props[child.field]=true;propCount++;if(!(child.field in json))return false;if(!child.deepEqual(json[child.field]))return false}}if(propCount!==Object.keys(json).length)return false}else if(this.value!==json)return false;return true};Node.prototype._getDomValue=function(){this._clearValueError();if(this.dom.value&&this.type!="array"&&this.type!="object")this.valueInnerText=util.getInnerText(this.dom.value);if(this.valueInnerText!=undefined)try{var value;if(this.type=="string")value=this._unescapeHTML(this.valueInnerText);else{var str=this._unescapeHTML(this.valueInnerText);value=this._stringCast(str)}if(value!==this.value){this.value=value;this._debouncedOnChangeValue()}}catch(err){this._setValueError(translate("cannotParseValueError"))}};Node.prototype._setValueError=function(message){this.valueError={message:message};this.updateError()};Node.prototype._clearValueError=function(){if(this.valueError){this.valueError=null;this.updateError()}};Node.prototype._setFieldError=function(message){this.fieldError={message:message};this.updateError()};Node.prototype._clearFieldError=function(){if(this.fieldError){this.fieldError=null;this.updateError()}};Node.prototype._onChangeValue=function(){var oldSelection=this.editor.getDomSelection();if(oldSelection.range){var undoDiff=util.textDiff(String(this.value),String(this.previousValue));oldSelection.range.startOffset=undoDiff.start;oldSelection.range.endOffset=undoDiff.end}var newSelection=this.editor.getDomSelection();if(newSelection.range){var redoDiff=util.textDiff(String(this.previousValue),String(this.value));newSelection.range.startOffset=redoDiff.start;newSelection.range.endOffset=redoDiff.end}this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:oldSelection,newSelection:newSelection});this.previousValue=this.value};Node.prototype._onChangeField=function(){var oldSelection=this.editor.getDomSelection();var previous=this.previousField||"";if(oldSelection.range){var undoDiff=util.textDiff(this.field,previous);oldSelection.range.startOffset=undoDiff.start;oldSelection.range.endOffset=undoDiff.end}var newSelection=this.editor.getDomSelection();if(newSelection.range){var redoDiff=util.textDiff(previous,this.field);newSelection.range.startOffset=redoDiff.start;newSelection.range.endOffset=redoDiff.end}this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:oldSelection,newSelection:newSelection});this.previousField=this.field};Node.prototype._updateDomValue=function(){var domValue=this.dom.value;if(domValue){var classNames=["jsoneditor-value"];var value=this.value;var type=this.type=="auto"?util.type(value):this.type;var isUrl=type=="string"&&util.isUrl(value);classNames.push("jsoneditor-"+type);if(isUrl)classNames.push("jsoneditor-url");var isEmpty=String(this.value)==""&&this.type!="array"&&this.type!="object";if(isEmpty)classNames.push("jsoneditor-empty");if(this.searchValueActive)classNames.push("jsoneditor-highlight-active");if(this.searchValue)classNames.push("jsoneditor-highlight");domValue.className=classNames.join(" ");if(type=="array"||type=="object"){var count=this.childs?this.childs.length:0;domValue.title=this.type+" containing "+count+" items"}else if(isUrl&&this.editable.value)domValue.title=translate("openUrl");else domValue.title="";if(type==="boolean"&&this.editable.value){if(!this.dom.checkbox){this.dom.checkbox=document.createElement("input");this.dom.checkbox.type="checkbox";this.dom.tdCheckbox=document.createElement("td");this.dom.tdCheckbox.className="jsoneditor-tree";this.dom.tdCheckbox.appendChild(this.dom.checkbox);this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)}this.dom.checkbox.checked=this.value}else if(this.dom.tdCheckbox){this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox);delete this.dom.tdCheckbox;delete this.dom.checkbox}if(this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select");this.id=this.field+"_"+(new Date).getUTCMilliseconds();this.dom.select.id=this.id;this.dom.select.name=this.dom.select.id;this.dom.select.option=document.createElement("option");this.dom.select.option.value="";this.dom.select.option.innerHTML="--";this.dom.select.appendChild(this.dom.select.option);for(var i=0;i<this.enum.length;i++){this.dom.select.option=document.createElement("option");this.dom.select.option.value=this.enum[i];this.dom.select.option.innerHTML=this.enum[i];if(this.dom.select.option.value==this.value)this.dom.select.option.selected=true;this.dom.select.appendChild(this.dom.select.option)}this.dom.tdSelect=document.createElement("td");this.dom.tdSelect.className="jsoneditor-tree";this.dom.tdSelect.appendChild(this.dom.select);this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}if(this.schema&&(!this.schema.hasOwnProperty("oneOf")&&!this.schema.hasOwnProperty("anyOf")&&!this.schema.hasOwnProperty("allOf"))){this.valueFieldHTML=this.dom.tdValue.innerHTML;this.dom.tdValue.style.visibility="hidden";this.dom.tdValue.innerHTML=""}else delete this.valueFieldHTML}else if(this.dom.tdSelect){this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect);delete this.dom.tdSelect;delete this.dom.select;this.dom.tdValue.innerHTML=this.valueFieldHTML;this.dom.tdValue.style.visibility="";delete this.valueFieldHTML}if(this.editable.value&&this.editor.options.colorPicker&&typeof value==="string"&&util.isValidColor(value)){if(!this.dom.color){this.dom.color=document.createElement("div");this.dom.color.className="jsoneditor-color";this.dom.tdColor=document.createElement("td");this.dom.tdColor.className="jsoneditor-tree";this.dom.tdColor.appendChild(this.dom.color);this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue);this.dom.value.style.color="#1A1A1A"}this.dom.color.style.backgroundColor=value}else this._deleteDomColor();if(this.editor.options.timestampTag&&typeof value==="number"&&value>YEAR_2000&&!isNaN((new Date(value)).valueOf())){if(!this.dom.date){this.dom.date=document.createElement("div");this.dom.date.className="jsoneditor-date";this.dom.value.parentNode.appendChild(this.dom.date)}this.dom.date.innerHTML=(new Date(value)).toISOString();this.dom.date.title=(new Date(value)).toString()}else if(this.dom.date){this.dom.date.parentNode.removeChild(this.dom.date);delete this.dom.date}util.stripFormatting(domValue);this._updateDomDefault()}};Node.prototype._deleteDomColor=function(){if(this.dom.color){this.dom.tdColor.parentNode.removeChild(this.dom.tdColor);delete this.dom.tdColor;delete this.dom.color;this.dom.value.style.color=""}};Node.prototype._updateDomField=function(){var domField=this.dom.field;if(domField){var tooltip=util.makeFieldTooltip(this.schema,this.editor.options.language);if(tooltip)domField.title=tooltip;var isEmpty=String(this.field)==""&&this.parent.type!="array";if(isEmpty)util.addClassName(domField,"jsoneditor-empty");else util.removeClassName(domField,"jsoneditor-empty");if(this.searchFieldActive)util.addClassName(domField,"jsoneditor-highlight-active");else util.removeClassName(domField,"jsoneditor-highlight-active");if(this.searchField)util.addClassName(domField,"jsoneditor-highlight");else util.removeClassName(domField,"jsoneditor-highlight");util.stripFormatting(domField)}};Node.prototype._getDomField=function(forceUnique){this._clearFieldError();if(this.dom.field&&this.fieldEditable)this.fieldInnerText=util.getInnerText(this.dom.field);if(this.fieldInnerText!==undefined)try{var field=this._unescapeHTML(this.fieldInnerText);var existingFieldNames=this.parent.getFieldNames(this);var isDuplicate=existingFieldNames.indexOf(field)!==-1;if(!isDuplicate){if(field!==this.field){this.field=field;this._debouncedOnChangeField()}}else if(forceUnique){field=util.findUniqueName(field,existingFieldNames);if(field!==this.field){this.field=field;this._debouncedOnChangeField()}}else this._setFieldError(translate("duplicateFieldError"))}catch(err){this._setFieldError(translate("cannotParseFieldError"))}};Node.prototype._updateDomDefault=function(){if(!this.schema||this.schema.default===undefined||this._hasChilds())return;var inputElement=this.dom.select?this.dom.select:this.dom.value;if(!inputElement)return;if(this.value===this.schema.default){inputElement.title=translate("default");util.addClassName(inputElement,"jsoneditor-is-default");util.removeClassName(inputElement,"jsoneditor-is-not-default")}else{inputElement.removeAttribute("title");util.removeClassName(inputElement,"jsoneditor-is-default");util.addClassName(inputElement,"jsoneditor-is-not-default")}};Node.prototype.clearDom=function(){this.dom={}};Node.prototype.getDom=function(){var dom=this.dom;if(dom.tr)return dom.tr;this._updateEditability();dom.tr=document.createElement("tr");dom.tr.node=this;if(this.editor.options.mode==="tree"){var tdDrag=document.createElement("td");if(this.editable.field)if(this.parent){var domDrag=document.createElement("button");domDrag.type="button";dom.drag=domDrag;domDrag.className="jsoneditor-button jsoneditor-dragarea";domDrag.title=translate("drag");tdDrag.appendChild(domDrag)}dom.tr.appendChild(tdDrag);var tdMenu=document.createElement("td");var menu=document.createElement("button");menu.type="button";dom.menu=menu;menu.className="jsoneditor-button jsoneditor-contextmenu";menu.title=translate("actionsMenu");tdMenu.appendChild(dom.menu);dom.tr.appendChild(tdMenu)}var tdField=document.createElement("td");dom.tr.appendChild(tdField);dom.tree=this._createDomTree();tdField.appendChild(dom.tree);this.updateDom({"updateIndexes":true});return dom.tr};Node.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||false};Node.onDragStart=function(nodes,event){if(!Array.isArray(nodes))return Node.onDragStart([nodes],event);if(nodes.length===0)return;var firstNode=nodes[0];var lastNode=nodes[nodes.length-1];var parent=firstNode.parent;var draggedNode=Node.getNodeFromTarget(event.target);var editor=firstNode.editor;var offsetY=util.getAbsoluteTop(draggedNode.dom.tr)-util.getAbsoluteTop(firstNode.dom.tr);if(!editor.mousemove)editor.mousemove=util.addEventListener(window,"mousemove",function(event){Node.onDrag(nodes,event)});if(!editor.mouseup)editor.mouseup=util.addEventListener(window,"mouseup",function(event){Node.onDragEnd(nodes,event)});editor.highlighter.lock();editor.drag={oldCursor:document.body.style.cursor,oldSelection:editor.getDomSelection(),oldPaths:nodes.map(getInternalPath),oldParent:parent,oldNextNode:parent.childs[lastNode.getIndex()+1]||parent.append,oldParentPathRedo:parent.getInternalPath(),oldIndexRedo:firstNode.getIndex(),mouseX:event.pageX,offsetY:offsetY,level:firstNode.getLevel()};document.body.style.cursor="move";event.preventDefault()};Node.onDrag=function(nodes,event){if(!Array.isArray(nodes))return Node.onDrag([nodes],event);if(nodes.length===0)return;var editor=nodes[0].editor;var mouseY=event.pageY-editor.drag.offsetY;var mouseX=event.pageX;var trThis,trPrev,trNext,trFirst,trLast,trRoot;var nodePrev,nodeNext;var topThis,topPrev,topFirst,heightThis,bottomNext,heightNext;var moved=false;var firstNode=nodes[0];trThis=firstNode.dom.tr;topThis=util.getAbsoluteTop(trThis);heightThis=trThis.offsetHeight;if(mouseY<topThis){trPrev=trThis;do{trPrev=trPrev.previousSibling;nodePrev=Node.getNodeFromTarget(trPrev);topPrev=trPrev?util.getAbsoluteTop(trPrev):0}while(trPrev&&mouseY<topPrev);if(nodePrev&&!nodePrev.parent)nodePrev=undefined;if(!nodePrev){trRoot=trThis.parentNode.firstChild;trPrev=trRoot?trRoot.nextSibling:undefined;nodePrev=Node.getNodeFromTarget(trPrev);if(nodePrev==firstNode)nodePrev=undefined}if(nodePrev&&nodePrev.isVisible()){trPrev=nodePrev.dom.tr;topPrev=trPrev?util.getAbsoluteTop(trPrev):0;if(mouseY>topPrev+heightThis)nodePrev=undefined}if(nodePrev){nodes.forEach(function(node){nodePrev.parent.moveBefore(node,nodePrev)});moved=true}}else{var lastNode=nodes[nodes.length-1];trLast=lastNode.expanded&&lastNode.append?lastNode.append.getDom():lastNode.dom.tr;trFirst=trLast?trLast.nextSibling:undefined;if(trFirst){topFirst=util.getAbsoluteTop(trFirst);trNext=trFirst;do{nodeNext=Node.getNodeFromTarget(trNext);if(trNext){bottomNext=trNext.nextSibling?util.getAbsoluteTop(trNext.nextSibling):0;heightNext=trNext?bottomNext-topFirst:0;if(nodeNext&&nodeNext.parent.childs.length==nodes.length&&nodeNext.parent.childs[nodes.length-1]==lastNode)topThis+=27;trNext=trNext.nextSibling}}while(trNext&&mouseY>topThis+heightNext);if(nodeNext&&nodeNext.parent){var diffX=mouseX-editor.drag.mouseX;var diffLevel=Math.round(diffX/24/2);var level=editor.drag.level+diffLevel;var levelNext=nodeNext.getLevel();trPrev=nodeNext.dom.tr&&nodeNext.dom.tr.previousSibling;while(levelNext<level&&trPrev){nodePrev=Node.getNodeFromTarget(trPrev);var isDraggedNode=nodes.some(function(node){return node===nodePrev||nodePrev.isDescendantOf(node)});if(isDraggedNode);else if(nodePrev instanceof AppendNode){var childs=nodePrev.parent.childs;if(childs.length!=nodes.length||childs[nodes.length-1]!=lastNode){nodeNext=Node.getNodeFromTarget(trPrev);levelNext=nodeNext.getLevel()}else break}else break;trPrev=trPrev.previousSibling}if(nodeNext instanceof AppendNode&&!nodeNext.isVisible()&&nodeNext.parent.showMore.isVisible())nodeNext=nodeNext._nextNode();if(nodeNext&&nodeNext.dom.tr&&trLast.nextSibling!=nodeNext.dom.tr){nodes.forEach(function(node){nodeNext.parent.moveBefore(node,nodeNext)});moved=true}}}}if(moved){editor.drag.mouseX=mouseX;editor.drag.level=firstNode.getLevel()}editor.startAutoScroll(mouseY);event.preventDefault()};Node.onDragEnd=function(nodes,event){if(!Array.isArray(nodes))return Node.onDrag([nodes],event);if(nodes.length===0)return;var firstNode=nodes[0];var editor=firstNode.editor;if(nodes[0])nodes[0].dom.menu.focus();var oldParentPath=editor.drag.oldParent.getInternalPath();var newParentPath=firstNode.parent.getInternalPath();var sameParent=editor.drag.oldParent===firstNode.parent;var oldIndex=editor.drag.oldNextNode.getIndex();var newIndex=firstNode.getIndex();var oldParentPathRedo=editor.drag.oldParentPathRedo;var oldIndexRedo=editor.drag.oldIndexRedo;var newIndexRedo=sameParent&&oldIndexRedo<newIndex?newIndex+nodes.length:newIndex;if(!sameParent||oldIndexRedo!==newIndex)editor._onAction("moveNodes",{count:nodes.length,fieldNames:nodes.map(getField),oldParentPath:oldParentPath,newParentPath:newParentPath,oldIndex:oldIndex,newIndex:newIndex,oldIndexRedo:oldIndexRedo,newIndexRedo:newIndexRedo,oldParentPathRedo:oldParentPathRedo,newParentPathRedo:null,oldSelection:editor.drag.oldSelection,newSelection:editor.getDomSelection()});document.body.style.cursor=editor.drag.oldCursor;editor.highlighter.unlock();nodes.forEach(function(node){node.updateDom();if(event.target!==node.dom.drag&&event.target!==node.dom.menu)editor.highlighter.unhighlight()});delete editor.drag;if(editor.mousemove){util.removeEventListener(window,"mousemove",editor.mousemove);delete editor.mousemove}if(editor.mouseup){util.removeEventListener(window,"mouseup",editor.mouseup);delete editor.mouseup}editor.stopAutoScroll();event.preventDefault()};Node.prototype.isDescendantOf=function(node){var n=this.parent;while(n){if(n==node)return true;n=n.parent}return false};Node.prototype._createDomField=function(){return document.createElement("div")};Node.prototype.setHighlight=function(highlight){if(this.dom.tr){if(highlight)util.addClassName(this.dom.tr,"jsoneditor-highlight");else util.removeClassName(this.dom.tr,"jsoneditor-highlight");if(this.append)this.append.setHighlight(highlight);if(this.childs)this.childs.forEach(function(child){child.setHighlight(highlight)})}};Node.prototype.setSelected=function(selected,isFirst){this.selected=selected;if(this.dom.tr){if(selected)util.addClassName(this.dom.tr,"jsoneditor-selected");else util.removeClassName(this.dom.tr,"jsoneditor-selected");if(isFirst)util.addClassName(this.dom.tr,"jsoneditor-first");else util.removeClassName(this.dom.tr,"jsoneditor-first");if(this.append)this.append.setSelected(selected);if(this.showMore)this.showMore.setSelected(selected);if(this.childs)this.childs.forEach(function(child){child.setSelected(selected)})}};Node.prototype.updateValue=function(value){this.value=value;this.previousValue=value;this.valueError=undefined;this.updateDom()};Node.prototype.updateField=function(field){this.field=field;this.previousField=field;this.fieldError=undefined;this.updateDom()};Node.prototype.updateDom=function(options){var domTree=this.dom.tree;if(domTree)domTree.style.marginLeft=this.getLevel()*24+"px";var domField=this.dom.field;if(domField){if(this.fieldEditable){domField.contentEditable=this.editable.field;domField.spellcheck=false;domField.className="jsoneditor-field"}else{domField.contentEditable=false;domField.className="jsoneditor-readonly"}var fieldText;if(this.index!=undefined)fieldText=this.index;else if(this.field!=undefined)fieldText=this.field;else if(this._hasChilds())fieldText=this.type;else fieldText="";domField.innerHTML=this._escapeHTML(fieldText);this._updateSchema()}var domValue=this.dom.value;if(domValue)if(this.type=="array"){this.updateNodeName();util.addClassName(this.dom.tr,"jsoneditor-expandable")}else if(this.type=="object"){this.updateNodeName();util.addClassName(this.dom.tr,"jsoneditor-expandable")}else{domValue.innerHTML=this._escapeHTML(this.value);util.removeClassName(this.dom.tr,"jsoneditor-expandable")}this._updateDomField();this._updateDomValue();this._updateCssClassName();if(options&&options.updateIndexes===true)this._updateDomIndexes();if(options&&options.recurse===true)if(this.childs)this.childs.forEach(function(child){child.updateDom(options)});if(this.error)this.updateError();if(this.append)this.append.updateDom();if(this.showMore)this.showMore.updateDom()};Node.prototype._updateSchema=function(){if(this.editor&&this.editor.options){this.schema=this.editor.options.schema?Node._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null;if(this.schema)this.enum=Node._findEnum(this.schema);else delete this.enum}};Node._findEnum=function(schema){if(schema.enum)return schema.enum;var composite=schema.oneOf||schema.anyOf||schema.allOf;if(composite){var match=composite.filter(function(entry){return entry.enum});if(match.length>0)return match[0].enum}return null};Node._findSchema=function(schema,schemaRefs,path){var childSchema=schema;var foundSchema=childSchema;var allSchemas=schema.oneOf||schema.anyOf||schema.allOf;if(!allSchemas)allSchemas=[schema];for(var j=0;j<allSchemas.length;j++){childSchema=allSchemas[j];if("$ref"in childSchema&&typeof childSchema["$ref"]==="string"){childSchema=schemaRefs[childSchema["$ref"]];if(childSchema)foundSchema=Node._findSchema(childSchema,schemaRefs,path)}for(var i=0;i<path.length&&childSchema;i++){var nextPath=path.slice(i+1,path.length);var key=path[i];if(typeof key==="string"&&childSchema.patternProperties&&!(childSchema.properties&&key in childSchema.properties))for(var prop in childSchema.patternProperties){if(key.match(prop))foundSchema=Node._findSchema(childSchema.patternProperties[prop],schemaRefs,nextPath)}else if(childSchema.items&&childSchema.items.properties){childSchema=childSchema.items.properties[key];if(childSchema)foundSchema=Node._findSchema(childSchema,schemaRefs,nextPath)}else if(typeof key==="string"&&childSchema.properties)if(!(key in childSchema.properties))foundSchema=null;else{childSchema=childSchema.properties[key];if(childSchema)foundSchema=Node._findSchema(childSchema,schemaRefs,nextPath)}else if(typeof key==="number"&&childSchema.items){childSchema=childSchema.items;if(childSchema)foundSchema=Node._findSchema(childSchema,schemaRefs,nextPath)}}}if(foundSchema===schema&&path.length>0)return null;return foundSchema};Node.prototype._updateDomIndexes=function(){var domValue=this.dom.value;var childs=this.childs;if(domValue&&childs)if(this.type=="array")childs.forEach(function(child,index){child.index=index;var childField=child.dom.field;if(childField)childField.innerHTML=index});else if(this.type=="object")childs.forEach(function(child){if(child.index!=undefined){delete child.index;if(child.field==undefined)child.field=""}})};Node.prototype._createDomValue=function(){var domValue;if(this.type=="array"){domValue=document.createElement("div");domValue.innerHTML="[...]"}else if(this.type=="object"){domValue=document.createElement("div");domValue.innerHTML="{...}"}else if(!this.editable.value&&util.isUrl(this.value)){domValue=document.createElement("a");domValue.href=this.value;domValue.innerHTML=this._escapeHTML(this.value)}else{domValue=document.createElement("div");domValue.contentEditable=this.editable.value;domValue.spellcheck=false;domValue.innerHTML=this._escapeHTML(this.value)}return domValue};Node.prototype._createDomExpandButton=function(){var expand=document.createElement("button");expand.type="button";if(this._hasChilds()){expand.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed";expand.title=translate("expandTitle")}else{expand.className="jsoneditor-button jsoneditor-invisible";expand.title=""}return expand};Node.prototype._createDomTree=function(){var dom=this.dom;var domTree=document.createElement("table");var tbody=document.createElement("tbody");domTree.style.borderCollapse="collapse";domTree.className="jsoneditor-values";domTree.appendChild(tbody);var tr=document.createElement("tr");tbody.appendChild(tr);var tdExpand=document.createElement("td");tdExpand.className="jsoneditor-tree";tr.appendChild(tdExpand);dom.expand=this._createDomExpandButton();tdExpand.appendChild(dom.expand);dom.tdExpand=tdExpand;var tdField=document.createElement("td");tdField.className="jsoneditor-tree";tr.appendChild(tdField);dom.field=this._createDomField();tdField.appendChild(dom.field);dom.tdField=tdField;var tdSeparator=document.createElement("td");tdSeparator.className="jsoneditor-tree";tr.appendChild(tdSeparator);if(this.type!="object"&&this.type!="array"){tdSeparator.appendChild(document.createTextNode(":"));tdSeparator.className="jsoneditor-separator"}dom.tdSeparator=tdSeparator;var tdValue=document.createElement("td");tdValue.className="jsoneditor-tree";tr.appendChild(tdValue);dom.value=this._createDomValue();tdValue.appendChild(dom.value);dom.tdValue=tdValue;return domTree};Node.prototype.onEvent=function(event){var type=event.type,target=event.target||event.srcElement,dom=this.dom,node=this,expandable=this._hasChilds();if(typeof this.editor.options.onEvent==="function")this._onEvent(event);if(target==dom.drag||target==dom.menu)if(type=="mouseover")this.editor.highlighter.highlight(this);else if(type=="mouseout")this.editor.highlighter.unhighlight();if(type=="click"&&target==dom.menu){var highlighter=node.editor.highlighter;highlighter.highlight(node);highlighter.lock();util.addClassName(dom.menu,"jsoneditor-selected");this.showContextMenu(dom.menu,function(){util.removeClassName(dom.menu,"jsoneditor-selected");highlighter.unlock();highlighter.unhighlight()})}if(type=="click")if(target==dom.expand||(node.editor.options.mode==="view"||node.editor.options.mode==="form")&&target.nodeName==="DIV")if(expandable){var recurse=event.ctrlKey;this._onExpand(recurse)}if(type==="click"&&(event.target===node.dom.tdColor||event.target===node.dom.color))this._showColorPicker();if(type=="change"&&target==dom.checkbox){this.dom.value.innerHTML=!this.value;this._getDomValue();this._updateDomDefault()}if(type=="change"&&target==dom.select){this.dom.value.innerHTML=dom.select.value;this._getDomValue();this._updateDomValue()}var domValue=dom.value;if(target==domValue)switch(type){case "blur":case "change":this._getDomValue();this._clearValueError();this._updateDomValue();if(this.value)domValue.innerHTML=this._escapeHTML(this.value);break;case "input":this._getDomValue();this._updateDomValue();break;case "keydown":case "mousedown":this.editor.selection=this.editor.getDomSelection();break;case "click":if(event.ctrlKey&&this.editable.value)if(util.isUrl(this.value)){event.preventDefault();window.open(this.value,"_blank")}break;case "keyup":this._getDomValue();this._updateDomValue();break;case "cut":case "paste":setTimeout(function(){node._getDomValue();node._updateDomValue()},1);break}var domField=dom.field;if(target==domField)switch(type){case "blur":this._getDomField(true);this._updateDomField();if(this.field)domField.innerHTML=this._escapeHTML(this.field);break;case "input":this._getDomField();this._updateSchema();this._updateDomField();this._updateDomValue();break;case "keydown":case "mousedown":this.editor.selection=this.editor.getDomSelection();break;case "keyup":this._getDomField();this._updateDomField();break;case "cut":case "paste":setTimeout(function(){node._getDomField();node._updateDomField()},1);break}var domTree=dom.tree;if(domTree&&target==domTree.parentNode&&type=="click"&&!event.hasMoved){var left=event.offsetX!=undefined?event.offsetX<(this.getLevel()+1)*24:event.pageX<util.getAbsoluteLeft(dom.tdSeparator);if(left||expandable){if(domField){util.setEndOfContentEditable(domField);domField.focus()}}else if(domValue&&!this.enum){util.setEndOfContentEditable(domValue);domValue.focus()}}if((target==dom.tdExpand&&!expandable||target==dom.tdField||target==dom.tdSeparator)&&(type=="click"&&!event.hasMoved))if(domField){util.setEndOfContentEditable(domField);domField.focus()}if(type=="keydown")this.onKeyDown(event)};Node.prototype._onEvent=function(event){var element=event.target;if(element===this.dom.field||element===this.dom.value){var info={field:this.getField(),path:this.getPath()};if(!this._hasChilds()&&element===this.dom.value)info.value=this.getValue();this.editor.options.onEvent(info,event)}};Node.prototype.onKeyDown=function(event){var keynum=event.which||event.keyCode;var target=event.target||event.srcElement;var ctrlKey=event.ctrlKey;var shiftKey=event.shiftKey;var altKey=event.altKey;var handled=false;var prevNode,nextNode,nextDom,nextDom2;var editable=this.editor.options.mode==="tree";var oldSelection;var oldNextNode;var oldParent;var oldIndexRedo;var newIndexRedo;var oldParentPathRedo;var newParentPathRedo;var nodes;var multiselection;var selectedNodes=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this];var firstNode=selectedNodes[0];var lastNode=selectedNodes[selectedNodes.length-1];if(keynum==13)if(target==this.dom.value){if(!this.editable.value||event.ctrlKey)if(util.isUrl(this.value)){window.open(this.value,"_blank");handled=true}}else{if(target==this.dom.expand){var expandable=this._hasChilds();if(expandable){var recurse=event.ctrlKey;this._onExpand(recurse);target.focus();handled=true}}}else if(keynum==68){if(ctrlKey&&editable){Node.onDuplicate(selectedNodes);handled=true}}else if(keynum==69){if(ctrlKey){this._onExpand(shiftKey);target.focus();handled=true}}else if(keynum==77&&editable){if(ctrlKey){this.showContextMenu(target);handled=true}}else if(keynum==46&&editable){if(ctrlKey){Node.onRemove(selectedNodes);handled=true}}else if(keynum==45&&editable)if(ctrlKey&&!shiftKey){this._onInsertBefore();handled=true}else{if(ctrlKey&&shiftKey){this._onInsertAfter();handled=true}}else if(keynum==35){if(altKey){var endNode=this._lastNode();if(endNode)endNode.focus(Node.focusElement||this._getElementName(target));handled=true}}else if(keynum==36){if(altKey){var homeNode=this._firstNode();if(homeNode)homeNode.focus(Node.focusElement||this._getElementName(target));handled=true}}else if(keynum==37)if(altKey&&!shiftKey){var prevElement=this._previousElement(target);if(prevElement)this.focus(this._getElementName(prevElement));handled=true}else{if(altKey&&shiftKey&&editable){if(lastNode.expanded){var appendDom=lastNode.getAppendDom();nextDom=appendDom?appendDom.nextSibling:undefined}else{var dom=lastNode.getDom();nextDom=dom.nextSibling}if(nextDom){nextNode=Node.getNodeFromTarget(nextDom);nextDom2=nextDom.nextSibling;nextNode2=Node.getNodeFromTarget(nextDom2);if(nextNode&&nextNode instanceof AppendNode&&!(lastNode.parent.childs.length==1)&&nextNode2&&nextNode2.parent){oldSelection=this.editor.getDomSelection();oldParent=firstNode.parent;oldNextNode=oldParent.childs[lastNode.getIndex()+1]||oldParent.append;oldIndexRedo=firstNode.getIndex();newIndexRedo=nextNode2.getIndex();oldParentPathRedo=oldParent.getInternalPath();newParentPathRedo=nextNode2.parent.getInternalPath();selectedNodes.forEach(function(node){nextNode2.parent.moveBefore(node,nextNode2)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{count:selectedNodes.length,fieldNames:selectedNodes.map(getField),oldParentPath:oldParent.getInternalPath(),newParentPath:firstNode.parent.getInternalPath(),oldIndex:oldNextNode.getIndex(),newIndex:firstNode.getIndex(),oldIndexRedo:oldIndexRedo,newIndexRedo:newIndexRedo,oldParentPathRedo:oldParentPathRedo,newParentPathRedo:newParentPathRedo,oldSelection:oldSelection,newSelection:this.editor.getDomSelection()})}}}}else if(keynum==38)if(altKey&&!shiftKey){prevNode=this._previousNode();if(prevNode){this.editor.deselect(true);prevNode.focus(Node.focusElement||this._getElementName(target))}handled=true}else if(!altKey&&ctrlKey&&shiftKey&&editable){prevNode=this._previousNode();if(prevNode){multiselection=this.editor.multiselection;multiselection.start=multiselection.start||this;multiselection.end=prevNode;nodes=this.editor._findTopLevelNodes(multiselection.start,multiselection.end);this.editor.select(nodes);prevNode.focus("field")}handled=true}else{if(altKey&&shiftKey&&editable){prevNode=firstNode._previousNode();if(prevNode&&prevNode.parent){oldSelection=this.editor.getDomSelection();oldParent=firstNode.parent;oldNextNode=oldParent.childs[lastNode.getIndex()+1]||oldParent.append;oldIndexRedo=firstNode.getIndex();newIndexRedo=prevNode.getIndex();oldParentPathRedo=oldParent.getInternalPath();newParentPathRedo=prevNode.parent.getInternalPath();selectedNodes.forEach(function(node){prevNode.parent.moveBefore(node,prevNode)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{count:selectedNodes.length,fieldNames:selectedNodes.map(getField),oldParentPath:oldParent.getInternalPath(),newParentPath:firstNode.parent.getInternalPath(),oldIndex:oldNextNode.getIndex(),newIndex:firstNode.getIndex(),oldIndexRedo:oldIndexRedo,newIndexRedo:newIndexRedo,oldParentPathRedo:oldParentPathRedo,newParentPathRedo:newParentPathRedo,oldSelection:oldSelection,newSelection:this.editor.getDomSelection()})}handled=true}}else if(keynum==39)if(altKey&&!shiftKey){var nextElement=this._nextElement(target);if(nextElement)this.focus(this._getElementName(nextElement));handled=true}else{if(altKey&&shiftKey&&editable){dom=firstNode.getDom();var prevDom=dom.previousSibling;if(prevDom){prevNode=Node.getNodeFromTarget(prevDom);if(prevNode&&prevNode.parent&&!prevNode.isVisible()){oldSelection=this.editor.getDomSelection();oldParent=firstNode.parent;oldNextNode=oldParent.childs[lastNode.getIndex()+1]||oldParent.append;oldIndexRedo=firstNode.getIndex();newIndexRedo=prevNode.getIndex();oldParentPathRedo=oldParent.getInternalPath();newParentPathRedo=prevNode.parent.getInternalPath();selectedNodes.forEach(function(node){prevNode.parent.moveBefore(node,prevNode)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{count:selectedNodes.length,fieldNames:selectedNodes.map(getField),oldParentPath:oldParent.getInternalPath(),newParentPath:firstNode.parent.getInternalPath(),oldIndex:oldNextNode.getIndex(),newIndex:firstNode.getIndex(),oldIndexRedo:oldIndexRedo,newIndexRedo:newIndexRedo,oldParentPathRedo:oldParentPathRedo,newParentPathRedo:newParentPathRedo,oldSelection:oldSelection,newSelection:this.editor.getDomSelection()})}}}}else if(keynum==40)if(altKey&&!shiftKey){nextNode=this._nextNode();if(nextNode){this.editor.deselect(true);nextNode.focus(Node.focusElement||this._getElementName(target))}handled=true}else if(!altKey&&ctrlKey&&shiftKey&&editable){nextNode=this._nextNode();if(nextNode){multiselection=this.editor.multiselection;multiselection.start=multiselection.start||this;multiselection.end=nextNode;nodes=this.editor._findTopLevelNodes(multiselection.start,multiselection.end);this.editor.select(nodes);nextNode.focus("field")}handled=true}else if(altKey&&shiftKey&&editable){if(lastNode.expanded)nextNode=lastNode.append?lastNode.append._nextNode():undefined;else nextNode=lastNode._nextNode();if(nextNode&&!nextNode.isVisible())nextNode=nextNode.parent.showMore;if(nextNode&&nextNode instanceof AppendNode)nextNode=lastNode;var nextNode2=nextNode&&(nextNode._nextNode()||nextNode.parent.append);if(nextNode2&&nextNode2.parent){oldSelection=this.editor.getDomSelection();oldParent=firstNode.parent;oldNextNode=oldParent.childs[lastNode.getIndex()+1]||oldParent.append;oldIndexRedo=firstNode.getIndex();newIndexRedo=nextNode2.getIndex();oldParentPathRedo=oldParent.getInternalPath();newParentPathRedo=nextNode2.parent.getInternalPath();selectedNodes.forEach(function(node){nextNode2.parent.moveBefore(node,nextNode2)});this.focus(Node.focusElement||this._getElementName(target));this.editor._onAction("moveNodes",{count:selectedNodes.length,fieldNames:selectedNodes.map(getField),oldParentPath:oldParent.getInternalPath(),newParentPath:firstNode.parent.getInternalPath(),oldParentPathRedo:oldParentPathRedo,newParentPathRedo:newParentPathRedo,oldIndexRedo:oldIndexRedo,newIndexRedo:newIndexRedo,oldIndex:oldNextNode.getIndex(),newIndex:firstNode.getIndex(),oldSelection:oldSelection,newSelection:this.editor.getDomSelection()})}handled=true}if(handled){event.preventDefault();event.stopPropagation()}};Node.prototype._onExpand=function(recurse){if(recurse){var table=this.dom.tr.parentNode;var frame=table.parentNode;var scrollTop=frame.scrollTop;frame.removeChild(table)}if(this.expanded)this.collapse(recurse);else this.expand(recurse);if(recurse){frame.appendChild(table);frame.scrollTop=scrollTop}};Node.prototype._showColorPicker=function(){if(typeof this.editor.options.onColorPicker==="function"&&this.dom.color){var node=this;node._deleteDomColor();node.updateDom();var colorAnchor=createAbsoluteAnchor(this.dom.color,this.editor.frame);this.editor.options.onColorPicker(colorAnchor,this.value,function onChange(value){if(typeof value==="string"&&value!==node.value){node._deleteDomColor();node.value=value;node.updateDom();node._debouncedOnChangeValue()}})}};Node.prototype.getFieldNames=function(excludeNode){if(this.type==="object")return this.childs.filter(function(child){return child!==excludeNode}).map(function(child){return child.field});return[]};Node.onRemove=function(nodes){if(!Array.isArray(nodes))return Node.onRemove([nodes]);if(nodes&&nodes.length>0){var firstNode=nodes[0];var parent=firstNode.parent;var editor=firstNode.editor;var firstIndex=firstNode.getIndex();editor.highlighter.unhighlight();var oldSelection=editor.getDomSelection();Node.blurNodes(nodes);var newSelection=editor.getDomSelection();var paths=nodes.map(getInternalPath);nodes.forEach(function(node){node.parent._remove(node)});editor._onAction("removeNodes",{nodes:nodes,paths:paths,parentPath:parent.getInternalPath(),index:firstIndex,oldSelection:oldSelection,newSelection:newSelection})}};Node.onDuplicate=function(nodes){if(!Array.isArray(nodes))return Node.onDuplicate([nodes]);if(nodes&&nodes.length>0){var lastNode=nodes[nodes.length-1];var parent=lastNode.parent;var editor=lastNode.editor;editor.deselect(editor.multiselection.nodes);var oldSelection=editor.getDomSelection();var afterNode=lastNode;var clones=nodes.map(function(node){var clone=node.clone();if(node.parent.type==="object"){var existingFieldNames=node.parent.getFieldNames();clone.field=util.findUniqueName(node.field,existingFieldNames)}parent.insertAfter(clone,afterNode);afterNode=clone;return clone});if(nodes.length===1)clones[0].focus();else editor.select(clones);var newSelection=editor.getDomSelection();editor._onAction("duplicateNodes",{paths:nodes.map(getInternalPath),clonePaths:clones.map(getInternalPath),afterPath:lastNode.getInternalPath(),parentPath:parent.getInternalPath(),oldSelection:oldSelection,newSelection:newSelection})}};Node.prototype._onInsertBefore=function(field,value,type){var oldSelection=this.editor.getDomSelection();var newNode=new Node(this.editor,{field:field!=undefined?field:"",value:value!=undefined?value:"",type:type});newNode.expand(true);var beforePath=this.getInternalPath();this.parent.insertBefore(newNode,this);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[newNode],paths:[newNode.getInternalPath()],beforePath:beforePath,parentPath:this.parent.getInternalPath(),oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onInsertAfter=function(field,value,type){var oldSelection=this.editor.getDomSelection();var newNode=new Node(this.editor,{field:field!=undefined?field:"",value:value!=undefined?value:"",type:type});newNode.expand(true);this.parent.insertAfter(newNode,this);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[newNode],paths:[newNode.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onAppend=function(field,value,type){var oldSelection=this.editor.getDomSelection();var newNode=new Node(this.editor,{field:field!=undefined?field:"",value:value!=undefined?value:"",type:type});newNode.expand(true);this.parent.appendChild(newNode);this.editor.highlighter.unhighlight();newNode.focus("field");var newSelection=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[newNode],paths:[newNode.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:oldSelection,newSelection:newSelection})};Node.prototype._onChangeType=function(newType){var oldType=this.type;if(newType!=oldType){var oldSelection=this.editor.getDomSelection();this.changeType(newType);var newSelection=this.editor.getDomSelection();this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:oldType,newType:newType,oldSelection:oldSelection,newSelection:newSelection})}};Node.prototype.sort=function(path,direction){if(!this._hasChilds())return;this.hideChilds();var oldChilds=this.childs;this.childs=this.childs.concat();var order=direction==="desc"?-1:1;if(this.type==="object")this.childs.sort(function(a,b){return order*naturalSort(a.field,b.field)});else this.childs.sort(function(a,b){var nodeA=a.getNestedChild(path);var nodeB=b.getNestedChild(path);if(!nodeA)return order;if(!nodeB)return-order;var valueA=nodeA.value;var valueB=nodeB.value;if(typeof valueA!=="string"&&typeof valueB!=="string")return valueA>valueB?order:valueA<valueB?-order:0;return order*naturalSort(valueA,valueB)});this._updateDomIndexes();this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:oldChilds,newChilds:this.childs});this.showChilds()};Node.prototype.update=function(newValue){var oldValue=this.getInternalValue();this.setValue(newValue);this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:oldValue,newValue:this.getInternalValue()})};Node.prototype._detachFromDom=function(){var table=this.dom.tr?this.dom.tr.parentNode:undefined;var lastTr;if(this.expanded)lastTr=this.getAppendDom();else lastTr=this.getDom();var nextTr=lastTr&&lastTr.parentNode?lastTr.nextSibling:undefined;this.hide({resetVisibleChilds:false});return{table:table,nextTr:nextTr}};Node.prototype._attachToDom=function(domAnchor){if(domAnchor.table)if(domAnchor.nextTr)domAnchor.table.insertBefore(this.getDom(),domAnchor.nextTr);else domAnchor.table.appendChild(this.getDom());if(this.expanded)this.showChilds()};Node.prototype.transform=function(query){if(!this._hasChilds())return;this.hideChilds();try{var oldInternalValue=this.getInternalValue();var oldValue=this.getValue();var newValue=jmespath.search(oldValue,query);this.setValue(newValue);var newInternalValue=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:oldInternalValue,newValue:newInternalValue});this.showChilds()}catch(err){this.showChilds();this.editor._onError(err)}};Node.prototype.getNestedChild=function(path){var i=0;var child=this;while(child&&i<path.length){child=child.findChildByProperty(path[i]);i++}return child};Node.prototype.findChildByProperty=function(prop){if(this.type!=="object")return undefined;return this.childs.find(function(child){return child.field===prop})};Node.prototype.getChildPaths=function(includeObjects){var pathsMap={};this._getChildPaths(pathsMap,"",includeObjects);if(this.type==="array")this.childs.forEach(function(child){child._getChildPaths(pathsMap,"",includeObjects)});return Object.keys(pathsMap).sort()};Node.prototype._getChildPaths=function(pathsMap,rootPath,includeObjects){if(this.type==="auto"||this.type==="string"||includeObjects)pathsMap[rootPath||"."]=true;if(this.type==="object")this.childs.forEach(function(child){child._getChildPaths(pathsMap,rootPath+"."+child.field,includeObjects)})};Node.prototype.getAppendDom=function(){if(!this.append){this.append=new AppendNode(this.editor);this.append.setParent(this)}return this.append.getDom()};Node.prototype.getShowMoreDom=function(){if(!this.showMore)this.showMore=new ShowMoreNode(this.editor,this);return this.showMore.getDom()};Node.getNodeFromTarget=function(target){while(target){if(target.node)return target.node;target=target.parentNode}return undefined};Node.targetIsColorPicker=function(target){var node=Node.getNodeFromTarget(target);if(node){var parent=target&&target.parentNode;while(parent){if(parent===node.dom.color)return true;parent=parent.parentNode}}return false};Node.blurNodes=function(nodes){if(!Array.isArray(nodes)){Node.blurNodes([nodes]);return}var firstNode=nodes[0];var parent=firstNode.parent;var firstIndex=firstNode.getIndex();if(parent.childs[firstIndex+nodes.length])parent.childs[firstIndex+nodes.length].focus();else if(parent.childs[firstIndex-1])parent.childs[firstIndex-1].focus();else parent.focus()};Node.prototype.nextSibling=function(){var index=this.parent.childs.indexOf(this);return this.parent.childs[index+1]||this.parent.append};Node.prototype._previousNode=function(){var prevNode=null;var dom=this.getDom();if(dom&&dom.parentNode){var prevDom=dom;do{prevDom=prevDom.previousSibling;prevNode=Node.getNodeFromTarget(prevDom)}while(prevDom&&prevNode&&(prevNode instanceof AppendNode&&!prevNode.isVisible()))}return prevNode};Node.prototype._nextNode=function(){var nextNode=null;var dom=this.getDom();if(dom&&dom.parentNode){var nextDom=dom;do{nextDom=nextDom.nextSibling;nextNode=Node.getNodeFromTarget(nextDom)}while(nextDom&&nextNode&&(nextNode instanceof AppendNode&&!nextNode.isVisible()))}return nextNode};Node.prototype._firstNode=function(){var firstNode=null;var dom=this.getDom();if(dom&&dom.parentNode){var firstDom=dom.parentNode.firstChild;firstNode=Node.getNodeFromTarget(firstDom)}return firstNode};Node.prototype._lastNode=function(){var lastNode=null;var dom=this.getDom();if(dom&&dom.parentNode){var lastDom=dom.parentNode.lastChild;lastNode=Node.getNodeFromTarget(lastDom);while(lastDom&&lastNode&&!lastNode.isVisible()){lastDom=lastDom.previousSibling;lastNode=Node.getNodeFromTarget(lastDom)}}return lastNode};Node.prototype._previousElement=function(elem){var dom=this.dom;switch(elem){case dom.value:if(this.fieldEditable)return dom.field;case dom.field:if(this._hasChilds())return dom.expand;case dom.expand:return dom.menu;case dom.menu:if(dom.drag)return dom.drag;default:return null}};Node.prototype._nextElement=function(elem){var dom=this.dom;switch(elem){case dom.drag:return dom.menu;case dom.menu:if(this._hasChilds())return dom.expand;case dom.expand:if(this.fieldEditable)return dom.field;case dom.field:if(!this._hasChilds())return dom.value;default:return null}};Node.prototype._getElementName=function(element){var dom=this.dom;for(var name in dom)if(dom.hasOwnProperty(name))if(dom[name]==element)return name;return null};Node.prototype._hasChilds=function(){return this.type=="array"||this.type=="object"};Node.TYPE_TITLES={"auto":translate("autoType"),"object":translate("objectType"),"array":translate("arrayType"),"string":translate("stringType")};Node.prototype.addTemplates=function(menu,append){var node=this;var templates=node.editor.options.templates;if(templates==null)return;if(templates.length)menu.push({"type":"separator"});var appendData=function(name,data){node._onAppend(name,data)};var insertData=function(name,data){node._onInsertBefore(name,data)};templates.forEach(function(template){menu.push({text:template.text,className:template.className||"jsoneditor-type-object",title:template.title,click:append?appendData.bind(this,template.field,template.value):insertData.bind(this,template.field,template.value)})})};Node.prototype.showContextMenu=function(anchor,onClose){var node=this;var titles=Node.TYPE_TITLES;var items=[];if(this.editable.value)items.push({text:translate("type"),title:translate("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:translate("auto"),className:"jsoneditor-type-auto"+(this.type=="auto"?" jsoneditor-selected":""),title:titles.auto,click:function(){node._onChangeType("auto")}},{text:translate("array"),className:"jsoneditor-type-array"+(this.type=="array"?" jsoneditor-selected":""),title:titles.array,click:function(){node._onChangeType("array")}},{text:translate("object"),className:"jsoneditor-type-object"+(this.type=="object"?" jsoneditor-selected":""),title:titles.object,click:function(){node._onChangeType("object")}},{text:translate("string"),className:"jsoneditor-type-string"+(this.type=="string"?" jsoneditor-selected":""),title:titles.string,click:function(){node._onChangeType("string")}}]});if(this._hasChilds()){if(this.editor.options.enableSort)items.push({text:translate("sort"),title:translate("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){var anchor=node.editor.options.modalAnchor||DEFAULT_MODAL_ANCHOR;showSortModal(node,anchor)}});if(this.editor.options.enableTransform)items.push({text:translate("transform"),title:translate("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){var anchor=node.editor.options.modalAnchor||DEFAULT_MODAL_ANCHOR;showTransformModal(node,anchor)}})}if(this.parent&&this.parent._hasChilds()){if(items.length)items.push({"type":"separator"});var childs=node.parent.childs;if(node==childs[childs.length-1]){var appendSubmenu=[{text:translate("auto"),className:"jsoneditor-type-auto",title:titles.auto,click:function(){node._onAppend("","","auto")}},{text:translate("array"),className:"jsoneditor-type-array",title:titles.array,click:function(){node._onAppend("",[])}},{text:translate("object"),className:"jsoneditor-type-object",title:titles.object,click:function(){node._onAppend("",{})}},{text:translate("string"),className:"jsoneditor-type-string",title:titles.string,click:function(){node._onAppend("","","string")}}];node.addTemplates(appendSubmenu,true);items.push({text:translate("appendText"),title:translate("appendTitle"),submenuTitle:translate("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){node._onAppend("","","auto")},submenu:appendSubmenu})}var insertSubmenu=[{text:translate("auto"),className:"jsoneditor-type-auto",title:titles.auto,click:function(){node._onInsertBefore("","","auto")}},{text:translate("array"),className:"jsoneditor-type-array",title:titles.array,click:function(){node._onInsertBefore("",[])}},{text:translate("object"),className:"jsoneditor-type-object",title:titles.object,click:function(){node._onInsertBefore("",{})}},{text:translate("string"),className:"jsoneditor-type-string",title:titles.string,click:function(){node._onInsertBefore("","","string")}}];node.addTemplates(insertSubmenu,false);items.push({text:translate("insert"),title:translate("insertTitle"),submenuTitle:translate("insertSub"),className:"jsoneditor-insert",click:function(){node._onInsertBefore("","","auto")},submenu:insertSubmenu});if(this.editable.field){items.push({text:translate("duplicateText"),title:translate("duplicateField"),className:"jsoneditor-duplicate",click:function(){Node.onDuplicate(node)}});items.push({text:translate("removeText"),title:translate("removeField"),className:"jsoneditor-remove",click:function(){Node.onRemove(node)}})}}if(this.editor.options.onCreateMenu)items=this.editor.options.onCreateMenu(items,{path:node.getPath()});var menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.editor.frame)};Node.prototype._getType=function(value){if(value instanceof Array)return"array";if(value instanceof Object)return"object";if(typeof value=="string"&&typeof this._stringCast(value)!="string")return"string";return"auto"};Node.prototype._stringCast=function(str){var lower=str.toLowerCase(),num=Number(str),numFloat=parseFloat(str);if(str=="")return"";else if(lower=="null")return null;else if(lower=="true")return true;else if(lower=="false")return false;else if(!isNaN(num)&&!isNaN(numFloat))return num;else return str};Node.prototype._escapeHTML=function(text){if(typeof text!=="string")return String(text);else{var htmlEscaped=String(text).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/  /g," \x26nbsp;").replace(/^ /,"\x26nbsp;").replace(/ $/,"\x26nbsp;");var json=JSON.stringify(htmlEscaped);var html=json.substring(1,json.length-1);if(this.editor.options.escapeUnicode===true)html=util.escapeUnicodeChars(html);return html}};Node.prototype._unescapeHTML=function(escapedText){var json='"'+this._escapeJSON(escapedText)+'"';var htmlEscaped=util.parse(json);return htmlEscaped.replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"\x26")};Node.prototype._escapeJSON=function(text){var escaped="";var i=0;while(i<text.length){var c=text.charAt(i);if(c=="\n")escaped+="\\n";else if(c=="\\"){escaped+=c;i++;c=text.charAt(i);if(c===""||'"\\/bfnrtu'.indexOf(c)==-1)escaped+="\\";escaped+=c}else if(c=='"')escaped+='\\"';else escaped+=c;i++}return escaped};Node.prototype.updateNodeName=function(){var count=this.childs?this.childs.length:0;var nodeName;if(this.type==="object"||this.type==="array"){if(this.editor.options.onNodeName)try{nodeName=this.editor.options.onNodeName({path:this.getPath(),size:count,type:this.type})}catch(err){console.error("Error in onNodeName callback: ",err)}this.dom.value.innerHTML=this.type==="object"?"{"+(nodeName||count)+"}":"["+(nodeName||count)+"]"}};Node.prototype.recursivelyUpdateNodeName=function(){if(this.expanded){this.updateNodeName();if(this.childs!=="undefined"){var i;for(i in this.childs)this.childs[i].recursivelyUpdateNodeName()}}};function getInternalPath(node){return node.getInternalPath()}function getField(node){return node.getField()}var AppendNode=appendNodeFactory(Node);var ShowMoreNode=showMoreNodeFactory(Node);module.exports=Node},function(module,exports,__webpack_require__){(function(exports){function isArray(obj){if(obj!==null)return Object.prototype.toString.call(obj)==="[object Array]";else return false}function isObject(obj){if(obj!==null)return Object.prototype.toString.call(obj)==="[object Object]";else return false}function strictDeepEqual(first,second){if(first===second)return true;var firstType=Object.prototype.toString.call(first);if(firstType!==Object.prototype.toString.call(second))return false;if(isArray(first)===true){if(first.length!==second.length)return false;for(var i=0;i<first.length;i++)if(strictDeepEqual(first[i],second[i])===false)return false;return true}if(isObject(first)===true){var keysSeen={};for(var key in first)if(hasOwnProperty.call(first,key)){if(strictDeepEqual(first[key],second[key])===false)return false;keysSeen[key]=true}for(var key2 in second)if(hasOwnProperty.call(second,key2))if(keysSeen[key2]!==true)return false;return true}return false}function isFalse(obj){if(obj===""||obj===false||obj===null)return true;else if(isArray(obj)&&obj.length===0)return true;else if(isObject(obj)){for(var key in obj)if(obj.hasOwnProperty(key))return false;return true}else return false}function objValues(obj){var keys=Object.keys(obj);var values=[];for(var i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values}function merge(a,b){var merged={};for(var key in a)merged[key]=a[key];for(var key2 in b)merged[key2]=b[key2];return merged}var trimLeft;if(typeof String.prototype.trimLeft==="function")trimLeft=function(str){return str.trimLeft()};else trimLeft=function(str){return str.match(/^\s*(.*)/)[1]};var TYPE_NUMBER=0;var TYPE_ANY=1;var TYPE_STRING=2;var TYPE_ARRAY=3;var TYPE_OBJECT=4;var TYPE_BOOLEAN=5;var TYPE_EXPREF=6;var TYPE_NULL=7;var TYPE_ARRAY_NUMBER=8;var TYPE_ARRAY_STRING=9;var TOK_EOF="EOF";var TOK_UNQUOTEDIDENTIFIER="UnquotedIdentifier";var TOK_QUOTEDIDENTIFIER="QuotedIdentifier";var TOK_RBRACKET="Rbracket";var TOK_RPAREN="Rparen";var TOK_COMMA="Comma";var TOK_COLON="Colon";var TOK_RBRACE="Rbrace";var TOK_NUMBER="Number";var TOK_CURRENT="Current";var TOK_EXPREF="Expref";var TOK_PIPE="Pipe";var TOK_OR="Or";var TOK_AND="And";var TOK_EQ="EQ";var TOK_GT="GT";var TOK_LT="LT";var TOK_GTE="GTE";var TOK_LTE="LTE";var TOK_NE="NE";var TOK_FLATTEN="Flatten";var TOK_STAR="Star";var TOK_FILTER="Filter";var TOK_DOT="Dot";var TOK_NOT="Not";var TOK_LBRACE="Lbrace";var TOK_LBRACKET="Lbracket";var TOK_LPAREN="Lparen";var TOK_LITERAL="Literal";var basicTokens={".":TOK_DOT,"*":TOK_STAR,",":TOK_COMMA,":":TOK_COLON,"{":TOK_LBRACE,"}":TOK_RBRACE,"]":TOK_RBRACKET,"(":TOK_LPAREN,")":TOK_RPAREN,"@":TOK_CURRENT};var operatorStartToken={"\x3c":true,"\x3e":true,"\x3d":true,"!":true};var skipChars={" ":true,"\t":true,"\n":true};function isAlpha(ch){return ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"||ch==="_"}function isNum(ch){return ch>="0"&&ch<="9"||ch==="-"}function isAlphaNum(ch){return ch>="a"&&ch<="z"||ch>="A"&&ch<="Z"||ch>="0"&&ch<="9"||ch==="_"}function Lexer(){}Lexer.prototype={tokenize:function(stream){var tokens=[];this._current=0;var start;var identifier;var token;while(this._current<stream.length)if(isAlpha(stream[this._current])){start=this._current;identifier=this._consumeUnquotedIdentifier(stream);tokens.push({type:TOK_UNQUOTEDIDENTIFIER,value:identifier,start:start})}else if(basicTokens[stream[this._current]]!==undefined){tokens.push({type:basicTokens[stream[this._current]],value:stream[this._current],start:this._current});this._current++}else if(isNum(stream[this._current])){token=this._consumeNumber(stream);tokens.push(token)}else if(stream[this._current]==="["){token=this._consumeLBracket(stream);tokens.push(token)}else if(stream[this._current]==='"'){start=this._current;identifier=this._consumeQuotedIdentifier(stream);tokens.push({type:TOK_QUOTEDIDENTIFIER,value:identifier,start:start})}else if(stream[this._current]==="'"){start=this._current;identifier=this._consumeRawStringLiteral(stream);tokens.push({type:TOK_LITERAL,value:identifier,start:start})}else if(stream[this._current]==="`"){start=this._current;var literal=this._consumeLiteral(stream);tokens.push({type:TOK_LITERAL,value:literal,start:start})}else if(operatorStartToken[stream[this._current]]!==undefined)tokens.push(this._consumeOperator(stream));else if(skipChars[stream[this._current]]!==undefined)this._current++;else if(stream[this._current]==="\x26"){start=this._current;this._current++;if(stream[this._current]==="\x26"){this._current++;tokens.push({type:TOK_AND,value:"\x26\x26",start:start})}else tokens.push({type:TOK_EXPREF,value:"\x26",start:start})}else if(stream[this._current]==="|"){start=this._current;this._current++;if(stream[this._current]==="|"){this._current++;tokens.push({type:TOK_OR,value:"||",start:start})}else tokens.push({type:TOK_PIPE,value:"|",start:start})}else{var error=new Error("Unknown character:"+stream[this._current]);error.name="LexerError";throw error;}return tokens},_consumeUnquotedIdentifier:function(stream){var start=this._current;this._current++;while(this._current<stream.length&&isAlphaNum(stream[this._current]))this._current++;return stream.slice(start,this._current)},_consumeQuotedIdentifier:function(stream){var start=this._current;this._current++;var maxLength=stream.length;while(stream[this._current]!=='"'&&this._current<maxLength){var current=this._current;if(stream[current]==="\\"&&(stream[current+1]==="\\"||stream[current+1]==='"'))current+=2;else current++;this._current=current}this._current++;return JSON.parse(stream.slice(start,this._current))},_consumeRawStringLiteral:function(stream){var start=this._current;this._current++;var maxLength=stream.length;while(stream[this._current]!=="'"&&this._current<maxLength){var current=this._current;if(stream[current]==="\\"&&(stream[current+1]==="\\"||stream[current+1]==="'"))current+=2;else current++;this._current=current}this._current++;var literal=stream.slice(start+1,this._current-1);return literal.replace("\\'","'")},_consumeNumber:function(stream){var start=this._current;this._current++;var maxLength=stream.length;while(isNum(stream[this._current])&&this._current<maxLength)this._current++;var value=parseInt(stream.slice(start,this._current));return{type:TOK_NUMBER,value:value,start:start}},_consumeLBracket:function(stream){var start=this._current;this._current++;if(stream[this._current]==="?"){this._current++;return{type:TOK_FILTER,value:"[?",start:start}}else if(stream[this._current]==="]"){this._current++;return{type:TOK_FLATTEN,value:"[]",start:start}}else return{type:TOK_LBRACKET,value:"[",start:start}},_consumeOperator:function(stream){var start=this._current;var startingChar=stream[start];this._current++;if(startingChar==="!")if(stream[this._current]==="\x3d"){this._current++;return{type:TOK_NE,value:"!\x3d",start:start}}else return{type:TOK_NOT,value:"!",start:start};else if(startingChar==="\x3c")if(stream[this._current]==="\x3d"){this._current++;return{type:TOK_LTE,value:"\x3c\x3d",start:start}}else return{type:TOK_LT,value:"\x3c",start:start};else if(startingChar==="\x3e")if(stream[this._current]==="\x3d"){this._current++;return{type:TOK_GTE,value:"\x3e\x3d",start:start}}else return{type:TOK_GT,value:"\x3e",start:start};else if(startingChar==="\x3d")if(stream[this._current]==="\x3d"){this._current++;return{type:TOK_EQ,value:"\x3d\x3d",start:start}}},_consumeLiteral:function(stream){this._current++;var start=this._current;var maxLength=stream.length;var literal;while(stream[this._current]!=="`"&&this._current<maxLength){var current=this._current;if(stream[current]==="\\"&&(stream[current+1]==="\\"||stream[current+1]==="`"))current+=2;else current++;this._current=current}var literalString=trimLeft(stream.slice(start,this._current));literalString=literalString.replace("\\`","`");if(this._looksLikeJSON(literalString))literal=JSON.parse(literalString);else literal=JSON.parse('"'+literalString+'"');this._current++;return literal},_looksLikeJSON:function(literalString){var startingChars='[{"';var jsonLiterals=["true","false","null"];var numberLooking="-0123456789";if(literalString==="")return false;else if(startingChars.indexOf(literalString[0])>=0)return true;else if(jsonLiterals.indexOf(literalString)>=0)return true;else if(numberLooking.indexOf(literalString[0])>=0)try{JSON.parse(literalString);return true}catch(ex){return false}else return false}};var bindingPower={};bindingPower[TOK_EOF]=0;bindingPower[TOK_UNQUOTEDIDENTIFIER]=0;bindingPower[TOK_QUOTEDIDENTIFIER]=0;bindingPower[TOK_RBRACKET]=0;bindingPower[TOK_RPAREN]=0;bindingPower[TOK_COMMA]=0;bindingPower[TOK_RBRACE]=0;bindingPower[TOK_NUMBER]=0;bindingPower[TOK_CURRENT]=0;bindingPower[TOK_EXPREF]=0;bindingPower[TOK_PIPE]=1;bindingPower[TOK_OR]=2;bindingPower[TOK_AND]=3;bindingPower[TOK_EQ]=5;bindingPower[TOK_GT]=5;bindingPower[TOK_LT]=5;bindingPower[TOK_GTE]=5;bindingPower[TOK_LTE]=5;bindingPower[TOK_NE]=5;bindingPower[TOK_FLATTEN]=9;bindingPower[TOK_STAR]=20;bindingPower[TOK_FILTER]=21;bindingPower[TOK_DOT]=40;bindingPower[TOK_NOT]=45;bindingPower[TOK_LBRACE]=50;bindingPower[TOK_LBRACKET]=55;bindingPower[TOK_LPAREN]=60;function Parser(){}Parser.prototype={parse:function(expression){this._loadTokens(expression);this.index=0;var ast=this.expression(0);if(this._lookahead(0)!==TOK_EOF){var t=this._lookaheadToken(0);var error=new Error("Unexpected token type: "+t.type+", value: "+t.value);error.name="ParserError";throw error;}return ast},_loadTokens:function(expression){var lexer=new Lexer;var tokens=lexer.tokenize(expression);tokens.push({type:TOK_EOF,value:"",start:expression.length});this.tokens=tokens},expression:function(rbp){var leftToken=this._lookaheadToken(0);this._advance();var left=this.nud(leftToken);var currentToken=this._lookahead(0);while(rbp<bindingPower[currentToken]){this._advance();left=this.led(currentToken,left);currentToken=this._lookahead(0)}return left},_lookahead:function(number){return this.tokens[this.index+number].type},_lookaheadToken:function(number){return this.tokens[this.index+number]},_advance:function(){this.index++},nud:function(token){var left;var right;var expression;switch(token.type){case TOK_LITERAL:return{type:"Literal",value:token.value};case TOK_UNQUOTEDIDENTIFIER:return{type:"Field",name:token.value};case TOK_QUOTEDIDENTIFIER:var node={type:"Field",name:token.value};if(this._lookahead(0)===TOK_LPAREN)throw new Error("Quoted identifier not allowed for function names.");else return node;break;case TOK_NOT:right=this.expression(bindingPower.Not);return{type:"NotExpression",children:[right]};case TOK_STAR:left={type:"Identity"};right=null;if(this._lookahead(0)===TOK_RBRACKET)right={type:"Identity"};else right=this._parseProjectionRHS(bindingPower.Star);return{type:"ValueProjection",children:[left,right]};case TOK_FILTER:return this.led(token.type,{type:"Identity"});case TOK_LBRACE:return this._parseMultiselectHash();case TOK_FLATTEN:left={type:TOK_FLATTEN,children:[{type:"Identity"}]};right=this._parseProjectionRHS(bindingPower.Flatten);return{type:"Projection",children:[left,right]};case TOK_LBRACKET:if(this._lookahead(0)===TOK_NUMBER||this._lookahead(0)===TOK_COLON){right=this._parseIndexExpression();return this._projectIfSlice({type:"Identity"},right)}else if(this._lookahead(0)===TOK_STAR&&this._lookahead(1)===TOK_RBRACKET){this._advance();this._advance();right=this._parseProjectionRHS(bindingPower.Star);return{type:"Projection",children:[{type:"Identity"},right]}}else return this._parseMultiselectList();break;case TOK_CURRENT:return{type:TOK_CURRENT};case TOK_EXPREF:expression=this.expression(bindingPower.Expref);return{type:"ExpressionReference",children:[expression]};case TOK_LPAREN:var args=[];while(this._lookahead(0)!==TOK_RPAREN){if(this._lookahead(0)===TOK_CURRENT){expression={type:TOK_CURRENT};this._advance()}else expression=this.expression(0);args.push(expression)}this._match(TOK_RPAREN);return args[0];default:this._errorToken(token)}},led:function(tokenName,left){var right;switch(tokenName){case TOK_DOT:var rbp=bindingPower.Dot;if(this._lookahead(0)!==TOK_STAR){right=this._parseDotRHS(rbp);return{type:"Subexpression",children:[left,right]}}else{this._advance();right=this._parseProjectionRHS(rbp);return{type:"ValueProjection",children:[left,right]}}break;case TOK_PIPE:right=this.expression(bindingPower.Pipe);return{type:TOK_PIPE,children:[left,right]};case TOK_OR:right=this.expression(bindingPower.Or);return{type:"OrExpression",children:[left,right]};case TOK_AND:right=this.expression(bindingPower.And);return{type:"AndExpression",children:[left,right]};case TOK_LPAREN:var name=left.name;var args=[];var expression,node;while(this._lookahead(0)!==TOK_RPAREN){if(this._lookahead(0)===TOK_CURRENT){expression={type:TOK_CURRENT};this._advance()}else expression=this.expression(0);if(this._lookahead(0)===TOK_COMMA)this._match(TOK_COMMA);args.push(expression)}this._match(TOK_RPAREN);node={type:"Function",name:name,children:args};return node;case TOK_FILTER:var condition=this.expression(0);this._match(TOK_RBRACKET);if(this._lookahead(0)===TOK_FLATTEN)right={type:"Identity"};else right=this._parseProjectionRHS(bindingPower.Filter);return{type:"FilterProjection",children:[left,right,condition]};case TOK_FLATTEN:var leftNode={type:TOK_FLATTEN,children:[left]};var rightNode=this._parseProjectionRHS(bindingPower.Flatten);return{type:"Projection",children:[leftNode,rightNode]};case TOK_EQ:case TOK_NE:case TOK_GT:case TOK_GTE:case TOK_LT:case TOK_LTE:return this._parseComparator(left,tokenName);case TOK_LBRACKET:var token=this._lookaheadToken(0);if(token.type===TOK_NUMBER||token.type===TOK_COLON){right=this._parseIndexExpression();return this._projectIfSlice(left,right)}else{this._match(TOK_STAR);this._match(TOK_RBRACKET);right=this._parseProjectionRHS(bindingPower.Star);return{type:"Projection",children:[left,right]}}break;default:this._errorToken(this._lookaheadToken(0))}},_match:function(tokenType){if(this._lookahead(0)===tokenType)this._advance();else{var t=this._lookaheadToken(0);var error=new Error("Expected "+tokenType+", got: "+t.type);error.name="ParserError";throw error;}},_errorToken:function(token){var error=new Error("Invalid token ("+token.type+'): "'+token.value+'"');error.name="ParserError";throw error;},_parseIndexExpression:function(){if(this._lookahead(0)===TOK_COLON||this._lookahead(1)===TOK_COLON)return this._parseSliceExpression();else{var node={type:"Index",value:this._lookaheadToken(0).value};this._advance();this._match(TOK_RBRACKET);return node}},_projectIfSlice:function(left,right){var indexExpr={type:"IndexExpression",children:[left,right]};if(right.type==="Slice")return{type:"Projection",children:[indexExpr,this._parseProjectionRHS(bindingPower.Star)]};else return indexExpr},_parseSliceExpression:function(){var parts=[null,null,null];var index=0;var currentToken=this._lookahead(0);while(currentToken!==TOK_RBRACKET&&index<3){if(currentToken===TOK_COLON){index++;this._advance()}else if(currentToken===TOK_NUMBER){parts[index]=this._lookaheadToken(0).value;this._advance()}else{var t=this._lookahead(0);var error=new Error("Syntax error, unexpected token: "+t.value+"("+t.type+")");error.name="Parsererror";throw error;}currentToken=this._lookahead(0)}this._match(TOK_RBRACKET);return{type:"Slice",children:parts}},_parseComparator:function(left,comparator){var right=this.expression(bindingPower[comparator]);return{type:"Comparator",name:comparator,children:[left,right]}},_parseDotRHS:function(rbp){var lookahead=this._lookahead(0);var exprTokens=[TOK_UNQUOTEDIDENTIFIER,TOK_QUOTEDIDENTIFIER,TOK_STAR];if(exprTokens.indexOf(lookahead)>=0)return this.expression(rbp);else if(lookahead===TOK_LBRACKET){this._match(TOK_LBRACKET);return this._parseMultiselectList()}else if(lookahead===TOK_LBRACE){this._match(TOK_LBRACE);return this._parseMultiselectHash()}},_parseProjectionRHS:function(rbp){var right;if(bindingPower[this._lookahead(0)]<10)right={type:"Identity"};else if(this._lookahead(0)===TOK_LBRACKET)right=this.expression(rbp);else if(this._lookahead(0)===TOK_FILTER)right=this.expression(rbp);else if(this._lookahead(0)===TOK_DOT){this._match(TOK_DOT);right=this._parseDotRHS(rbp)}else{var t=this._lookaheadToken(0);var error=new Error("Sytanx error, unexpected token: "+t.value+"("+t.type+")");error.name="ParserError";throw error;}return right},_parseMultiselectList:function(){var expressions=[];while(this._lookahead(0)!==TOK_RBRACKET){var expression=this.expression(0);expressions.push(expression);if(this._lookahead(0)===TOK_COMMA){this._match(TOK_COMMA);if(this._lookahead(0)===TOK_RBRACKET)throw new Error("Unexpected token Rbracket");}}this._match(TOK_RBRACKET);return{type:"MultiSelectList",children:expressions}},_parseMultiselectHash:function(){var pairs=[];var identifierTypes=[TOK_UNQUOTEDIDENTIFIER,TOK_QUOTEDIDENTIFIER];var keyToken,keyName,value,node;for(;;){keyToken=this._lookaheadToken(0);if(identifierTypes.indexOf(keyToken.type)<0)throw new Error("Expecting an identifier token, got: "+keyToken.type);keyName=keyToken.value;this._advance();this._match(TOK_COLON);value=this.expression(0);node={type:"KeyValuePair",name:keyName,value:value};pairs.push(node);if(this._lookahead(0)===TOK_COMMA)this._match(TOK_COMMA);else if(this._lookahead(0)===TOK_RBRACE){this._match(TOK_RBRACE);break}}return{type:"MultiSelectHash",children:pairs}}};function TreeInterpreter(runtime){this.runtime=runtime}TreeInterpreter.prototype={search:function(node,value){return this.visit(node,value)},visit:function(node,value){var matched,current,result,first,second,field,left,right,collected,i;switch(node.type){case "Field":if(value===null)return null;else if(isObject(value)){field=value[node.name];if(field===undefined)return null;else return field}else return null;break;case "Subexpression":result=this.visit(node.children[0],value);for(i=1;i<node.children.length;i++){result=this.visit(node.children[1],result);if(result===null)return null}return result;case "IndexExpression":left=this.visit(node.children[0],value);right=this.visit(node.children[1],left);return right;case "Index":if(!isArray(value))return null;var index=node.value;if(index<0)index=value.length+index;result=value[index];if(result===undefined)result=null;return result;case "Slice":if(!isArray(value))return null;var sliceParams=node.children.slice(0);var computed=this.computeSliceParams(value.length,sliceParams);var start=computed[0];var stop=computed[1];var step=computed[2];result=[];if(step>0)for(i=start;i<stop;i+=step)result.push(value[i]);else for(i=start;i>stop;i+=step)result.push(value[i]);return result;case "Projection":var base=this.visit(node.children[0],value);if(!isArray(base))return null;collected=[];for(i=0;i<base.length;i++){current=this.visit(node.children[1],base[i]);if(current!==null)collected.push(current)}return collected;case "ValueProjection":base=this.visit(node.children[0],value);if(!isObject(base))return null;collected=[];var values=objValues(base);for(i=0;i<values.length;i++){current=this.visit(node.children[1],values[i]);if(current!==null)collected.push(current)}return collected;case "FilterProjection":base=this.visit(node.children[0],value);if(!isArray(base))return null;var filtered=[];var finalResults=[];for(i=0;i<base.length;i++){matched=this.visit(node.children[2],base[i]);if(!isFalse(matched))filtered.push(base[i])}for(var j=0;j<filtered.length;j++){current=this.visit(node.children[1],filtered[j]);if(current!==null)finalResults.push(current)}return finalResults;case "Comparator":first=this.visit(node.children[0],value);second=this.visit(node.children[1],value);switch(node.name){case TOK_EQ:result=strictDeepEqual(first,second);break;case TOK_NE:result=!strictDeepEqual(first,second);break;case TOK_GT:result=first>second;break;case TOK_GTE:result=first>=second;break;case TOK_LT:result=first<second;break;case TOK_LTE:result=first<=second;break;default:throw new Error("Unknown comparator: "+node.name);}return result;case TOK_FLATTEN:var original=this.visit(node.children[0],value);if(!isArray(original))return null;var merged=[];for(i=0;i<original.length;i++){current=original[i];if(isArray(current))merged.push.apply(merged,current);else merged.push(current)}return merged;case "Identity":return value;case "MultiSelectList":if(value===null)return null;collected=[];for(i=0;i<node.children.length;i++)collected.push(this.visit(node.children[i],value));return collected;case "MultiSelectHash":if(value===null)return null;collected={};var child;for(i=0;i<node.children.length;i++){child=node.children[i];collected[child.name]=this.visit(child.value,value)}return collected;case "OrExpression":matched=this.visit(node.children[0],value);if(isFalse(matched))matched=this.visit(node.children[1],value);return matched;case "AndExpression":first=this.visit(node.children[0],value);if(isFalse(first)===true)return first;return this.visit(node.children[1],value);case "NotExpression":first=this.visit(node.children[0],value);return isFalse(first);case "Literal":return node.value;case TOK_PIPE:left=this.visit(node.children[0],value);return this.visit(node.children[1],left);case TOK_CURRENT:return value;case "Function":var resolvedArgs=[];for(i=0;i<node.children.length;i++)resolvedArgs.push(this.visit(node.children[i],value));return this.runtime.callFunction(node.name,resolvedArgs);case "ExpressionReference":var refNode=node.children[0];refNode.jmespathType=TOK_EXPREF;return refNode;default:throw new Error("Unknown node type: "+node.type);}},computeSliceParams:function(arrayLength,sliceParams){var start=sliceParams[0];var stop=sliceParams[1];var step=sliceParams[2];var computed=[null,null,null];if(step===null)step=1;else if(step===0){var error=new Error("Invalid slice, step cannot be 0");error.name="RuntimeError";throw error;}var stepValueNegative=step<0?true:false;if(start===null)start=stepValueNegative?arrayLength-1:0;else start=this.capSliceRange(arrayLength,start,step);if(stop===null)stop=stepValueNegative?-1:arrayLength;else stop=this.capSliceRange(arrayLength,stop,step);computed[0]=start;computed[1]=stop;computed[2]=step;return computed},capSliceRange:function(arrayLength,actualValue,step){if(actualValue<0){actualValue+=arrayLength;if(actualValue<0)actualValue=step<0?-1:0}else if(actualValue>=arrayLength)actualValue=step<0?arrayLength-1:arrayLength;return actualValue}};function Runtime(interpreter){this._interpreter=interpreter;this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[TYPE_NUMBER]}]},avg:{_func:this._functionAvg,_signature:[{types:[TYPE_ARRAY_NUMBER]}]},ceil:{_func:this._functionCeil,_signature:[{types:[TYPE_NUMBER]}]},contains:{_func:this._functionContains,_signature:[{types:[TYPE_STRING,TYPE_ARRAY]},{types:[TYPE_ANY]}]},"ends_with":{_func:this._functionEndsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},floor:{_func:this._functionFloor,_signature:[{types:[TYPE_NUMBER]}]},length:{_func:this._functionLength,_signature:[{types:[TYPE_STRING,TYPE_ARRAY,TYPE_OBJECT]}]},map:{_func:this._functionMap,_signature:[{types:[TYPE_EXPREF]},{types:[TYPE_ARRAY]}]},max:{_func:this._functionMax,_signature:[{types:[TYPE_ARRAY_NUMBER,TYPE_ARRAY_STRING]}]},"merge":{_func:this._functionMerge,_signature:[{types:[TYPE_OBJECT],variadic:true}]},"max_by":{_func:this._functionMaxBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},sum:{_func:this._functionSum,_signature:[{types:[TYPE_ARRAY_NUMBER]}]},"starts_with":{_func:this._functionStartsWith,_signature:[{types:[TYPE_STRING]},{types:[TYPE_STRING]}]},min:{_func:this._functionMin,_signature:[{types:[TYPE_ARRAY_NUMBER,TYPE_ARRAY_STRING]}]},"min_by":{_func:this._functionMinBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},type:{_func:this._functionType,_signature:[{types:[TYPE_ANY]}]},keys:{_func:this._functionKeys,_signature:[{types:[TYPE_OBJECT]}]},values:{_func:this._functionValues,_signature:[{types:[TYPE_OBJECT]}]},sort:{_func:this._functionSort,_signature:[{types:[TYPE_ARRAY_STRING,TYPE_ARRAY_NUMBER]}]},"sort_by":{_func:this._functionSortBy,_signature:[{types:[TYPE_ARRAY]},{types:[TYPE_EXPREF]}]},join:{_func:this._functionJoin,_signature:[{types:[TYPE_STRING]},{types:[TYPE_ARRAY_STRING]}]},reverse:{_func:this._functionReverse,_signature:[{types:[TYPE_STRING,TYPE_ARRAY]}]},"to_array":{_func:this._functionToArray,_signature:[{types:[TYPE_ANY]}]},"to_string":{_func:this._functionToString,_signature:[{types:[TYPE_ANY]}]},"to_number":{_func:this._functionToNumber,_signature:[{types:[TYPE_ANY]}]},"not_null":{_func:this._functionNotNull,_signature:[{types:[TYPE_ANY],variadic:true}]}}}Runtime.prototype={callFunction:function(name,resolvedArgs){var functionEntry=this.functionTable[name];if(functionEntry===undefined)throw new Error("Unknown function: "+name+"()");this._validateArgs(name,resolvedArgs,functionEntry._signature);return functionEntry._func.call(this,resolvedArgs)},_validateArgs:function(name,args,signature){var pluralized;if(signature[signature.length-1].variadic){if(args.length<signature.length){pluralized=signature.length===1?" argument":" arguments";throw new Error("ArgumentError: "+name+"() "+"takes at least"+signature.length+pluralized+" but received "+args.length);}}else if(args.length!==signature.length){pluralized=signature.length===1?" argument":" arguments";throw new Error("ArgumentError: "+name+"() "+"takes "+signature.length+pluralized+" but received "+args.length);}var currentSpec;var actualType;var typeMatched;for(var i=0;i<signature.length;i++){typeMatched=false;currentSpec=signature[i].types;actualType=this._getTypeName(args[i]);for(var j=0;j<currentSpec.length;j++)if(this._typeMatches(actualType,currentSpec[j],args[i])){typeMatched=true;break}if(!typeMatched)throw new Error("TypeError: "+name+"() "+"expected argument "+(i+1)+" to be type "+currentSpec+" but received type "+actualType+" instead.");}},_typeMatches:function(actual,expected,argValue){if(expected===TYPE_ANY)return true;if(expected===TYPE_ARRAY_STRING||expected===TYPE_ARRAY_NUMBER||expected===TYPE_ARRAY)if(expected===TYPE_ARRAY)return actual===TYPE_ARRAY;else{if(actual===TYPE_ARRAY){var subtype;if(expected===TYPE_ARRAY_NUMBER)subtype=TYPE_NUMBER;else if(expected===TYPE_ARRAY_STRING)subtype=TYPE_STRING;for(var i=0;i<argValue.length;i++)if(!this._typeMatches(this._getTypeName(argValue[i]),subtype,argValue[i]))return false;return true}}else return actual===expected},_getTypeName:function(obj){switch(Object.prototype.toString.call(obj)){case "[object String]":return TYPE_STRING;case "[object Number]":return TYPE_NUMBER;case "[object Array]":return TYPE_ARRAY;case "[object Boolean]":return TYPE_BOOLEAN;case "[object Null]":return TYPE_NULL;case "[object Object]":if(obj.jmespathType===TOK_EXPREF)return TYPE_EXPREF;else return TYPE_OBJECT}},_functionStartsWith:function(resolvedArgs){return resolvedArgs[0].lastIndexOf(resolvedArgs[1])===0},_functionEndsWith:function(resolvedArgs){var searchStr=resolvedArgs[0];var suffix=resolvedArgs[1];return searchStr.indexOf(suffix,searchStr.length-suffix.length)!==-1},_functionReverse:function(resolvedArgs){var typeName=this._getTypeName(resolvedArgs[0]);if(typeName===TYPE_STRING){var originalStr=resolvedArgs[0];var reversedStr="";for(var i=originalStr.length-1;i>=0;i--)reversedStr+=originalStr[i];return reversedStr}else{var reversedArray=resolvedArgs[0].slice(0);reversedArray.reverse();return reversedArray}},_functionAbs:function(resolvedArgs){return Math.abs(resolvedArgs[0])},_functionCeil:function(resolvedArgs){return Math.ceil(resolvedArgs[0])},_functionAvg:function(resolvedArgs){var sum=0;var inputArray=resolvedArgs[0];for(var i=0;i<inputArray.length;i++)sum+=inputArray[i];return sum/inputArray.length},_functionContains:function(resolvedArgs){return resolvedArgs[0].indexOf(resolvedArgs[1])>=0},_functionFloor:function(resolvedArgs){return Math.floor(resolvedArgs[0])},_functionLength:function(resolvedArgs){if(!isObject(resolvedArgs[0]))return resolvedArgs[0].length;else return Object.keys(resolvedArgs[0]).length},_functionMap:function(resolvedArgs){var mapped=[];var interpreter=this._interpreter;var exprefNode=resolvedArgs[0];var elements=resolvedArgs[1];for(var i=0;i<elements.length;i++)mapped.push(interpreter.visit(exprefNode,elements[i]));return mapped},_functionMerge:function(resolvedArgs){var merged={};for(var i=0;i<resolvedArgs.length;i++){var current=resolvedArgs[i];for(var key in current)merged[key]=current[key]}return merged},_functionMax:function(resolvedArgs){if(resolvedArgs[0].length>0){var typeName=this._getTypeName(resolvedArgs[0][0]);if(typeName===TYPE_NUMBER)return Math.max.apply(Math,resolvedArgs[0]);else{var elements=resolvedArgs[0];var maxElement=elements[0];for(var i=1;i<elements.length;i++)if(maxElement.localeCompare(elements[i])<0)maxElement=elements[i];return maxElement}}else return null},_functionMin:function(resolvedArgs){if(resolvedArgs[0].length>0){var typeName=this._getTypeName(resolvedArgs[0][0]);if(typeName===TYPE_NUMBER)return Math.min.apply(Math,resolvedArgs[0]);else{var elements=resolvedArgs[0];var minElement=elements[0];for(var i=1;i<elements.length;i++)if(elements[i].localeCompare(minElement)<0)minElement=elements[i];return minElement}}else return null},_functionSum:function(resolvedArgs){var sum=0;var listToSum=resolvedArgs[0];for(var i=0;i<listToSum.length;i++)sum+=listToSum[i];return sum},_functionType:function(resolvedArgs){switch(this._getTypeName(resolvedArgs[0])){case TYPE_NUMBER:return"number";case TYPE_STRING:return"string";case TYPE_ARRAY:return"array";case TYPE_OBJECT:return"object";case TYPE_BOOLEAN:return"boolean";case TYPE_EXPREF:return"expref";case TYPE_NULL:return"null"}},_functionKeys:function(resolvedArgs){return Object.keys(resolvedArgs[0])},_functionValues:function(resolvedArgs){var obj=resolvedArgs[0];var keys=Object.keys(obj);var values=[];for(var i=0;i<keys.length;i++)values.push(obj[keys[i]]);return values},_functionJoin:function(resolvedArgs){var joinChar=resolvedArgs[0];var listJoin=resolvedArgs[1];return listJoin.join(joinChar)},_functionToArray:function(resolvedArgs){if(this._getTypeName(resolvedArgs[0])===TYPE_ARRAY)return resolvedArgs[0];else return[resolvedArgs[0]]},_functionToString:function(resolvedArgs){if(this._getTypeName(resolvedArgs[0])===TYPE_STRING)return resolvedArgs[0];else return JSON.stringify(resolvedArgs[0])},_functionToNumber:function(resolvedArgs){var typeName=this._getTypeName(resolvedArgs[0]);var convertedValue;if(typeName===TYPE_NUMBER)return resolvedArgs[0];else if(typeName===TYPE_STRING){convertedValue=+resolvedArgs[0];if(!isNaN(convertedValue))return convertedValue}return null},_functionNotNull:function(resolvedArgs){for(var i=0;i<resolvedArgs.length;i++)if(this._getTypeName(resolvedArgs[i])!==TYPE_NULL)return resolvedArgs[i];return null},_functionSort:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);sortedArray.sort();return sortedArray},_functionSortBy:function(resolvedArgs){var sortedArray=resolvedArgs[0].slice(0);if(sortedArray.length===0)return sortedArray;var interpreter=this._interpreter;var exprefNode=resolvedArgs[1];var requiredType=this._getTypeName(interpreter.visit(exprefNode,sortedArray[0]));if([TYPE_NUMBER,TYPE_STRING].indexOf(requiredType)<0)throw new Error("TypeError");var that=this;var decorated=[];for(var i=0;i<sortedArray.length;i++)decorated.push([i,sortedArray[i]]);decorated.sort(function(a,b){var exprA=interpreter.visit(exprefNode,a[1]);var exprB=interpreter.visit(exprefNode,b[1]);if(that._getTypeName(exprA)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprA));else if(that._getTypeName(exprB)!==requiredType)throw new Error("TypeError: expected "+requiredType+", received "+that._getTypeName(exprB));if(exprA>exprB)return 1;else if(exprA<exprB)return-1;else return a[0]-b[0]});for(var j=0;j<decorated.length;j++)sortedArray[j]=decorated[j][1];return sortedArray},_functionMaxBy:function(resolvedArgs){var exprefNode=resolvedArgs[1];var resolvedArray=resolvedArgs[0];var keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]);var maxNumber=-Infinity;var maxRecord;var current;for(var i=0;i<resolvedArray.length;i++){current=keyFunction(resolvedArray[i]);if(current>maxNumber){maxNumber=current;maxRecord=resolvedArray[i]}}return maxRecord},_functionMinBy:function(resolvedArgs){var exprefNode=resolvedArgs[1];var resolvedArray=resolvedArgs[0];var keyFunction=this.createKeyFunction(exprefNode,[TYPE_NUMBER,TYPE_STRING]);var minNumber=Infinity;var minRecord;var current;for(var i=0;i<resolvedArray.length;i++){current=keyFunction(resolvedArray[i]);if(current<minNumber){minNumber=current;minRecord=resolvedArray[i]}}return minRecord},createKeyFunction:function(exprefNode,allowedTypes){var that=this;var interpreter=this._interpreter;var keyFunc=function(x){var current=interpreter.visit(exprefNode,x);if(allowedTypes.indexOf(that._getTypeName(current))<0){var msg="TypeError: expected one of "+allowedTypes+", received "+that._getTypeName(current);throw new Error(msg);}return current};return keyFunc}};function compile(stream){var parser=new Parser;var ast=parser.parse(stream);return ast}function tokenize(stream){var lexer=new Lexer;return lexer.tokenize(stream)}function search(data,expression){var parser=new Parser;var runtime=new Runtime;var interpreter=new TreeInterpreter(runtime);runtime._interpreter=interpreter;var node=parser.parse(expression);return interpreter.search(node,data)}exports.tokenize=tokenize;exports.compile=compile;exports.search=search;exports.strictDeepEqual=strictDeepEqual})(false?this.jmespath={}:exports)},function(module,exports){module.exports=function naturalSort(a,b){var re=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&&(""+s).toLowerCase()||""+s},x=i(a).replace(sre,"")||"",y=i(b).replace(sre,"")||"",xN=x.replace(re,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),yN=y.replace(re,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),xD=parseInt(x.match(hre),16)||xN.length!==1&&x.match(dre)&&Date.parse(x),yD=parseInt(y.match(hre),16)||xD&&y.match(dre)&&Date.parse(y)||null,oFxNcL,oFyNcL;if(yD)if(xD<yD)return-1;else if(xD>yD)return 1;for(var cLoc=0,numS=Math.max(xN.length,yN.length);cLoc<numS;cLoc++){oFxNcL=!(xN[cLoc]||"").match(ore)&&parseFloat(xN[cLoc])||xN[cLoc]||0;oFyNcL=!(yN[cLoc]||"").match(ore)&&parseFloat(yN[cLoc])||yN[cLoc]||0;if(isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;else if(typeof oFxNcL!==typeof oFyNcL){oFxNcL+="";oFyNcL+=""}if(oFxNcL<oFyNcL)return-1;if(oFxNcL>oFyNcL)return 1}return 0}},function(module,exports,__webpack_require__){var util=__webpack_require__(62);var ContextMenu=__webpack_require__(68);var translate=__webpack_require__(66).translate;function appendNodeFactory(Node){function AppendNode(editor){this.editor=editor;this.dom={}}AppendNode.prototype=new Node;AppendNode.prototype.getDom=function(){var dom=this.dom;if(dom.tr)return dom.tr;this._updateEditability();var trAppend=document.createElement("tr");trAppend.className="jsoneditor-append";trAppend.node=this;dom.tr=trAppend;if(this.editor.options.mode==="tree"){dom.tdDrag=document.createElement("td");var tdMenu=document.createElement("td");dom.tdMenu=tdMenu;var menu=document.createElement("button");menu.type="button";menu.className="jsoneditor-button jsoneditor-contextmenu";menu.title="Click to open the actions menu (Ctrl+M)";dom.menu=menu;tdMenu.appendChild(dom.menu)}var tdAppend=document.createElement("td");var domText=document.createElement("div");domText.innerHTML="("+translate("empty")+")";domText.className="jsoneditor-readonly";tdAppend.appendChild(domText);dom.td=tdAppend;dom.text=domText;this.updateDom();return trAppend};AppendNode.prototype.getPath=function(){return null};AppendNode.prototype.getIndex=function(){return null};AppendNode.prototype.updateDom=function(options){var dom=this.dom;var tdAppend=dom.td;if(tdAppend)tdAppend.style.paddingLeft=this.getLevel()*24+26+"px";var domText=dom.text;if(domText)domText.innerHTML="("+translate("empty")+" "+this.parent.type+")";var trAppend=dom.tr;if(!this.isVisible()){if(dom.tr.firstChild){if(dom.tdDrag)trAppend.removeChild(dom.tdDrag);if(dom.tdMenu)trAppend.removeChild(dom.tdMenu);trAppend.removeChild(tdAppend)}}else if(!dom.tr.firstChild){if(dom.tdDrag)trAppend.appendChild(dom.tdDrag);if(dom.tdMenu)trAppend.appendChild(dom.tdMenu);trAppend.appendChild(tdAppend)}};AppendNode.prototype.isVisible=function(){return this.parent.childs.length==0};AppendNode.prototype.showContextMenu=function(anchor,onClose){var node=this;var titles=Node.TYPE_TITLES;var appendSubmenu=[{text:translate("auto"),className:"jsoneditor-type-auto",title:titles.auto,click:function(){node._onAppend("","","auto")}},{text:translate("array"),className:"jsoneditor-type-array",title:titles.array,click:function(){node._onAppend("",[])}},{text:translate("object"),className:"jsoneditor-type-object",title:titles.object,click:function(){node._onAppend("",{})}},{text:translate("string"),className:"jsoneditor-type-string",title:titles.string,click:function(){node._onAppend("","","string")}}];node.addTemplates(appendSubmenu,true);var items=[{"text":translate("appendText"),"title":translate("appendTitleAuto"),"submenuTitle":translate("appendSubmenuTitle"),"className":"jsoneditor-insert","click":function(){node._onAppend("","","auto")},"submenu":appendSubmenu}];if(this.editor.options.onCreateMenu)items=this.editor.options.onCreateMenu(items,{path:node.getPath()});var menu=new ContextMenu(items,{close:onClose});menu.show(anchor,this.editor.frame)};AppendNode.prototype.onEvent=function(event){var type=event.type;var target=event.target||event.srcElement;var dom=this.dom;var menu=dom.menu;if(target==menu)if(type=="mouseover")this.editor.highlighter.highlight(this.parent);else if(type=="mouseout")this.editor.highlighter.unhighlight();if(type=="click"&&target==dom.menu){var highlighter=this.editor.highlighter;highlighter.highlight(this.parent);highlighter.lock();util.addClassName(dom.menu,"jsoneditor-selected");this.showContextMenu(dom.menu,function(){util.removeClassName(dom.menu,"jsoneditor-selected");highlighter.unlock();highlighter.unhighlight()})}if(type=="keydown")this.onKeyDown(event)};return AppendNode}module.exports=appendNodeFactory},function(module,exports,__webpack_require__){var translate=__webpack_require__(66).translate;function showMoreNodeFactory(Node){function ShowMoreNode(editor,parent){this.editor=editor;this.parent=parent;this.dom={}}ShowMoreNode.prototype=new Node;ShowMoreNode.prototype.getDom=function(){if(this.dom.tr)return this.dom.tr;this._updateEditability();if(!this.dom.tr){var me=this;var parent=this.parent;var showMoreButton=document.createElement("a");showMoreButton.appendChild(document.createTextNode(translate("showMore")));showMoreButton.href="#";showMoreButton.onclick=function(event){parent.visibleChilds=Math.floor(parent.visibleChilds/parent.getMaxVisibleChilds()+1)*parent.getMaxVisibleChilds();me.updateDom();parent.showChilds();event.preventDefault();return false};var showAllButton=document.createElement("a");showAllButton.appendChild(document.createTextNode(translate("showAll")));showAllButton.href="#";showAllButton.onclick=function(event){parent.visibleChilds=Infinity;me.updateDom();parent.showChilds();event.preventDefault();return false};var moreContents=document.createElement("div");var moreText=document.createTextNode(this._getShowMoreText());moreContents.className="jsoneditor-show-more";moreContents.appendChild(moreText);moreContents.appendChild(showMoreButton);moreContents.appendChild(document.createTextNode(". "));moreContents.appendChild(showAllButton);moreContents.appendChild(document.createTextNode(". "));var tdContents=document.createElement("td");tdContents.appendChild(moreContents);var moreTr=document.createElement("tr");if(this.editor.options.mode==="tree"){moreTr.appendChild(document.createElement("td"));moreTr.appendChild(document.createElement("td"))}moreTr.appendChild(tdContents);moreTr.className="jsoneditor-show-more";this.dom.tr=moreTr;this.dom.moreContents=moreContents;this.dom.moreText=moreText}this.updateDom();return this.dom.tr};ShowMoreNode.prototype.updateDom=function(options){if(this.isVisible()){this.dom.tr.node=this.parent.childs[this.parent.visibleChilds];if(!this.dom.tr.parentNode){var nextTr=this.parent._getNextTr();if(nextTr)nextTr.parentNode.insertBefore(this.dom.tr,nextTr)}this.dom.moreText.nodeValue=this._getShowMoreText();this.dom.moreContents.style.marginLeft=(this.getLevel()+1)*24+"px"}else if(this.dom.tr&&this.dom.tr.parentNode)this.dom.tr.parentNode.removeChild(this.dom.tr)};ShowMoreNode.prototype._getShowMoreText=function(){return translate("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "};ShowMoreNode.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds};ShowMoreNode.prototype.onEvent=function(event){var type=event.type;if(type==="keydown")this.onKeyDown(event)};return ShowMoreNode}module.exports=showMoreNodeFactory},function(module,exports,__webpack_require__){var picoModal=__webpack_require__(77);var translate=__webpack_require__(66).translate;function showSortModal(node,container){var content='\x3cdiv class\x3d"pico-modal-contents"\x3e'+'\x3cdiv class\x3d"pico-modal-header"\x3e'+translate("sort")+"\x3c/div\x3e"+"\x3cform\x3e"+"\x3ctable\x3e"+"\x3ctbody\x3e"+"\x3ctr\x3e"+"  \x3ctd\x3e"+translate("sortFieldLabel")+" \x3c/td\x3e"+'  \x3ctd class\x3d"jsoneditor-modal-input"\x3e'+'  \x3cdiv class\x3d"jsoneditor-select-wrapper"\x3e'+'    \x3cselect id\x3d"field" title\x3d"'+translate("sortFieldTitle")+'"\x3e'+"    \x3c/select\x3e"+"  \x3c/div\x3e"+"  \x3c/td\x3e"+"\x3c/tr\x3e"+"\x3ctr\x3e"+"  \x3ctd\x3e"+translate("sortDirectionLabel")+" \x3c/td\x3e"+'  \x3ctd class\x3d"jsoneditor-modal-input"\x3e'+'  \x3cdiv id\x3d"direction" class\x3d"jsoneditor-button-group"\x3e'+'\x3cinput type\x3d"button" '+'value\x3d"'+translate("sortAscending")+'" '+'title\x3d"'+translate("sortAscendingTitle")+'" '+'data-value\x3d"asc" '+'class\x3d"jsoneditor-button-first jsoneditor-button-asc"/\x3e'+'\x3cinput type\x3d"button" '+'value\x3d"'+translate("sortDescending")+'" '+'title\x3d"'+translate("sortDescendingTitle")+'" '+'data-value\x3d"desc" '+'class\x3d"jsoneditor-button-last jsoneditor-button-desc"/\x3e'+"  \x3c/div\x3e"+"  \x3c/td\x3e"+"\x3c/tr\x3e"+"\x3ctr\x3e"+'\x3ctd colspan\x3d"2" class\x3d"jsoneditor-modal-input jsoneditor-modal-actions"\x3e'+'  \x3cinput type\x3d"submit" id\x3d"ok" value\x3d"'+translate("ok")+'" /\x3e'+"\x3c/td\x3e"+"\x3c/tr\x3e"+"\x3c/tbody\x3e"+"\x3c/table\x3e"+"\x3c/form\x3e"+"\x3c/div\x3e";picoModal({parent:container,content:content,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(modal){var form=modal.modalElem().querySelector("form");var ok=modal.modalElem().querySelector("#ok");var field=modal.modalElem().querySelector("#field");var direction=modal.modalElem().querySelector("#direction");var paths=node.type==="array"?node.getChildPaths():["."];paths.forEach(function(path){var option=document.createElement("option");option.text=path;option.value=path;field.appendChild(option)});function setDirection(value){direction.value=value;direction.className="jsoneditor-button-group jsoneditor-button-group-value-"+direction.value}field.value=node.sortedBy?node.sortedBy.path:paths[0];setDirection(node.sortedBy?node.sortedBy.direction:"asc");direction.onclick=function(event){setDirection(event.target.getAttribute("data-value"))};ok.onclick=function(event){event.preventDefault();event.stopPropagation();modal.close();var path=field.value;var pathArray=path==="."?[]:path.split(".").slice(1);node.sortedBy={path:path,direction:direction.value};node.sort(pathArray,direction.value)};if(form)form.onsubmit=ok.onclick}).afterClose(function(modal){modal.destroy()}).show()}module.exports=showSortModal},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,factory){if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else if(typeof module==="object"&&module.exports)module.exports=factory();else root.picoModal=factory()})(this,function(){function isNode(value){if(typeof Node==="object")return value instanceof Node;else return value&&typeof value==="object"&&typeof value.nodeType==="number"}function isString(value){return typeof value==="string"}function observable(){var callbacks=[];return{watch:callbacks.push.bind(callbacks),trigger:function(context,detail){var unprevented=true;var event={detail:detail,preventDefault:function preventDefault(){unprevented=false}};for(var i=0;i<callbacks.length;i++)callbacks[i](context,event);return unprevented}}}function isHidden(elem){return window.getComputedStyle(elem).display==="none"}function Elem(elem){this.elem=elem}Elem.make=function(parent,tag){if(typeof parent==="string")parent=document.querySelector(parent);var elem=document.createElement(tag||"div");(parent||document.body).appendChild(elem);return new Elem(elem)};Elem.prototype={child:function(tag){return Elem.make(this.elem,tag)},stylize:function(styles){styles=styles||{};if(typeof styles.opacity!=="undefined")styles.filter="alpha(opacity\x3d"+styles.opacity*100+")";for(var prop in styles)if(styles.hasOwnProperty(prop))this.elem.style[prop]=styles[prop];return this},clazz:function(clazz){this.elem.className+=" "+clazz;return this},html:function(content){if(isNode(content))this.elem.appendChild(content);else this.elem.innerHTML=content;return this},onClick:function(callback){this.elem.addEventListener("click",callback);return this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(name,value){if(value!==undefined)this.elem.setAttribute(name,value);return this},anyAncestor:function(predicate){var elem=this.elem;while(elem)if(predicate(new Elem(elem)))return true;else elem=elem.parentNode;return false},isVisible:function(){return!isHidden(this.elem)}};function buildOverlay(getOption,close){return Elem.make(getOption("parent")).clazz("pico-overlay").clazz(getOption("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1E4}).stylize(getOption("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){if(getOption("overlayClose",true))close()})}var autoinc=1;function buildModal(getOption,close){var width=getOption("width","auto");if(typeof width==="number")width=""+width+"px";var id=getOption("modalId","pico-"+autoinc++);var elem=Elem.make(getOption("parent")).clazz("pico-content").clazz(getOption("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:width,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(getOption("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(getOption("content")).attr("id",id).attr("role","dialog").attr("aria-labelledby",getOption("ariaLabelledBy")).attr("aria-describedby",getOption("ariaDescribedBy",id)).onClick(function(event){var isCloseClick=(new Elem(event.target)).anyAncestor(function(elem){return/\bpico-close\b/.test(elem.elem.className)});if(isCloseClick)close()});return elem}function buildClose(elem,getOption){if(getOption("closeButton",true))return elem.child("button").html(getOption("closeHtml","\x26#xD7;")).clazz("pico-close").clazz(getOption("closeClass","")).stylize(getOption("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",getOption("close-label","Close"))}function buildElemAccessor(builder){return function(){return builder().elem}}var escapeKey=observable();var tabKey=observable();document.documentElement.addEventListener("keydown",function onKeyPress(event){var keycode=event.which||event.keyCode;if(keycode===27)escapeKey.trigger();else if(keycode===9)tabKey.trigger(event)});function manageFocus(iface,isEnabled){function matches(elem,selector){var fn=elem.msMatchesSelector||elem.webkitMatchesSelector||elem.matches;return fn.call(elem,selector)}function canFocus(elem){if(isHidden(elem)||matches(elem,":disabled")||elem.hasAttribute("contenteditable"))return false;else return elem.hasAttribute("tabindex")||matches(elem,"input,select,textarea,button,a[href],area[href],iframe")}function firstFocusable(elem){var items=elem.getElementsByTagName("*");for(var i=0;i<items.length;i++)if(canFocus(items[i]))return items[i]}function lastFocusable(elem){var items=elem.getElementsByTagName("*");for(var i=items.length;i--;)if(canFocus(items[i]))return items[i]}var focused;iface.beforeShow(function getActiveFocus(){focused=document.activeElement});iface.afterShow(function focusModal(){if(isEnabled()){var focusable=firstFocusable(iface.modalElem());if(focusable)focusable.focus()}});iface.afterClose(function returnFocus(){if(isEnabled()&&focused)focused.focus();focused=null});tabKey.watch(function tabKeyPress(event){if(isEnabled()&&iface.isVisible()){var first=firstFocusable(iface.modalElem());var last=lastFocusable(iface.modalElem());var from=event.shiftKey?first:last;if(from===document.activeElement){(event.shiftKey?last:first).focus();event.preventDefault()}}})}function manageBodyOverflow(iface,isEnabled){var origOverflow;var body=new Elem(document.body);iface.beforeShow(function(){origOverflow=body.elem.style.overflow;if(isEnabled())body.stylize({overflow:"hidden"})});iface.afterClose(function(){body.stylize({overflow:origOverflow})})}return function picoModal(options){if(isString(options)||isNode(options))options={content:options};var afterCreateEvent=observable();var beforeShowEvent=observable();var afterShowEvent=observable();var beforeCloseEvent=observable();var afterCloseEvent=observable();function getOption(opt,defaultValue){var value=options[opt];if(typeof value==="function")value=value(defaultValue);return value===undefined?defaultValue:value}var modalElem=build.bind(window,"modal");var shadowElem=build.bind(window,"overlay");var closeElem=build.bind(window,"close");var iface;function forceClose(detail){shadowElem().hide();modalElem().hide();afterCloseEvent.trigger(iface,detail)}function close(detail){if(beforeCloseEvent.trigger(iface,detail))forceClose(detail)}function returnIface(callback){return function(){callback.apply(this,arguments);return iface}}var built;function build(name,detail){if(!built){var modal=buildModal(getOption,close);built={modal:modal,overlay:buildOverlay(getOption,close),close:buildClose(modal,getOption)};afterCreateEvent.trigger(iface,detail)}return built[name]}iface={modalElem:buildElemAccessor(modalElem),closeElem:buildElemAccessor(closeElem),overlayElem:buildElemAccessor(shadowElem),buildDom:returnIface(build.bind(null,null)),isVisible:function(){return!!(built&&modalElem&&modalElem().isVisible())},show:function(detail){if(beforeShowEvent.trigger(iface,detail)){shadowElem().show();closeElem();modalElem().show();afterShowEvent.trigger(iface,detail)}return this},close:returnIface(close),forceClose:returnIface(forceClose),destroy:function(){modalElem().destroy();shadowElem().destroy();shadowElem=modalElem=closeElem=undefined},options:function(opts){Object.keys(opts).map(function(key){options[key]=opts[key]})},afterCreate:returnIface(afterCreateEvent.watch),beforeShow:returnIface(beforeShowEvent.watch),afterShow:returnIface(afterShowEvent.watch),beforeClose:returnIface(beforeCloseEvent.watch),afterClose:returnIface(afterCloseEvent.watch)};manageFocus(iface,getOption.bind(null,"focus",true));manageBodyOverflow(iface,getOption.bind(null,"bodyOverflow",true));escapeKey.watch(function escapeKeyPress(){if(getOption("escCloses",true)&&iface.isVisible())iface.close()});return iface}})},function(module,exports,__webpack_require__){var jmespath=__webpack_require__(72);var picoModal=__webpack_require__(77);var Selectr=__webpack_require__(79);var translate=__webpack_require__(66).translate;var util=__webpack_require__(62);var debounce=util.debounce;var MAX_PREVIEW_LINES=100;function showTransformModal(node,container){var value=node.getValue();var content='\x3clabel class\x3d"pico-modal-contents"\x3e'+'\x3cdiv class\x3d"pico-modal-header"\x3e'+translate("transform")+"\x3c/div\x3e"+"\x3cp\x3e"+'Enter a \x3ca href\x3d"http://jmespath.org" target\x3d"_blank"\x3eJMESPath\x3c/a\x3e query to filter, sort, or transform the JSON data.\x3cbr/\x3e'+'To learn JMESPath, go to \x3ca href\x3d"http://jmespath.org/tutorial.html" target\x3d"_blank"\x3ethe interactive tutorial\x3c/a\x3e.'+"\x3c/p\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-label"\x3e'+translate("transformWizardLabel")+" \x3c/div\x3e"+'\x3cdiv id\x3d"wizard" class\x3d"jsoneditor-jmespath-block jsoneditor-jmespath-wizard"\x3e'+'  \x3ctable class\x3d"jsoneditor-jmespath-wizard-table"\x3e'+"    \x3ctbody\x3e"+"      \x3ctr\x3e"+"        \x3cth\x3e"+translate("transformWizardFilter")+"\x3c/th\x3e"+'        \x3ctd class\x3d"jsoneditor-jmespath-filter"\x3e'+'          \x3cdiv class\x3d"jsoneditor-inline jsoneditor-jmespath-filter-field" \x3e'+'            \x3cselect id\x3d"filterField"\x3e'+"            \x3c/select\x3e"+"          \x3c/div\x3e"+'          \x3cdiv class\x3d"jsoneditor-inline jsoneditor-jmespath-filter-relation" \x3e'+'            \x3cselect id\x3d"filterRelation"\x3e'+'              \x3coption value\x3d"\x3d\x3d"\x3e\x3d\x3d\x3c/option\x3e'+'              \x3coption value\x3d"!\x3d"\x3e!\x3d\x3c/option\x3e'+'              \x3coption value\x3d"\x3c"\x3e\x26lt;\x3c/option\x3e'+'              \x3coption value\x3d"\x3c\x3d"\x3e\x26lt;\x3d\x3c/option\x3e'+'              \x3coption value\x3d"\x3e"\x3e\x26gt;\x3c/option\x3e'+'              \x3coption value\x3d"\x3e\x3d"\x3e\x26gt;\x3d\x3c/option\x3e'+"            \x3c/select\x3e"+"          \x3c/div\x3e"+'          \x3cdiv class\x3d"jsoneditor-inline jsoneditor-jmespath-filter-value" \x3e'+'            \x3cinput placeholder\x3d"value..." id\x3d"filterValue" /\x3e'+"          \x3c/div\x3e"+"        \x3c/td\x3e"+"      \x3c/tr\x3e"+"      \x3ctr\x3e"+"        \x3cth\x3e"+translate("transformWizardSortBy")+"\x3c/th\x3e"+'        \x3ctd class\x3d"jsoneditor-jmespath-filter"\x3e'+'          \x3cdiv class\x3d"jsoneditor-inline jsoneditor-jmespath-sort-field"\x3e'+'            \x3cselect id\x3d"sortField"\x3e'+"            \x3c/select\x3e"+"          \x3c/div\x3e"+'          \x3cdiv class\x3d"jsoneditor-inline jsoneditor-jmespath-sort-order" \x3e'+'            \x3cselect id\x3d"sortOrder"\x3e'+'              \x3coption value\x3d"asc"\x3eAscending\x3c/option\x3e'+'              \x3coption value\x3d"desc"\x3eDescending\x3c/option\x3e'+"            \x3c/select\x3e"+"          \x3c/div\x3e"+"        \x3c/td\x3e"+"      \x3c/tr\x3e"+'      \x3ctr id\x3d"selectFieldsPart"\x3e'+"        \x3cth\x3e"+translate("transformWizardSelectFields")+"\x3c/th\x3e"+'        \x3ctd class\x3d"jsoneditor-jmespath-filter"\x3e'+'          \x3cselect class\x3d"jsoneditor-jmespath-select-fields" id\x3d"selectFields" multiple\x3e\x3c/select\x3e'+"        \x3c/td\x3e"+"      \x3c/tr\x3e"+"    \x3c/tbody\x3e"+"  \x3c/table\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-label"\x3e'+translate("transformQueryLabel")+" \x3c/div\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-block"\x3e'+'  \x3ctextarea id\x3d"query" '+'            rows\x3d"4" '+'            autocomplete\x3d"off" '+'            autocorrect\x3d"off" '+'            autocapitalize\x3d"off" '+'            spellcheck\x3d"false"'+'            title\x3d"'+translate("transformQueryTitle")+'"\x3e[*]\x3c/textarea\x3e'+"\x3c/div\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-label"\x3e'+translate("transformPreviewLabel")+" \x3c/div\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-block"\x3e'+'  \x3ctextarea id\x3d"preview" '+'      class\x3d"jsoneditor-transform-preview"'+"      readonly\x3e \x3c/textarea\x3e"+"\x3c/div\x3e"+'\x3cdiv class\x3d"jsoneditor-jmespath-block jsoneditor-modal-actions"\x3e'+'  \x3cinput type\x3d"submit" id\x3d"ok" value\x3d"'+translate("ok")+'" autofocus /\x3e'+"\x3c/div\x3e"+"\x3c/div\x3e";picoModal({parent:container,content:content,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:false}).afterCreate(function(modal){var elem=modal.modalElem();var wizard=elem.querySelector("#wizard");var ok=elem.querySelector("#ok");var filterField=elem.querySelector("#filterField");var filterRelation=elem.querySelector("#filterRelation");var filterValue=elem.querySelector("#filterValue");var sortField=elem.querySelector("#sortField");var sortOrder=elem.querySelector("#sortOrder");var selectFields=elem.querySelector("#selectFields");var query=elem.querySelector("#query");var preview=elem.querySelector("#preview");if(!Array.isArray(value)){wizard.style.fontStyle="italic";wizard.innerHTML="(wizard not available for objects, only for arrays)"}var paths=node.getChildPaths();paths.forEach(function(path){var formattedPath=preprocessPath(path);var filterOption=document.createElement("option");filterOption.text=formattedPath;filterOption.value=formattedPath;filterField.appendChild(filterOption);var sortOption=document.createElement("option");sortOption.text=formattedPath;sortOption.value=formattedPath;sortField.appendChild(sortOption)});var allPaths=node.getChildPaths(true).filter(function(path){return path!=="."});if(allPaths.length>0)allPaths.forEach(function(path){var formattedPath=preprocessPath(path);var option=document.createElement("option");option.text=formattedPath;option.value=formattedPath;selectFields.appendChild(option)});else{var selectFieldsPart=elem.querySelector("#selectFieldsPart");if(selectFieldsPart)selectFieldsPart.style.display="none"}var selectrFilterField=new Selectr(filterField,{defaultSelected:false,clearable:true,allowDeselect:true,placeholder:"field..."});var selectrFilterRelation=new Selectr(filterRelation,{defaultSelected:false,clearable:true,allowDeselect:true,placeholder:"compare..."});var selectrSortField=new Selectr(sortField,{defaultSelected:false,clearable:true,allowDeselect:true,placeholder:"field..."});var selectrSortOrder=new Selectr(sortOrder,{defaultSelected:false,clearable:true,allowDeselect:true,placeholder:"order..."});var selectrSelectFields=new Selectr(selectFields,{multiple:true,clearable:true,defaultSelected:false,placeholder:"select fields..."});selectrFilterField.on("selectr.change",generateQueryFromWizard);selectrFilterRelation.on("selectr.change",generateQueryFromWizard);filterValue.oninput=generateQueryFromWizard;selectrSortField.on("selectr.change",generateQueryFromWizard);selectrSortOrder.on("selectr.change",generateQueryFromWizard);selectrSelectFields.on("selectr.change",generateQueryFromWizard);elem.querySelector(".pico-modal-contents").onclick=function(event){if(event.target.nodeName!=="A")event.preventDefault()};query.value=Array.isArray(value)?"[*]":"@";function preprocessPath(path){if(path[0]===".")return path==="."?"@":path.slice(1);else return path}function generateQueryFromWizard(){if(filterField.value&&filterRelation.value&&filterValue.value){var field1=filterField.value;var examplePath=field1!=="@"?["0"].concat(util.parsePath("."+field1)):["0"];var exampleValue=util.get(value,examplePath);var value1=typeof exampleValue==="string"?filterValue.value:node._stringCast(filterValue.value);query.value="[? "+field1+" "+filterRelation.value+" "+"`"+JSON.stringify(value1)+"`"+"]"}else query.value="[*]";if(sortField.value&&sortOrder.value){var field2=sortField.value;if(sortOrder.value==="desc")query.value+=" | reverse(sort_by(@, \x26"+field2+"))";else query.value+=" | sort_by(@, \x26"+field2+")"}if(selectFields.value){var values=[];for(var i=0;i<selectFields.options.length;i++)if(selectFields.options[i].selected){var selectedValue=selectFields.options[i].value;values.push(selectedValue)}if(query.value[query.value.length-1]!=="]")query.value+=" | [*]";if(values.length===1)query.value+="."+selectedValue;else if(values.length>1)query.value+=".{"+values.map(function(value){var parts=value.split(".");var last=parts[parts.length-1];return last+": "+selectedValue}).join(", ")+"}";else;}debouncedUpdatePreview()}function updatePreview(){try{var transformed=jmespath.search(value,query.value);var lines=JSON.stringify(transformed,null,2).split("\n");if(lines.length>MAX_PREVIEW_LINES)lines=lines.slice(0,MAX_PREVIEW_LINES).concat(["..."]);preview.className="jsoneditor-transform-preview";preview.value=lines.join("\n");ok.disabled=false}catch(err){preview.className="jsoneditor-transform-preview jsoneditor-error";preview.value=err.toString();ok.disabled=true}}var debouncedUpdatePreview=debounce(updatePreview,300);query.oninput=debouncedUpdatePreview;debouncedUpdatePreview();ok.onclick=function(event){event.preventDefault();event.stopPropagation();modal.close();node.transform(query.value)};setTimeout(function(){query.select();query.focus();query.selectionStart=3;query.selectionEnd=3})}).afterClose(function(modal){modal.destroy()}).show()}module.exports=showTransformModal},function(module,exports){var defaultConfig={defaultSelected:true,width:"auto",disabled:false,searchable:true,clearable:false,sortSelected:false,allowDeselect:false,closeOnScroll:false,nativeDropdown:false,placeholder:"Select an option...",taggable:false,tagPlaceholder:"Enter a tag..."};var Events=function(){};Events.prototype={on:function(event,func){this._events=this._events||{};this._events[event]=this._events[event]||[];this._events[event].push(func)},off:function(event,func){this._events=this._events||{};if(event in this._events===false)return;this._events[event].splice(this._events[event].indexOf(func),1)},emit:function(event){this._events=this._events||{};if(event in this._events===false)return;for(var i=0;i<this._events[event].length;i++)this._events[event][i].apply(this,Array.prototype.slice.call(arguments,1))}};Events.mixin=function(obj){var props=["on","off","emit"];for(var i=0;i<props.length;i++)if(typeof obj==="function")obj.prototype[props[i]]=Events.prototype[props[i]];else obj[props[i]]=Events.prototype[props[i]];return obj};var util={extend:function(src,props){props=props||{};var p;for(p in src)if(src.hasOwnProperty(p))if(!props.hasOwnProperty(p))props[p]=src[p];return props},each:function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a){if(Object.prototype.hasOwnProperty.call(a,d))b.call(c,d,a[d],a)}else for(var e=0,f=a.length;e<f;e++)b.call(c,e,a[e],a)},createElement:function(e,a){var d=document,el=d.createElement(e);if(a&&"[object Object]"===Object.prototype.toString.call(a)){var i;for(i in a)if(i in el)el[i]=a[i];else if("html"===i)el.innerHTML=a[i];else if("text"===i){var t=d.createTextNode(a[i]);el.appendChild(t)}else el.setAttribute(i,a[i])}return el},hasClass:function(a,b){if(a)return a.classList?a.classList.contains(b):!!a.className&&!!a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){if(!util.hasClass(a,b))if(a.classList)a.classList.add(b);else a.className=a.className.trim()+" "+b},removeClass:function(a,b){if(util.hasClass(a,b))if(a.classList)a.classList.remove(b);else a.className=a.className.replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")},closest:function(el,fn){return el&&el!==document.body&&(fn(el)?el:util.closest(el.parentNode,fn))},isInt:function(val){return typeof val==="number"&&isFinite(val)&&Math.floor(val)===val},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null;if(!c)a.apply(e,f)},h=c&&!d;clearTimeout(d);d=setTimeout(g,b);if(h)a.apply(e,f)}},rect:function(el,abs){var w=window;var r=el.getBoundingClientRect();var x=abs?w.pageXOffset:0;var y=abs?w.pageYOffset:0;return{bottom:r.bottom+y,height:r.height,left:r.left+x,right:r.right+x,top:r.top+y,width:r.width}},includes:function(a,b){return a.indexOf(b)>-1},truncate:function(el){while(el.firstChild)el.removeChild(el.firstChild)}};function isset(obj,prop){return obj.hasOwnProperty(prop)&&(obj[prop]===true||obj[prop].length)}function appendItem(item,parent,custom){if(item.parentNode){if(!item.parentNode.parentNode)parent.appendChild(item.parentNode)}else parent.appendChild(item);util.removeClass(item,"excluded");if(!custom)item.innerHTML=item.textContent}var render=function(){if(this.items.length){var f=document.createDocumentFragment();if(this.config.pagination){var pages=this.pages.slice(0,this.pageIndex);util.each(pages,function(i,items){util.each(items,function(j,item){appendItem(item,f,this.customOption)},this)},this)}else util.each(this.items,function(i,item){appendItem(item,f,this.customOption)},this);if(f.childElementCount){util.removeClass(this.items[this.navIndex],"active");this.navIndex=f.querySelector(".selectr-option").idx;util.addClass(this.items[this.navIndex],"active")}this.tree.appendChild(f)}};var dismiss=function(e){var target=e.target;if(!this.container.contains(target)&&(this.opened||util.hasClass(this.container,"notice")))this.close()};var createItem=function(option,data){data=data||option;var content=this.customOption?this.config.renderOption(data):option.textContent;var opt=util.createElement("li",{class:"selectr-option",html:content,role:"treeitem","aria-selected":false});opt.idx=option.idx;this.items.push(opt);if(option.defaultSelected)this.defaultSelected.push(option.idx);if(option.disabled){opt.disabled=true;util.addClass(opt,"disabled")}return opt};var build=function(){this.requiresPagination=this.config.pagination&&this.config.pagination>0;if(isset(this.config,"width"))if(util.isInt(this.config.width))this.width=this.config.width+"px";else if(this.config.width==="auto")this.width="100%";else if(util.includes(this.config.width,"%"))this.width=this.config.width;this.container=util.createElement("div",{class:"selectr-container"});if(this.config.customClass)util.addClass(this.container,this.config.customClass);if(this.mobileDevice)util.addClass(this.container,"selectr-mobile");else util.addClass(this.container,"selectr-desktop");this.el.tabIndex=-1;if(this.config.nativeDropdown||this.mobileDevice)util.addClass(this.el,"selectr-visible");else util.addClass(this.el,"selectr-hidden");this.selected=util.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":false});this.label=util.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var dropdown=util.createElement("div",{class:"selectr-options-container"});this.tree=util.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":true,"aria-expanded":false});this.notice=util.createElement("div",{class:"selectr-notice"});this.el.setAttribute("aria-hidden",true);if(this.disabled)this.el.disabled=true;if(this.el.multiple){util.addClass(this.label,"selectr-tags");util.addClass(this.container,"multiple");this.tags=[];this.selectedValues=this.getSelectedProperties("value");this.selectedIndexes=this.getSelectedProperties("idx")}this.selected.appendChild(this.label);if(this.config.clearable){this.selectClear=util.createElement("button",{class:"selectr-clear",type:"button"});this.container.appendChild(this.selectClear);util.addClass(this.container,"clearable")}if(this.config.taggable){var li=util.createElement("li",{class:"input-tag"});this.input=util.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"});li.appendChild(this.input);this.label.appendChild(li);util.addClass(this.container,"taggable");this.tagSeperators=[","];if(this.config.tagSeperators)this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators)}if(this.config.searchable){this.input=util.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"});this.inputClear=util.createElement("button",{class:"selectr-input-clear",type:"button"});this.inputContainer=util.createElement("div",{class:"selectr-input-container"});this.inputContainer.appendChild(this.input);this.inputContainer.appendChild(this.inputClear);dropdown.appendChild(this.inputContainer)}dropdown.appendChild(this.notice);dropdown.appendChild(this.tree);this.items=[];this.options=[];if(this.el.options.length)this.options=[].slice.call(this.el.options);var group=false,j=0;if(this.el.children.length)util.each(this.el.children,function(i,element){if(element.nodeName==="OPTGROUP"){group=util.createElement("ul",{class:"selectr-optgroup",role:"group",html:"\x3cli class\x3d'selectr-optgroup--label'\x3e"+element.label+"\x3c/li\x3e"});util.each(element.children,function(x,el){el.idx=j;group.appendChild(createItem.call(this,el,group));j++},this)}else{element.idx=j;createItem.call(this,element);j++}},this);if(this.config.data&&Array.isArray(this.config.data)){this.data=[];var optgroup=false,option;group=false;j=0;util.each(this.config.data,function(i,opt){if(isset(opt,"children")){optgroup=util.createElement("optgroup",{label:opt.text});group=util.createElement("ul",{class:"selectr-optgroup",role:"group",html:"\x3cli class\x3d'selectr-optgroup--label'\x3e"+opt.text+"\x3c/li\x3e"});util.each(opt.children,function(x,data){option=new Option(data.text,data.value,false,data.hasOwnProperty("selected")&&data.selected===true);option.disabled=isset(data,"disabled");this.options.push(option);optgroup.appendChild(option);option.idx=j;group.appendChild(createItem.call(this,option,data));this.data[j]=data;j++},this)}else{option=new Option(opt.text,opt.value,false,opt.hasOwnProperty("selected")&&opt.selected===true);option.disabled=isset(opt,"disabled");this.options.push(option);option.idx=j;createItem.call(this,option,opt);this.data[j]=opt;j++}},this)}this.setSelected(true);var first;this.navIndex=0;for(var i=0;i<this.items.length;i++){first=this.items[i];if(!util.hasClass(first,"disabled")){util.addClass(first,"active");this.navIndex=i;break}}if(this.requiresPagination){this.pageIndex=1;this.paginate()}this.container.appendChild(this.selected);this.container.appendChild(dropdown);this.placeEl=util.createElement("div",{class:"selectr-placeholder"});this.setPlaceholder();this.selected.appendChild(this.placeEl);if(this.disabled)this.disable();this.el.parentNode.insertBefore(this.container,this.el);this.container.appendChild(this.el)};var navigate=function(e){e=e||window.event;if(!this.items.length||!this.opened||!util.includes([13,38,40],e.which)){this.navigating=false;return}e.preventDefault();if(e.which===13){if(this.config.taggable&&this.input.value.length>0)return false;return this.change(this.navIndex)}var direction,prevEl=this.items[this.navIndex];switch(e.which){case 38:direction=0;if(this.navIndex>0)this.navIndex--;break;case 40:direction=1;if(this.navIndex<this.items.length-1)this.navIndex++}this.navigating=true;while(util.hasClass(this.items[this.navIndex],"disabled")||util.hasClass(this.items[this.navIndex],"excluded")){if(direction)this.navIndex++;else this.navIndex--;if(this.searching)if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}else if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var r=util.rect(this.items[this.navIndex]);if(!direction)if(this.navIndex===0)this.tree.scrollTop=0;else{if(r.top-this.optsRect.top<0)this.tree.scrollTop=this.tree.scrollTop+(r.top-this.optsRect.top)}else{if(this.navIndex===0)this.tree.scrollTop=0;else if(r.top+r.height>this.optsRect.top+this.optsRect.height)this.tree.scrollTop=this.tree.scrollTop+(r.top+r.height-(this.optsRect.top+this.optsRect.height));if(this.navIndex===this.tree.childElementCount-1&&this.requiresPagination)load.call(this)}if(prevEl)util.removeClass(prevEl,"active");util.addClass(this.items[this.navIndex],"active")};var addTag=function(item){var that=this,r;var docFrag=document.createDocumentFragment();var option=this.options[item.idx];var data=this.data?this.data[item.idx]:option;var content=this.customSelected?this.config.renderSelection(data):option.textContent;var tag=util.createElement("li",{class:"selectr-tag",html:content});var btn=util.createElement("button",{class:"selectr-tag-remove",type:"button"});tag.appendChild(btn);tag.idx=item.idx;tag.tag=option.value;this.tags.push(tag);if(this.config.sortSelected){var tags=this.tags.slice();r=function(val,arr){val.replace(/(\d+)|(\D+)/g,function(that,$1,$2){arr.push([$1||Infinity,$2||""])})};tags.sort(function(a,b){var x=[],y=[],ac,bc;if(that.config.sortSelected===true){ac=a.tag;bc=b.tag}else if(that.config.sortSelected==="text"){ac=a.textContent;bc=b.textContent}r(ac,x);r(bc,y);while(x.length&&y.length){var ax=x.shift();var by=y.shift();var nn=ax[0]-by[0]||ax[1].localeCompare(by[1]);if(nn)return nn}return x.length-y.length});util.each(tags,function(i,tg){docFrag.appendChild(tg)});this.label.innerHTML=""}else docFrag.appendChild(tag);if(this.config.taggable)this.label.insertBefore(docFrag,this.input.parentNode);else this.label.appendChild(docFrag)};var removeTag=function(item){var tag=false;util.each(this.tags,function(i,t){if(t.idx===item.idx)tag=t},this);if(tag){this.label.removeChild(tag);this.tags.splice(this.tags.indexOf(tag),1)}};var load=function(){var tree=this.tree;var scrollTop=tree.scrollTop;var scrollHeight=tree.scrollHeight;var offsetHeight=tree.offsetHeight;var atBottom=scrollTop>=scrollHeight-offsetHeight;if(atBottom&&this.pageIndex<this.pages.length){var f=document.createDocumentFragment();util.each(this.pages[this.pageIndex],function(i,item){appendItem(item,f,this.customOption)},this);tree.appendChild(f);this.pageIndex++;this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}};var clearSearch=function(){if(this.config.searchable||this.config.taggable){this.input.value=null;this.searching=false;if(this.config.searchable)util.removeClass(this.inputContainer,"active");if(util.hasClass(this.container,"notice")){util.removeClass(this.container,"notice");util.addClass(this.container,"open");this.input.focus()}util.each(this.items,function(i,item){util.removeClass(item,"excluded");if(!this.customOption)item.innerHTML=item.textContent},this)}};var match=function(query,option){var result=(new RegExp(query,"i")).exec(option.textContent);if(result)return option.textContent.replace(result[0],"\x3cspan class\x3d'selectr-match'\x3e"+result[0]+"\x3c/span\x3e");return false};var Selectr=function(el,config){config=config||{};if(!el)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");this.el=el;if(typeof el==="string")this.el=document.querySelector(el);if(this.el===null)throw new Error("The element you passed to Selectr can not be found.");if(this.el.nodeName.toLowerCase()!=="select")throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(config)};Selectr.prototype.render=function(config){if(this.rendered)return;this.config=util.extend(defaultConfig,config);this.originalType=this.el.type;this.originalIndex=this.el.tabIndex;this.defaultSelected=[];this.originalOptionCount=this.el.options.length;if(this.config.multiple||this.config.taggable)this.el.multiple=true;this.disabled=isset(this.config,"disabled");this.opened=false;if(this.config.taggable)this.config.searchable=false;this.navigating=false;this.mobileDevice=false;if(/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent))this.mobileDevice=true;this.customOption=this.config.hasOwnProperty("renderOption")&&typeof this.config.renderOption==="function";this.customSelected=this.config.hasOwnProperty("renderSelection")&&typeof this.config.renderSelection==="function";Events.mixin(this);build.call(this);this.bindEvents();this.update();this.optsRect=util.rect(this.tree);this.rendered=true;if(!this.el.multiple)this.el.selectedIndex=this.selectedIndex;var that=this;setTimeout(function(){that.emit("selectr.init")},20)};Selectr.prototype.getSelected=function(){var selected=this.el.querySelectorAll("option:checked");return selected};Selectr.prototype.getSelectedProperties=function(prop){var selected=this.getSelected();var values=[].slice.call(selected).map(function(option){return option[prop]}).filter(function(i){return i!==null&&i!==undefined});return values};Selectr.prototype.bindEvents=function(){var that=this;this.events={};this.events.dismiss=dismiss.bind(this);this.events.navigate=navigate.bind(this);this.events.reset=this.reset.bind(this);if(this.config.nativeDropdown||this.mobileDevice){this.container.addEventListener("touchstart",function(e){if(e.changedTouches[0].target===that.el)that.toggle()});if(this.config.nativeDropdown||this.mobileDevice)this.container.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();if(e.target===that.el)that.toggle()});var getChangedOptions=function(last,current){var added=[],removed=last.slice(0);var idx;for(var i=0;i<current.length;i++){idx=removed.indexOf(current[i]);if(idx>-1)removed.splice(idx,1);else added.push(current[i])}return[added,removed]};this.el.addEventListener("change",function(e){if(that.el.multiple){var indexes=that.getSelectedProperties("idx");var changes=getChangedOptions(that.selectedIndexes,indexes);util.each(changes[0],function(i,idx){that.select(idx)},that);util.each(changes[1],function(i,idx){that.deselect(idx)},that)}else if(that.el.selectedIndex>-1)that.select(that.el.selectedIndex)})}if(this.config.nativeDropdown)this.container.addEventListener("keydown",function(e){if(e.key==="Enter"&&that.selected===document.activeElement){that.toggle();setTimeout(function(){that.el.focus()},200)}});this.selected.addEventListener("click",function(e){if(!that.disabled)that.toggle();e.preventDefault();e.stopPropagation()});this.label.addEventListener("click",function(e){if(util.hasClass(e.target,"selectr-tag-remove"))that.deselect(e.target.parentNode.idx)});if(this.selectClear)this.selectClear.addEventListener("click",this.clear.bind(this));this.tree.addEventListener("mousedown",function(e){e.preventDefault()});this.tree.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();var item=util.closest(e.target,function(el){return el&&util.hasClass(el,"selectr-option")});if(item)if(!util.hasClass(item,"disabled")){if(util.hasClass(item,"selected")){if(that.el.multiple||!that.el.multiple&&that.config.allowDeselect)that.deselect(item.idx)}else that.select(item.idx);if(that.opened&&!that.el.multiple)that.close()}});this.tree.addEventListener("mouseover",function(e){if(util.hasClass(e.target,"selectr-option"))if(!util.hasClass(e.target,"disabled")){util.removeClass(that.items[that.navIndex],"active");util.addClass(e.target,"active");that.navIndex=[].slice.call(that.items).indexOf(e.target)}});if(this.config.searchable){this.input.addEventListener("focus",function(e){that.searching=true});this.input.addEventListener("blur",function(e){that.searching=false});this.input.addEventListener("keyup",function(e){that.search();if(!that.config.taggable)if(this.value.length)util.addClass(this.parentNode,"active");else util.removeClass(this.parentNode,"active")});this.inputClear.addEventListener("click",function(e){that.input.value=null;clearSearch.call(that);if(!that.tree.childElementCount)render.call(that)})}if(this.config.taggable)this.input.addEventListener("keyup",function(e){that.search();if(that.config.taggable&&this.value.length){var val=this.value.trim();if(e.which===13||util.includes(that.tagSeperators,e.key)){util.each(that.tagSeperators,function(i,k){val=val.replace(k,"")});var option=that.add({value:val,text:val,selected:true},true);if(!option){this.value="";that.setMessage("That tag is already in use.")}else{that.close();clearSearch.call(that)}}}});this.update=util.debounce(function(){if(that.opened&&that.config.closeOnScroll)that.close();if(that.width)that.container.style.width=that.width;that.invert()},50);if(this.requiresPagination){this.paginateItems=util.debounce(function(){load.call(this)},50);this.tree.addEventListener("scroll",this.paginateItems.bind(this))}document.addEventListener("click",this.events.dismiss);window.addEventListener("keydown",this.events.navigate);window.addEventListener("resize",this.update);window.addEventListener("scroll",this.update);if(this.el.form)this.el.form.addEventListener("reset",this.events.reset)};Selectr.prototype.setSelected=function(reset){if(!this.config.data&&!this.el.multiple&&this.el.options.length){if(this.el.selectedIndex===0)if(!this.el.options[0].defaultSelected&&!this.config.defaultSelected)this.el.selectedIndex=-1;this.selectedIndex=this.el.selectedIndex;if(this.selectedIndex>-1)this.select(this.selectedIndex)}if(this.config.multiple&&this.originalType==="select-one"&&!this.config.data)if(this.el.options[0].selected&&!this.el.options[0].defaultSelected)this.el.options[0].selected=false;util.each(this.options,function(i,option){if(option.selected&&option.defaultSelected)this.select(option.idx)},this);if(this.config.selectedValue)this.setValue(this.config.selectedValue);if(this.config.data){if(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0)this.select(0);var j=0;util.each(this.config.data,function(i,opt){if(isset(opt,"children"))util.each(opt.children,function(x,item){if(item.hasOwnProperty("selected")&&item.selected===true)this.select(j);j++},this);else{if(opt.hasOwnProperty("selected")&&opt.selected===true)this.select(j);j++}},this)}};Selectr.prototype.destroy=function(){if(!this.rendered)return;this.emit("selectr.destroy");if(this.originalType==="select-one")this.el.multiple=false;if(this.config.data)this.el.innerHTML="";util.removeClass(this.el,"selectr-hidden");if(this.el.form)util.off(this.el.form,"reset",this.events.reset);util.off(document,"click",this.events.dismiss);util.off(document,"keydown",this.events.navigate);util.off(window,"resize",this.update);util.off(window,"scroll",this.update);this.container.parentNode.replaceChild(this.el,this.container);this.rendered=false};Selectr.prototype.change=function(index){var item=this.items[index],option=this.options[index];if(option.disabled)return;if(option.selected&&util.hasClass(item,"selected"))this.deselect(index);else this.select(index);if(this.opened&&!this.el.multiple)this.close()};Selectr.prototype.select=function(index){var item=this.items[index],options=[].slice.call(this.el.options),option=this.options[index];if(this.el.multiple){if(util.includes(this.selectedIndexes,index))return false;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections){this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",true);return false}this.selectedValues.push(option.value);this.selectedIndexes.push(index);addTag.call(this,item)}else{var data=this.data?this.data[index]:option;this.label.innerHTML=this.customSelected?this.config.renderSelection(data):option.textContent;this.selectedValue=option.value;this.selectedIndex=index;util.each(this.options,function(i,o){var opt=this.items[i];if(i!==index){if(opt)util.removeClass(opt,"selected");o.selected=false;o.removeAttribute("selected")}},this)}if(!util.includes(options,option))this.el.add(option);item.setAttribute("aria-selected",true);util.addClass(item,"selected");util.addClass(this.container,"has-selected");option.selected=true;option.setAttribute("selected","");this.emit("selectr.change",option);this.emit("selectr.select",option)};Selectr.prototype.deselect=function(index,force){var item=this.items[index],option=this.options[index];if(this.el.multiple){var selIndex=this.selectedIndexes.indexOf(index);this.selectedIndexes.splice(selIndex,1);var valIndex=this.selectedValues.indexOf(option.value);this.selectedValues.splice(valIndex,1);removeTag.call(this,item);if(!this.tags.length)util.removeClass(this.container,"has-selected")}else{if(!force&&!this.config.clearable&&!this.config.allowDeselect)return false;this.label.innerHTML="";this.selectedValue=null;this.el.selectedIndex=this.selectedIndex=-1;util.removeClass(this.container,"has-selected")}this.items[index].setAttribute("aria-selected",false);util.removeClass(this.items[index],"selected");option.selected=false;option.removeAttribute("selected");this.emit("selectr.change",null);this.emit("selectr.deselect",option)};Selectr.prototype.setValue=function(value){var isArray=Array.isArray(value);if(!isArray)value=value.toString().trim();if(!this.el.multiple&&isArray)return false;util.each(this.options,function(i,option){if(isArray&&util.includes(value.toString(),option.value)||option.value===value)this.change(option.idx)},this)};Selectr.prototype.getValue=function(toObject,toJson){var value;if(this.el.multiple)if(toObject){if(this.selectedIndexes.length){value={};value.values=[];util.each(this.selectedIndexes,function(i,index){var option=this.options[index];value.values[i]={value:option.value,text:option.textContent}},this)}}else value=this.selectedValues.slice();else if(toObject){var option=this.options[this.selectedIndex];value={value:option.value,text:option.textContent}}else value=this.selectedValue;if(toObject&&toJson)value=JSON.stringify(value);return value};Selectr.prototype.add=function(data,checkDuplicate){if(data){this.data=this.data||[];this.items=this.items||[];this.options=this.options||[];if(Array.isArray(data))util.each(data,function(i,obj){this.add(obj,checkDuplicate)},this);else if("[object Object]"===Object.prototype.toString.call(data)){if(checkDuplicate){var dupe=false;util.each(this.options,function(i,option){if(option.value.toLowerCase()===data.value.toLowerCase())dupe=true});if(dupe)return false}var option=util.createElement("option",data);this.data.push(data);this.options.push(option);option.idx=this.options.length>0?this.options.length-1:0;createItem.call(this,option);if(data.selected)this.select(option.idx);return option}this.setPlaceholder();if(this.config.pagination)this.paginate();return true}};Selectr.prototype.remove=function(o){var options=[];if(Array.isArray(o))util.each(o,function(i,opt){if(util.isInt(opt))options.push(this.getOptionByIndex(opt));else if(typeof o==="string")options.push(this.getOptionByValue(opt))},this);else if(util.isInt(o))options.push(this.getOptionByIndex(o));else if(typeof o==="string")options.push(this.getOptionByValue(o));if(options.length){var index;util.each(options,function(i,option){index=option.idx;this.el.remove(option);this.options.splice(index,1);var parentNode=this.items[index].parentNode;if(parentNode)parentNode.removeChild(this.items[index]);this.items.splice(index,1);util.each(this.options,function(i,opt){opt.idx=i;this.items[i].idx=i},this)},this);this.setPlaceholder();if(this.config.pagination)this.paginate()}};Selectr.prototype.removeAll=function(){this.clear(true);util.each(this.el.options,function(i,option){this.el.remove(option)},this);util.truncate(this.tree);this.items=[];this.options=[];this.data=[];this.navIndex=0;if(this.requiresPagination){this.requiresPagination=false;this.pageIndex=1;this.pages=[]}this.setPlaceholder()};Selectr.prototype.search=function(string){if(this.navigating)return;string=string||this.input.value;var f=document.createDocumentFragment();this.removeMessage();util.truncate(this.tree);if(string.length>1){util.each(this.options,function(i,option){var item=this.items[option.idx];var includes=util.includes(option.textContent.toLowerCase(),string.toLowerCase());if(includes&&!option.disabled){appendItem(item,f,this.customOption);util.removeClass(item,"excluded");if(!this.customOption)item.innerHTML=match(string,option)}else util.addClass(item,"excluded")},this);if(!f.childElementCount){if(!this.config.taggable)this.setMessage("no results.")}else{var prevEl=this.items[this.navIndex];var firstEl=f.firstElementChild;util.removeClass(prevEl,"active");this.navIndex=firstEl.idx;util.addClass(firstEl,"active")}}else render.call(this);this.tree.appendChild(f)};Selectr.prototype.toggle=function(){if(!this.disabled)if(this.opened)this.close();else this.open()};Selectr.prototype.open=function(){var that=this;if(!this.options.length)return false;if(!this.opened)this.emit("selectr.open");this.opened=true;if(this.mobileDevice||this.config.nativeDropdown){util.addClass(this.container,"native-open");if(this.config.data)util.each(this.options,function(i,option){this.el.add(option)},this);return}util.addClass(this.container,"open");render.call(this);this.invert();this.tree.scrollTop=0;util.removeClass(this.container,"notice");this.selected.setAttribute("aria-expanded",true);this.tree.setAttribute("aria-hidden",false);this.tree.setAttribute("aria-expanded",true);if(this.config.searchable&&!this.config.taggable)setTimeout(function(){that.input.focus();that.input.tabIndex=0},10)};Selectr.prototype.close=function(){if(this.opened)this.emit("selectr.close");this.opened=false;if(this.mobileDevice||this.config.nativeDropdown){util.removeClass(this.container,"native-open");return}var notice=util.hasClass(this.container,"notice");if(this.config.searchable&&!notice){this.input.blur();this.input.tabIndex=-1;this.searching=false}if(notice){util.removeClass(this.container,"notice");this.notice.textContent=""}util.removeClass(this.container,"open");util.removeClass(this.container,"native-open");this.selected.setAttribute("aria-expanded",false);this.tree.setAttribute("aria-hidden",true);this.tree.setAttribute("aria-expanded",false);util.truncate(this.tree);clearSearch.call(this)};Selectr.prototype.enable=function(){this.disabled=false;this.el.disabled=false;this.selected.tabIndex=this.originalIndex;if(this.el.multiple)util.each(this.tags,function(i,t){t.lastElementChild.tabIndex=0});util.removeClass(this.container,"selectr-disabled")};Selectr.prototype.disable=function(container){if(!container)this.el.disabled=true;this.selected.tabIndex=-1;if(this.el.multiple)util.each(this.tags,function(i,t){t.lastElementChild.tabIndex=-1});this.disabled=true;util.addClass(this.container,"selectr-disabled")};Selectr.prototype.reset=function(){if(!this.disabled){this.clear();this.setSelected(true);util.each(this.defaultSelected,function(i,idx){this.select(idx)},this);this.emit("selectr.reset")}};Selectr.prototype.clear=function(force){if(this.el.multiple){if(this.selectedIndexes.length){var indexes=this.selectedIndexes.slice();util.each(indexes,function(i,idx){this.deselect(idx)},this)}}else if(this.selectedIndex>-1)this.deselect(this.selectedIndex,force);this.emit("selectr.clear")};Selectr.prototype.serialise=function(toJson){var data=[];util.each(this.options,function(i,option){var obj={value:option.value,text:option.textContent};if(option.selected)obj.selected=true;if(option.disabled)obj.disabled=true;data[i]=obj});return toJson?JSON.stringify(data):data};Selectr.prototype.serialize=function(toJson){return this.serialise(toJson)};Selectr.prototype.setPlaceholder=function(placeholder){placeholder=placeholder||this.config.placeholder||this.el.getAttribute("placeholder");if(!this.options.length)placeholder="No options available";this.placeEl.innerHTML=placeholder};Selectr.prototype.paginate=function(){if(this.items.length){var that=this;this.pages=this.items.map(function(v,i){return i%that.config.pagination===0?that.items.slice(i,i+that.config.pagination):null}).filter(function(pages){return pages});return this.pages}};Selectr.prototype.setMessage=function(message,close){if(close)this.close();util.addClass(this.container,"notice");this.notice.textContent=message};Selectr.prototype.removeMessage=function(){util.removeClass(this.container,"notice");this.notice.innerHTML=""};Selectr.prototype.invert=function(){var rt=util.rect(this.selected),oh=this.tree.parentNode.offsetHeight,wh=window.innerHeight,doInvert=rt.top+rt.height+oh>wh;if(doInvert){util.addClass(this.container,"inverted");this.isInverted=true}else{util.removeClass(this.container,"inverted");this.isInverted=false}this.optsRect=util.rect(this.tree)};Selectr.prototype.getOptionByIndex=function(index){return this.options[index]};Selectr.prototype.getOptionByValue=function(value){var option=false;for(var i=0,l=this.options.length;i<l;i++)if(this.options[i].value.trim()===value.toString().trim()){option=this.options[i];break}return option};module.exports=Selectr},function(module,exports,__webpack_require__){var ContextMenu=__webpack_require__(68);var translate=__webpack_require__(66).translate;function ModeSwitcher(container,modes,current,onSwitch){var availableModes={code:{"text":translate("modeCodeText"),"title":translate("modeCodeTitle"),"click":function(){onSwitch("code")}},form:{"text":translate("modeFormText"),"title":translate("modeFormTitle"),"click":function(){onSwitch("form")}},text:{"text":translate("modeTextText"),"title":translate("modeTextTitle"),"click":function(){onSwitch("text")}},tree:{"text":translate("modeTreeText"),"title":translate("modeTreeTitle"),"click":function(){onSwitch("tree")}},view:{"text":translate("modeViewText"),"title":translate("modeViewTitle"),"click":function(){onSwitch("view")}}};var items=[];for(var i=0;i<modes.length;i++){var mode=modes[i];var item=availableModes[mode];if(!item)throw new Error('Unknown mode "'+mode+'"');item.className="jsoneditor-type-modes"+(current==mode?" jsoneditor-selected":"");items.push(item)}var currentMode=availableModes[current];if(!currentMode)throw new Error('Unknown mode "'+current+'"');var currentTitle=currentMode.text;var box=document.createElement("button");box.type="button";box.className="jsoneditor-modes jsoneditor-separator";box.innerHTML=currentTitle+" \x26#x25BE;";box.title=translate("switchBoxTitle");box.onclick=function(){var menu=new ContextMenu(items);menu.show(box,container)};var frame=document.createElement("div");frame.className="jsoneditor-modes";frame.style.position="relative";frame.appendChild(box);container.appendChild(frame);this.dom={container:container,box:box,frame:frame}}ModeSwitcher.prototype.focus=function(){this.dom.box.focus()};ModeSwitcher.prototype.destroy=function(){if(this.dom&&this.dom.frame&&this.dom.frame.parentNode)this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom=null};module.exports=ModeSwitcher},function(module,exports){function completely(config){config=config||{};config.confirmKeys=config.confirmKeys||[39,35,9];config.caseSensitive=config.caseSensitive||false;var fontSize="";var fontFamily="";var wrapper=document.createElement("div");wrapper.style.position="relative";wrapper.style.outline="0";wrapper.style.border="0";wrapper.style.margin="0";wrapper.style.padding="0";var dropDown=document.createElement("div");dropDown.className="autocomplete dropdown";dropDown.style.position="absolute";dropDown.style.visibility="hidden";var spacer;var leftSide;var createDropDownController=function(elem,rs){var rows=[];var ix=0;var oldIndex=-1;var onMouseOver=function(){this.style.outline="1px solid #ddd"};var onMouseOut=function(){this.style.outline="0"};var onMouseDown=function(){p.hide();p.onmouseselection(this.__hint,p.rs)};var p={rs:rs,hide:function(){elem.style.visibility="hidden"},refresh:function(token,array){elem.style.visibility="hidden";ix=0;elem.innerHTML="";var vph=window.innerHeight||document.documentElement.clientHeight;var rect=elem.parentNode.getBoundingClientRect();var distanceToTop=rect.top-6;var distanceToBottom=vph-rect.bottom-6;rows=[];for(var i=0;i<array.length;i++){if(config.caseSensitive&&array[i].indexOf(token)!==0||!config.caseSensitive&&array[i].toLowerCase().indexOf(token.toLowerCase())!==0)continue;var divRow=document.createElement("div");divRow.className="item";divRow.onmouseover=onMouseOver;divRow.onmouseout=onMouseOut;divRow.onmousedown=onMouseDown;divRow.__hint=array[i];divRow.innerHTML=array[i].substring(0,token.length)+"\x3cb\x3e"+array[i].substring(token.length)+"\x3c/b\x3e";rows.push(divRow);elem.appendChild(divRow)}if(rows.length===0)return;if(rows.length===1&&(token.toLowerCase()===rows[0].__hint.toLowerCase()&&!config.caseSensitive||token===rows[0].__hint&&config.caseSensitive))return;if(rows.length<2)return;p.highlight(0);if(distanceToTop>distanceToBottom*3){elem.style.maxHeight=distanceToTop+"px";elem.style.top="";elem.style.bottom="100%"}else{elem.style.top="100%";elem.style.bottom="";elem.style.maxHeight=distanceToBottom+"px"}elem.style.visibility="visible"},highlight:function(index){if(oldIndex!=-1&&rows[oldIndex])rows[oldIndex].className="item";rows[index].className="item hover";oldIndex=index},move:function(step){if(elem.style.visibility==="hidden")return"";if(ix+step===-1||ix+step===rows.length)return rows[ix].__hint;ix+=step;p.highlight(ix);return rows[ix].__hint},onmouseselection:function(){}};return p};function setEndOfContenteditable(contentEditableElement){var range,selection;if(document.createRange){range=document.createRange();range.selectNodeContents(contentEditableElement);range.collapse(false);selection=window.getSelection();selection.removeAllRanges();selection.addRange(range)}else if(document.selection){range=document.body.createTextRange();range.moveToElementText(contentEditableElement);range.collapse(false);range.select()}}function calculateWidthForText(text){if(spacer===undefined){spacer=document.createElement("span");spacer.style.visibility="hidden";spacer.style.position="fixed";spacer.style.outline="0";spacer.style.margin="0";spacer.style.padding="0";spacer.style.border="0";spacer.style.left="0";spacer.style.whiteSpace="pre";spacer.style.fontSize=fontSize;spacer.style.fontFamily=fontFamily;spacer.style.fontWeight="normal";document.body.appendChild(spacer)}spacer.innerHTML=String(text).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");return spacer.getBoundingClientRect().right}var rs={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:wrapper,show:function(element,startPos,options){this.startFrom=startPos;this.wrapper.remove();if(this.elementHint){this.elementHint.remove();this.elementHint=null}if(fontSize=="")fontSize=window.getComputedStyle(element).getPropertyValue("font-size");if(fontFamily=="")fontFamily=window.getComputedStyle(element).getPropertyValue("font-family");var w=element.getBoundingClientRect().right-element.getBoundingClientRect().left;dropDown.style.marginLeft="0";dropDown.style.marginTop=element.getBoundingClientRect().height+"px";this.options=options;if(this.element!=element){this.element=element;this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}}this.element.style.zIndex=3;this.element.style.position="relative";this.element.style.backgroundColor="transparent";this.element.style.borderColor="transparent";this.elementHint=element.cloneNode();this.elementHint.className="autocomplete hint";this.elementHint.style.zIndex=2;this.elementHint.style.position="absolute";this.elementHint.onfocus=function(){this.element.focus()}.bind(this);if(this.element.addEventListener){this.element.removeEventListener("keydown",keyDownHandler);this.element.addEventListener("keydown",keyDownHandler,false);this.element.removeEventListener("blur",onBlurHandler);this.element.addEventListener("blur",onBlurHandler,false)}wrapper.appendChild(this.elementHint);wrapper.appendChild(dropDown);element.parentElement.appendChild(wrapper);this.repaint(element)},setText:function(text){this.element.innerText=text},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove();if(this.elementHint){this.elementHint.remove();this.elementHint=null;dropDownController.hide();this.element.style.zIndex=this.elementStyle.zIndex;this.element.style.position=this.elementStyle.position;this.element.style.backgroundColor=this.elementStyle.backgroundColor;this.element.style.borderColor=this.elementStyle.borderColor}},repaint:function(element){var text=element.innerText;text=text.replace("\n","");var startFrom=this.startFrom;var options=this.options;var optionsLength=this.options.length;var token=text.substring(this.startFrom);leftSide=text.substring(0,this.startFrom);for(var i=0;i<optionsLength;i++){var opt=this.options[i];if(!config.caseSensitive&&opt.toLowerCase().indexOf(token.toLowerCase())===0||config.caseSensitive&&opt.indexOf(token)===0){this.elementHint.innerText=leftSide+token+opt.substring(token.length);this.elementHint.realInnerText=leftSide+opt;break}}dropDown.style.left=calculateWidthForText(leftSide)+"px";dropDownController.refresh(token,this.options);this.elementHint.style.width=calculateWidthForText(this.elementHint.innerText)+10+"px";var wasDropDownHidden=dropDown.style.visibility=="hidden";if(!wasDropDownHidden)this.elementHint.style.width=calculateWidthForText(this.elementHint.innerText)+dropDown.clientWidth+"px"}};var dropDownController=createDropDownController(dropDown,rs);var keyDownHandler=function(e){e=e||window.event;var keyCode=e.keyCode;if(this.elementHint==null)return;if(keyCode==33)return;if(keyCode==34)return;if(keyCode==27){rs.hideDropDown();rs.element.focus();e.preventDefault();e.stopPropagation();return}var text=this.element.innerText;text=text.replace("\n","");var startFrom=this.startFrom;if(config.confirmKeys.indexOf(keyCode)>=0){if(keyCode==9)if(this.elementHint.innerText.length==0)rs.onTab();if(this.elementHint.innerText.length>0)if(this.element.innerText!=this.elementHint.realInnerText){this.element.innerText=this.elementHint.realInnerText;rs.hideDropDown();setEndOfContenteditable(this.element);if(keyCode==9){rs.element.focus();e.preventDefault();e.stopPropagation()}}return}if(keyCode==13){if(this.elementHint.innerText.length==0)rs.onEnter();else{var wasDropDownHidden=dropDown.style.visibility=="hidden";dropDownController.hide();if(wasDropDownHidden){rs.hideDropDown();rs.element.focus();rs.onEnter();return}this.element.innerText=this.elementHint.realInnerText;rs.hideDropDown();setEndOfContenteditable(this.element);e.preventDefault();e.stopPropagation()}return}if(keyCode==40){var token=text.substring(this.startFrom);var m=dropDownController.move(+1);if(m=="")rs.onArrowDown();this.elementHint.innerText=leftSide+token+m.substring(token.length);this.elementHint.realInnerText=leftSide+m;e.preventDefault();e.stopPropagation();return}if(keyCode==38){var token=text.substring(this.startFrom);var m=dropDownController.move(-1);if(m=="")rs.onArrowUp();this.elementHint.innerText=leftSide+token+m.substring(token.length);this.elementHint.realInnerText=leftSide+m;e.preventDefault();e.stopPropagation();return}}.bind(rs);var onBlurHandler=function(e){rs.hideDropDown()}.bind(rs);dropDownController.onmouseselection=function(text,rs){rs.element.innerText=rs.elementHint.innerText=leftSide+text;rs.hideDropDown();window.setTimeout(function(){rs.element.focus();setEndOfContenteditable(rs.element)},1)};return rs}module.exports=completely},function(module,exports,__webpack_require__){var ace=__webpack_require__(51);var ModeSwitcher=__webpack_require__(80);var util=__webpack_require__(62);var translate=__webpack_require__(66).translate;var textmode={};var DEFAULT_THEME="ace/theme/jsoneditor";textmode.create=function(container,options){options=options||{};if(typeof options.statusBar==="undefined")options.statusBar=true;options.mainMenuBar=options.mainMenuBar!==false;this.options=options;if(options.indentation)this.indentation=Number(options.indentation);else this.indentation=2;var _ace=options.ace?options.ace:ace;this.mode=options.mode=="code"?"code":"text";if(this.mode=="code")if(typeof _ace==="undefined"){this.mode="text";console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")}this.theme=options.theme||DEFAULT_THEME;if(this.theme===DEFAULT_THEME&&_ace)try{__webpack_require__(83)}catch(err){console.error(err)}if(options.onTextSelectionChange)this.onTextSelectionChange(options.onTextSelectionChange);var me=this;this.container=container;this.dom={};this.aceEditor=undefined;this.textarea=undefined;this.validateSchema=null;this.validationSequence=0;this.annotations=[];this.errorTableVisible=undefined;this._debouncedValidate=util.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL);this.width=container.clientWidth;this.height=container.clientHeight;this.frame=document.createElement("div");this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode;this.frame.onclick=function(event){event.preventDefault()};this.frame.onkeydown=function(event){me._onKeyDown(event)};this.content=document.createElement("div");this.content.className="jsoneditor-outer";if(this.options.mainMenuBar){util.addClassName(this.content,"has-main-menu-bar");this.menu=document.createElement("div");this.menu.className="jsoneditor-menu";this.frame.appendChild(this.menu);var buttonFormat=document.createElement("button");buttonFormat.type="button";buttonFormat.className="jsoneditor-format";buttonFormat.title=translate("buttonFormatTitle");this.menu.appendChild(buttonFormat);buttonFormat.onclick=function(){try{me.format();me._onChange()}catch(err$12){me._onError(err$12)}};var buttonCompact=document.createElement("button");buttonCompact.type="button";buttonCompact.className="jsoneditor-compact";buttonCompact.title=translate("buttonCompactTitle");this.menu.appendChild(buttonCompact);buttonCompact.onclick=function(){try{me.compact();me._onChange()}catch(err$13){me._onError(err$13)}};var buttonRepair=document.createElement("button");buttonRepair.type="button";buttonRepair.className="jsoneditor-repair";buttonRepair.title=translate("repaireButtonTitle");this.menu.appendChild(buttonRepair);buttonRepair.onclick=function(){try{me.repair();me._onChange()}catch(err$14){me._onError(err$14)}};if(this.options&&this.options.modes&&this.options.modes.length)this.modeSwitcher=new ModeSwitcher(this.menu,this.options.modes,this.options.mode,function onSwitch(mode){me.setMode(mode);me.modeSwitcher.focus()})}var emptyNode={};var isReadOnly=this.options.onEditable&&typeof(this.options.onEditable==="function")&&!this.options.onEditable(emptyNode);this.frame.appendChild(this.content);this.container.appendChild(this.frame);if(this.mode=="code"){this.editorDom=document.createElement("div");this.editorDom.style.height="100%";this.editorDom.style.width="100%";this.content.appendChild(this.editorDom);var aceEditor=_ace.edit(this.editorDom);var aceSession=aceEditor.getSession();aceEditor.$blockScrolling=Infinity;aceEditor.setTheme(this.theme);aceEditor.setOptions({readOnly:isReadOnly});aceEditor.setShowPrintMargin(false);aceEditor.setFontSize(13);aceSession.setMode("ace/mode/json");aceSession.setTabSize(this.indentation);aceSession.setUseSoftTabs(true);aceSession.setUseWrapMode(true);var originalSetAnnotations=aceSession.setAnnotations;aceSession.setAnnotations=function(annotations){originalSetAnnotations.call(this,annotations&&annotations.length?annotations:me.annotations)};aceEditor.commands.bindKey("Ctrl-L",null);aceEditor.commands.bindKey("Command-L",null);this.aceEditor=aceEditor;if(!this.hasOwnProperty("editor"))Object.defineProperty(this,"editor",{get:function(){console.warn('Property "editor" has been renamed to "aceEditor".');return me.aceEditor},set:function(aceEditor){console.warn('Property "editor" has been renamed to "aceEditor".');me.aceEditor=aceEditor}});aceEditor.on("change",this._onChange.bind(this));aceEditor.on("changeSelection",this._onSelect.bind(this))}else{var textarea=document.createElement("textarea");textarea.className="jsoneditor-text";textarea.spellcheck=false;this.content.appendChild(textarea);this.textarea=textarea;this.textarea.readOnly=isReadOnly;if(this.textarea.oninput===null)this.textarea.oninput=this._onChange.bind(this);else this.textarea.onchange=this._onChange.bind(this);textarea.onselect=this._onSelect.bind(this);textarea.onmousedown=this._onMouseDown.bind(this);textarea.onblur=this._onBlur.bind(this)}var validationErrorsContainer=document.createElement("div");validationErrorsContainer.className="jsoneditor-validation-errors-container";this.dom.validationErrorsContainer=validationErrorsContainer;this.frame.appendChild(validationErrorsContainer);var additionalErrorsIndication=document.createElement("div");additionalErrorsIndication.style.display="none";additionalErrorsIndication.className="jsoneditor-additional-errors fadein";additionalErrorsIndication.innerHTML="Scroll for more \x26#9663;";this.dom.additionalErrorsIndication=additionalErrorsIndication;validationErrorsContainer.appendChild(additionalErrorsIndication);if(options.statusBar){util.addClassName(this.content,"has-status-bar");this.curserInfoElements={};var statusBar=document.createElement("div");this.dom.statusBar=statusBar;statusBar.className="jsoneditor-statusbar";this.frame.appendChild(statusBar);var lnLabel=document.createElement("span");lnLabel.className="jsoneditor-curserinfo-label";lnLabel.innerText="Ln:";var lnVal=document.createElement("span");lnVal.className="jsoneditor-curserinfo-val";lnVal.innerText="1";statusBar.appendChild(lnLabel);statusBar.appendChild(lnVal);var colLabel=document.createElement("span");colLabel.className="jsoneditor-curserinfo-label";colLabel.innerText="Col:";var colVal=document.createElement("span");colVal.className="jsoneditor-curserinfo-val";colVal.innerText="1";statusBar.appendChild(colLabel);statusBar.appendChild(colVal);this.curserInfoElements.colVal=colVal;this.curserInfoElements.lnVal=lnVal;var countLabel=document.createElement("span");countLabel.className="jsoneditor-curserinfo-label";countLabel.innerText="characters selected";countLabel.style.display="none";var countVal=document.createElement("span");countVal.className="jsoneditor-curserinfo-count";countVal.innerText="0";countVal.style.display="none";this.curserInfoElements.countLabel=countLabel;this.curserInfoElements.countVal=countVal;statusBar.appendChild(countVal);statusBar.appendChild(countLabel);var validationErrorIcon=document.createElement("span");validationErrorIcon.className="jsoneditor-validation-error-icon";validationErrorIcon.style.display="none";var validationErrorCount=document.createElement("span");validationErrorCount.className="jsoneditor-validation-error-count";validationErrorCount.style.display="none";this.validationErrorIndication={validationErrorIcon:validationErrorIcon,validationErrorCount:validationErrorCount};statusBar.appendChild(validationErrorCount);statusBar.appendChild(validationErrorIcon);this.parseErrorIndication=document.createElement("span");this.parseErrorIndication.className="jsoneditor-parse-error-icon";this.parseErrorIndication.style.display="none";statusBar.appendChild(this.parseErrorIndication)}this.setSchema(this.options.schema,this.options.schemaRefs)};textmode._onChange=function(){if(this.onChangeDisabled)return;this._debouncedValidate();if(this.options.onChange)try{this.options.onChange()}catch(err){console.error("Error in onChange callback: ",err)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(err$15){console.error("Error in onChangeText callback: ",err$15)}};textmode._onSelect=function(){this._updateCursorInfo();this._emitSelectionChange()};textmode._onKeyDown=function(event){var keynum=event.which||event.keyCode;var handled=false;if(keynum==220&&event.ctrlKey){if(event.shiftKey){this.compact();this._onChange()}else{this.format();this._onChange()}handled=true}if(handled){event.preventDefault();event.stopPropagation()}this._updateCursorInfo();this._emitSelectionChange()};textmode._onMouseDown=function(){this._updateCursorInfo();this._emitSelectionChange()};textmode._onBlur=function(){var me=this;setTimeout(function(){if(!me.isFocused){me._updateCursorInfo();me._emitSelectionChange()}me.isFocused=false})};textmode._updateCursorInfo=function(){var me=this;var line,col,count;if(this.textarea)setTimeout(function(){var selectionRange=util.getInputSelection(me.textarea);if(selectionRange.startIndex!==selectionRange.endIndex)count=selectionRange.endIndex-selectionRange.startIndex;if(count&&me.cursorInfo&&me.cursorInfo.line===selectionRange.end.row&&me.cursorInfo.column===selectionRange.end.column){line=selectionRange.start.row;col=selectionRange.start.column}else{line=selectionRange.end.row;col=selectionRange.end.column}me.cursorInfo={line:line,column:col,count:count};if(me.options.statusBar)updateDisplay()},0);else if(this.aceEditor&&this.curserInfoElements){var curserPos=this.aceEditor.getCursorPosition();var selectedText=this.aceEditor.getSelectedText();line=curserPos.row+1;col=curserPos.column+1;count=selectedText.length;me.cursorInfo={line:line,column:col,count:count};if(this.options.statusBar)updateDisplay()}function updateDisplay(){if(me.curserInfoElements.countVal.innerText!==count){me.curserInfoElements.countVal.innerText=count;me.curserInfoElements.countVal.style.display=count?"inline":"none";me.curserInfoElements.countLabel.style.display=count?"inline":"none"}me.curserInfoElements.lnVal.innerText=line;me.curserInfoElements.colVal.innerText=col}};textmode._emitSelectionChange=function(){if(this._selectionChangedHandler){var currentSelection=this.getTextSelection();this._selectionChangedHandler(currentSelection.start,currentSelection.end,currentSelection.text)}};textmode._refreshAnnotations=function(){var session=this.aceEditor&&this.aceEditor.getSession();if(session){var errEnnotations=session.getAnnotations().filter(function(annotation){return annotation.type==="error"});session.setAnnotations(errEnnotations)}};textmode.destroy=function(){if(this.aceEditor){this.aceEditor.destroy();this.aceEditor=null}if(this.frame&&this.container&&this.frame.parentNode==this.container)this.container.removeChild(this.frame);if(this.modeSwitcher){this.modeSwitcher.destroy();this.modeSwitcher=null}this.textarea=null;this._debouncedValidate=null};textmode.compact=function(){var json=this.get();var text=JSON.stringify(json);this.setText(text)};textmode.format=function(){var json=this.get();var text=JSON.stringify(json,null,this.indentation);this.setText(text)};textmode.repair=function(){var text=this.getText();var sanitizedText=util.sanitize(text);this.setText(sanitizedText)};textmode.focus=function(){if(this.textarea)this.textarea.focus();if(this.aceEditor)this.aceEditor.focus()};textmode.resize=function(){if(this.aceEditor){var force=false;this.aceEditor.resize(force)}};textmode.set=function(json){this.setText(JSON.stringify(json,null,this.indentation))};textmode.update=function(json){this.updateText(JSON.stringify(json,null,this.indentation))};textmode.get=function(){var text=this.getText();var json;try{json=util.parse(text)}catch(err){text=util.sanitize(text);json=util.parse(text)}return json};textmode.getText=function(){if(this.textarea)return this.textarea.value;if(this.aceEditor)return this.aceEditor.getValue();return""};textmode.setText=function(jsonText){var text;if(this.options.escapeUnicode===true)text=util.escapeUnicodeChars(jsonText);else text=jsonText;if(this.textarea)this.textarea.value=text;if(this.aceEditor){this.onChangeDisabled=true;this.aceEditor.setValue(text,-1);this.onChangeDisabled=false}this._debouncedValidate()};textmode.updateText=function(jsonText){if(this.getText()===jsonText)return;this.onChangeDisabled=true;this.setText(jsonText);this.onChangeDisabled=false};textmode.validate=function(){var doValidate=false;var schemaErrors=[];var parseErrors=[];var json;try{json=this.get();if(this.parseErrorIndication)this.parseErrorIndication.style.display="none";doValidate=true}catch(err){if(this.getText()){if(this.parseErrorIndication)this.parseErrorIndication.style.display="block";var match=/\w*line\s*(\d+)\w*/g.exec(err.message);var line;if(match)line=+match[1];if(this.parseErrorIndication)this.parseErrorIndication.title=!isNaN(line)?"parse error on line "+line:"parse error - check that the json is valid";parseErrors.push({type:"error",message:err.message.replace(/\n/g,"\x3cbr\x3e"),line:line})}}if(doValidate){if(this.validateSchema){var valid=this.validateSchema(json);if(!valid)schemaErrors=this.validateSchema.errors.map(function(error){error.type="validation";return util.improveSchemaError(error)})}try{this.validationSequence++;var me=this;var seq=this.validationSequence;this._validateCustom(json).then(function(customValidationErrors){if(seq===me.validationSequence){var errors=schemaErrors.concat(parseErrors||[]).concat(customValidationErrors||[]);me._renderErrors(errors)}}).catch(function(err){console.error(err)})}catch(err$16){console.error(err$16)}}else this._renderErrors(parseErrors||[],true)};textmode._validateCustom=function(json){if(this.options.onValidate)try{var customValidateResults=this.options.onValidate(json);var resultPromise=util.isPromise(customValidateResults)?customValidateResults:Promise.resolve(customValidateResults);return resultPromise.then(function(customValidationPathErrors){if(Array.isArray(customValidationPathErrors))return customValidationPathErrors.filter(function(error){var valid=util.isValidValidationError(error);if(!valid)console.warn("Ignoring a custom validation error with invalid structure. "+'Expected structure: {path: [...], message: "..."}. '+"Actual error:",error);return valid}).map(function(error){return{dataPath:util.stringifyPath(error.path),message:error.message}});else return null})}catch(err){return Promise.reject(err)}return Promise.resolve(null)};textmode._renderErrors=function(errors,noValidation){var me=this;var validationErrorsCount=0;this.errorTableVisible=typeof this.errorTableVisible==="undefined"?!this.aceEditor:this.errorTableVisible;if(this.dom.validationErrors){this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors);this.dom.validationErrors=null;this.dom.additionalErrorsIndication.style.display="none";this.content.style.marginBottom="";this.content.style.paddingBottom=""}var jsonText=this.getText();var errorPaths=[];errors.reduce(function(acc,curr){if(acc.indexOf(curr.dataPath)===-1)acc.push(curr.dataPath);return acc},errorPaths);var errorLocations=util.getPositionForPath(jsonText,errorPaths);if(errors.length>0){if(this.aceEditor){this.annotations=errorLocations.map(function(errLoc){var validationErrors=errors.filter(function(err){return err.dataPath===errLoc.path});var message=validationErrors.map(function(err){return err.message}).join("\n");if(message)return{row:errLoc.line,column:errLoc.column,text:"Schema validation error"+(validationErrors.length!==1?"s":"")+": \n"+message,type:"warning",source:"jsoneditor"};return{}});this._refreshAnnotations()}if(noValidation?!this.aceEditor:this.errorTableVisible){var validationErrors=document.createElement("div");validationErrors.innerHTML='\x3ctable class\x3d"jsoneditor-text-errors"\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3c/table\x3e';var tbody=validationErrors.getElementsByTagName("tbody")[0];errors.forEach(function(error){var message;if(typeof error==="string")message='\x3ctd colspan\x3d"2"\x3e\x3cpre\x3e'+error+"\x3c/pre\x3e\x3c/td\x3e";else message="\x3ctd\x3e"+(error.dataPath||"")+"\x3c/td\x3e"+"\x3ctd\x3e"+error.message+"\x3c/td\x3e";var line;if(!isNaN(error.line))line=error.line;else if(error.dataPath){var errLoc=errorLocations.find(function(loc){return loc.path===error.dataPath});if(errLoc)line=errLoc.line+1}var trEl=document.createElement("tr");trEl.className=!isNaN(line)?"jump-to-line":"";if(error.type==="error")trEl.className+=" parse-error";else{trEl.className+=" validation-error";++validationErrorsCount}trEl.innerHTML='\x3ctd\x3e\x3cbutton class\x3d"jsoneditor-schema-error"\x3e\x3c/button\x3e\x3c/td\x3e\x3ctd style\x3d"white-space:nowrap;"\x3e'+(!isNaN(line)?"Ln "+line:"")+"\x3c/td\x3e"+message;trEl.onclick=function(){me.isFocused=true;if(!isNaN(line))me.setTextSelection({row:line,column:1},{row:line,column:1E3})};tbody.appendChild(trEl)});this.dom.validationErrors=validationErrors;this.dom.validationErrorsContainer.appendChild(validationErrors);this.dom.additionalErrorsIndication.title=errors.length+" errors total";if(this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight){this.dom.additionalErrorsIndication.style.display="block";this.dom.validationErrorsContainer.onscroll=function(){me.dom.additionalErrorsIndication.style.display=me.dom.validationErrorsContainer.clientHeight>0&&me.dom.validationErrorsContainer.scrollTop===0?"block":"none"}}else this.dom.validationErrorsContainer.onscroll=undefined;var height=this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.content.style.marginBottom=-height+"px";this.content.style.paddingBottom=height+"px"}else validationErrorsCount=errors.reduce(function(acc,curr){return curr.type==="validation"?++acc:acc},0)}else if(this.aceEditor){this.annotations=[];this._refreshAnnotations()}if(this.options.statusBar){validationErrorsCount=validationErrorsCount||this.annotations.length;var showIndication=!!validationErrorsCount;this.validationErrorIndication.validationErrorIcon.style.display=showIndication?"inline":"none";this.validationErrorIndication.validationErrorCount.style.display=showIndication?"inline":"none";if(showIndication){this.validationErrorIndication.validationErrorCount.innerText=validationErrorsCount;this.validationErrorIndication.validationErrorIcon.title=validationErrorsCount+" schema validation error(s) found";this.validationErrorIndication.validationErrorCount.onclick=this.validationErrorIndication.validationErrorIcon.onclick=this._toggleErrorTableVisibility.bind(this)}}if(this.aceEditor){var force=false;this.aceEditor.resize(force)}};textmode._toggleErrorTableVisibility=function(){this.errorTableVisible=!this.errorTableVisible;this.validate()};textmode.getTextSelection=function(){var selection={};if(this.textarea){var selectionRange=util.getInputSelection(this.textarea);if(this.cursorInfo&&this.cursorInfo.line===selectionRange.end.row&&this.cursorInfo.column===selectionRange.end.column){selection.start=selectionRange.end;selection.end=selectionRange.start}else selection=selectionRange;return{start:selection.start,end:selection.end,text:this.textarea.value.substring(selectionRange.startIndex,selectionRange.endIndex)}}if(this.aceEditor){var aceSelection=this.aceEditor.getSelection();var selectedText=this.aceEditor.getSelectedText();var range=aceSelection.getRange();var lead=aceSelection.getSelectionLead();if(lead.row===range.end.row&&lead.column===range.end.column)selection=range;else{selection.start=range.end;selection.end=range.start}return{start:{row:selection.start.row+1,column:selection.start.column+1},end:{row:selection.end.row+1,column:selection.end.column+1},text:selectedText}}};textmode.onTextSelectionChange=function(callback){if(typeof callback==="function")this._selectionChangedHandler=util.debounce(callback,this.DEBOUNCE_INTERVAL)};textmode.setTextSelection=function(startPos,endPos){if(!startPos||!endPos)return;if(this.textarea){var startIndex=util.getIndexForPosition(this.textarea,startPos.row,startPos.column);var endIndex=util.getIndexForPosition(this.textarea,endPos.row,endPos.column);if(startIndex>-1&&endIndex>-1){if(this.textarea.setSelectionRange){this.textarea.focus();this.textarea.setSelectionRange(startIndex,endIndex)}else if(this.textarea.createTextRange){var range=this.textarea.createTextRange();range.collapse(true);range.moveEnd("character",endIndex);range.moveStart("character",startIndex);range.select()}var rows=(this.textarea.value.match(/\n/g)||[]).length+1;var lineHeight=this.textarea.scrollHeight/rows;var selectionScrollPos=startPos.row*lineHeight;this.textarea.scrollTop=selectionScrollPos>this.textarea.clientHeight?selectionScrollPos-this.textarea.clientHeight/2:0}}else if(this.aceEditor){var range={start:{row:startPos.row-1,column:startPos.column-1},end:{row:endPos.row-1,column:endPos.column-1}};this.aceEditor.selection.setRange(range);this.aceEditor.scrollToLine(startPos.row-1,true)}};function load(){try{this.format()}catch(err){}}module.exports=[{mode:"text",mixin:textmode,data:"text",load:load},{mode:"code",mixin:textmode,data:"text",load:load}]},function(module,exports){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(acequire,
exports,module){exports.isDark=false;exports.cssClass="ace-jsoneditor";exports.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\tline-height: 1.3;\tbackground-color: #fff;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg\x3d\x3d") right repeat-y\t}';var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)})}])});