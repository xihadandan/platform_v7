(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(f){f.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:true,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:false,keywords:"",letterCase:"lowercase",opacity:false,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}};f.extend(f.fn,{minicolors:function(D,C){switch(D){case"destroy":f(this).each(function(){B(f(this))});return f(this);case"hide":m();return f(this);case"opacity":if(C===undefined){return f(this).attr("data-opacity")}else{f(this).each(function(){b(f(this).attr("data-opacity",C))})}return f(this);case"rgbObject":return j(f(this),D==="rgbaObject");case"rgbString":case"rgbaString":return l(f(this),D==="rgbaString");case"settings":if(C===undefined){return f(this).data("minicolors-settings")}else{f(this).each(function(){var E=f(this).data("minicolors-settings")||{};B(f(this));f(this).minicolors(f.extend(true,E,C))})}return f(this);case"show":A(f(this).eq(0));return f(this);case"value":if(C===undefined){return f(this).val()}else{f(this).each(function(){if(typeof(C)==="object"&&typeof(C)!==null){if(C.opacity){f(this).attr("data-opacity",r(C.opacity,0,1))}if(C.color){f(this).val(C.color)}}else{f(this).val(C)}b(f(this))})}return f(this);default:if(D!=="create"){C=D}f(this).each(function(){w(f(this),C)});return f(this)}}});function w(I,E){var G=f('<div class="minicolors" />'),F=f.minicolors.defaults,K,D,J,C,H;if(I.data("minicolors-initialized")){return}E=f.extend(true,{},F,E);G.addClass("minicolors-theme-"+E.theme).toggleClass("minicolors-with-opacity",E.opacity).toggleClass("minicolors-no-data-uris",E.dataUris!==true);if(E.position!==undefined){f.each(E.position.split(" "),function(){G.addClass("minicolors-position-"+this)})}if(E.format==="rgb"){K=E.opacity?"25":"20"}else{K=E.keywords?"11":"7"}I.addClass("minicolors-input").data("minicolors-initialized",false).data("minicolors-settings",E).prop("size",K).wrap(G).after('<div class="minicolors-panel minicolors-slider-'+E.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>');if(!E.inline){I.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>');I.next(".minicolors-input-swatch").on("click",function(L){L.preventDefault();I.focus()})}C=I.parent().find(".minicolors-panel");C.on("selectstart",function(){return false}).end();if(E.swatches&&E.swatches.length!==0){if(E.swatches.length>7){E.swatches.length=7}C.addClass("minicolors-with-swatches");D=f('<ul class="minicolors-swatches"></ul>').appendTo(C);for(H=0;H<E.swatches.length;++H){J=E.swatches[H];J=h(J)?n(J,true):s(y(J,true));f('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(D).data("swatch-color",E.swatches[H]).find(".minicolors-swatch-color").css({backgroundColor:a(J),opacity:J.a});E.swatches[H]=J}}if(E.inline){I.parent().addClass("minicolors-inline")}b(I,false);I.data("minicolors-initialized",true)}function B(C){var D=C.parent();C.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input");D.before(C).remove()}function A(D){var F=D.parent(),C=F.find(".minicolors-panel"),E=D.data("minicolors-settings");if(!D.data("minicolors-initialized")||D.prop("disabled")||F.hasClass("minicolors-inline")||F.hasClass("minicolors-focus")){return}m();F.addClass("minicolors-focus");C.stop(true,true).fadeIn(E.showSpeed,function(){if(E.show){E.show.call(D.get(0))}})}function m(){f(".minicolors-focus").each(function(){var F=f(this),D=F.find(".minicolors-input"),C=F.find(".minicolors-panel"),E=D.data("minicolors-settings");C.fadeOut(E.hideSpeed,function(){if(E.hide){E.hide.call(D.get(0))}F.removeClass("minicolors-focus")})})}function t(N,D,E){var Q=N.parents(".minicolors").find(".minicolors-input"),F=Q.data("minicolors-settings"),L=N.find("[class$=-picker]"),K=N.offset().left,J=N.offset().top,P=Math.round(D.pageX-K),O=Math.round(D.pageY-J),H=E?F.animationSpeed:0,I,G,C,M;if(D.originalEvent.changedTouches){P=D.originalEvent.changedTouches[0].pageX-K;O=D.originalEvent.changedTouches[0].pageY-J}if(P<0){P=0}if(O<0){O=0}if(P>N.width()){P=N.width()}if(O>N.height()){O=N.height()}if(N.parent().is(".minicolors-slider-wheel")&&L.parent().is(".minicolors-grid")){I=75-P;G=75-O;C=Math.sqrt(I*I+G*G);M=Math.atan2(G,I);if(M<0){M+=Math.PI*2}if(C>75){C=75;P=75-(75*Math.cos(M));O=75-(75*Math.sin(M))}P=Math.round(P);O=Math.round(O)}if(N.is(".minicolors-grid")){L.stop(true).animate({top:O+"px",left:P+"px"},H,F.animationEasing,function(){i(Q,N)})}else{L.stop(true).animate({top:O+"px"},H,F.animationEasing,function(){i(Q,N)})}}function i(S,Z){function V(ab,aa){var ad,ac;if(!ab.length||!aa){return null}ad=ab.offset().left;ac=ab.offset().top;return{x:ad-aa.offset().left+(ab.outerWidth()/2),y:ac-aa.offset().top+(ab.outerHeight()/2)}}var J,K,Y,Q,P,T,G,N=S.val(),H=S.attr("data-opacity"),I=S.parent(),X=S.data("minicolors-settings"),U=I.find(".minicolors-input-swatch"),C=I.find(".minicolors-grid"),W=I.find(".minicolors-slider"),M=I.find(".minicolors-opacity-slider"),L=C.find("[class$=-picker]"),R=W.find("[class$=-picker]"),F=M.find("[class$=-picker]"),E=V(L,C),D=V(R,W),O=V(F,M);if(Z.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(X.control){case"wheel":Q=(C.width()/2)-E.x;P=(C.height()/2)-E.y;T=Math.sqrt(Q*Q+P*P);G=Math.atan2(P,Q);if(G<0){G+=Math.PI*2}if(T>75){T=75;E.x=69-(75*Math.cos(G));E.y=69-(75*Math.sin(G))}K=r(T/0.75,0,100);J=r(G*180/Math.PI,0,360);Y=r(100-Math.floor(D.y*(100/W.height())),0,100);N=c({h:J,s:K,b:Y});W.css("backgroundColor",c({h:J,s:K,b:100}));break;case"saturation":J=r(parseInt(E.x*(360/C.width()),10),0,360);K=r(100-Math.floor(D.y*(100/W.height())),0,100);Y=r(100-Math.floor(E.y*(100/C.height())),0,100);N=c({h:J,s:K,b:Y});W.css("backgroundColor",c({h:J,s:100,b:Y}));I.find(".minicolors-grid-inner").css("opacity",K/100);break;case"brightness":J=r(parseInt(E.x*(360/C.width()),10),0,360);K=r(100-Math.floor(E.y*(100/C.height())),0,100);Y=r(100-Math.floor(D.y*(100/W.height())),0,100);N=c({h:J,s:K,b:Y});W.css("backgroundColor",c({h:J,s:K,b:100}));I.find(".minicolors-grid-inner").css("opacity",1-(Y/100));break;default:J=r(360-parseInt(D.y*(360/W.height()),10),0,360);K=r(Math.floor(E.x*(100/C.width())),0,100);Y=r(100-Math.floor(E.y*(100/C.height())),0,100);N=c({h:J,s:K,b:Y});C.css("backgroundColor",c({h:J,s:100,b:100}));break}if(X.opacity){H=parseFloat(1-(O.y/M.height())).toFixed(2)}else{H=1}k(S,N,H)}else{U.find("span").css({backgroundColor:N,opacity:H});e(S,N,H)}}function k(C,H,E){var D,I=C.parent(),G=C.data("minicolors-settings"),F=I.find(".minicolors-input-swatch");if(G.opacity){C.attr("data-opacity",E)}if(G.format==="rgb"){if(h(H)){D=n(H,true)}else{D=s(y(H,true))}E=C.attr("data-opacity")===""?1:r(parseFloat(C.attr("data-opacity")).toFixed(2),0,1);if(isNaN(E)||!G.opacity){E=1}if(C.minicolors("rgbObject").a<=1&&D&&G.opacity){H="rgba("+D.r+", "+D.g+", "+D.b+", "+parseFloat(E)+")"}else{H="rgb("+D.r+", "+D.g+", "+D.b+")"}}else{if(h(H)){H=q(H)}H=o(H,G.letterCase)}C.val(H);F.find("span").css({backgroundColor:H,opacity:E});e(C,H,E)}function b(P,Q){var K,S,F,L,H,U,N,M,R,E,G=P.parent(),W=P.data("minicolors-settings"),T=G.find(".minicolors-input-swatch"),C=G.find(".minicolors-grid"),V=G.find(".minicolors-slider"),J=G.find(".minicolors-opacity-slider"),I=C.find("[class$=-picker]"),O=V.find("[class$=-picker]"),D=J.find("[class$=-picker]");if(h(P.val())){K=q(P.val());H=r(parseFloat(u(P.val())).toFixed(2),0,1);if(H){P.attr("data-opacity",H)}}else{K=o(y(P.val(),true),W.letterCase)}if(!K){K=o(p(W.defaultValue,true),W.letterCase)}S=d(K);L=!W.keywords?[]:f.map(W.keywords.split(","),function(X){return f.trim(X.toLowerCase())});if(P.val()!==""&&f.inArray(P.val().toLowerCase(),L)>-1){U=o(P.val())}else{U=h(P.val())?n(P.val()):K}if(!Q){P.val(U)}if(W.opacity){F=P.attr("data-opacity")===""?1:r(parseFloat(P.attr("data-opacity")).toFixed(2),0,1);if(isNaN(F)){F=1}P.attr("data-opacity",F);T.find("span").css("opacity",F);M=r(J.height()-(J.height()*F),0,J.height());D.css("top",M+"px")}if(P.val().toLowerCase()==="transparent"){T.find("span").css("opacity",0)}T.find("span").css("backgroundColor",K);switch(W.control){case"wheel":R=r(Math.ceil(S.s*0.75),0,C.height()/2);E=S.h*Math.PI/180;N=r(75-Math.cos(E)*R,0,C.width());M=r(75-Math.sin(E)*R,0,C.height());I.css({top:M+"px",left:N+"px"});M=150-(S.b/(100/C.height()));if(K===""){M=0}O.css("top",M+"px");V.css("backgroundColor",c({h:S.h,s:S.s,b:100}));break;case"saturation":N=r((5*S.h)/12,0,150);M=r(C.height()-Math.ceil(S.b/(100/C.height())),0,C.height());I.css({top:M+"px",left:N+"px"});M=r(V.height()-(S.s*(V.height()/100)),0,V.height());O.css("top",M+"px");V.css("backgroundColor",c({h:S.h,s:100,b:S.b}));G.find(".minicolors-grid-inner").css("opacity",S.s/100);break;case"brightness":N=r((5*S.h)/12,0,150);M=r(C.height()-Math.ceil(S.s/(100/C.height())),0,C.height());I.css({top:M+"px",left:N+"px"});M=r(V.height()-(S.b*(V.height()/100)),0,V.height());O.css("top",M+"px");V.css("backgroundColor",c({h:S.h,s:S.s,b:100}));G.find(".minicolors-grid-inner").css("opacity",1-(S.b/100));break;default:N=r(Math.ceil(S.s/(100/C.width())),0,C.width());M=r(C.height()-Math.ceil(S.b/(100/C.height())),0,C.height());I.css({top:M+"px",left:N+"px"});M=r(V.height()-(S.h/(360/V.height())),0,V.height());O.css("top",M+"px");C.css("backgroundColor",c({h:S.h,s:100,b:100}));break}if(P.data("minicolors-initialized")){e(P,U,F)}}function e(C,I,D){var F=C.data("minicolors-settings"),G=C.data("minicolors-lastChange"),J,H,E;if(!G||G.value!==I||G.opacity!==D){C.data("minicolors-lastChange",{value:I,opacity:D});if(F.swatches&&F.swatches.length!==0){if(!h(I)){J=s(I)}else{J=n(I,true)}H=-1;for(E=0;E<F.swatches.length;++E){if(J.r===F.swatches[E].r&&J.g===F.swatches[E].g&&J.b===F.swatches[E].b&&J.a===F.swatches[E].a){H=E;break}}C.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected");if(E!==-1){C.parent().find(".minicolors-swatches .minicolors-swatch").eq(E).addClass("selected")}}if(F.change){if(F.changeDelay){clearTimeout(C.data("minicolors-changeTimeout"));C.data("minicolors-changeTimeout",setTimeout(function(){F.change.call(C.get(0),I,D)},F.changeDelay))}else{F.change.call(C.get(0),I,D)}}C.trigger("change").trigger("input")}}function j(C){var F=y(f(C).val(),true),E=s(F),D=f(C).attr("data-opacity");if(!E){return null}if(D!==undefined){f.extend(E,{a:parseFloat(D)})}return E}function l(C,G){var F=y(f(C).val(),true),E=s(F),D=f(C).attr("data-opacity");if(!E){return null}if(D===undefined){D=1}if(G){return"rgba("+E.r+", "+E.g+", "+E.b+", "+parseFloat(D)+")"}else{return"rgb("+E.r+", "+E.g+", "+E.b+")"}}function o(C,D){return D==="uppercase"?C.toUpperCase():C.toLowerCase()}function y(C,D){C=C.replace(/^#/g,"");if(!C.match(/^[A-F0-9]{3,6}/ig)){return""}if(C.length!==3&&C.length!==6){return""}if(C.length===3&&D){C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]}return"#"+C}function n(D,F){var C=D.replace(/[^\d,.]/g,""),E=C.split(",");E[0]=r(parseInt(E[0],10),0,255);E[1]=r(parseInt(E[1],10),0,255);E[2]=r(parseInt(E[2],10),0,255);if(E[3]){E[3]=r(parseFloat(E[3],10),0,1)}if(F){return{r:E[0],g:E[1],b:E[2],a:E[3]?E[3]:null}}if(typeof(E[3])!=="undefined"&&E[3]<=1){return"rgba("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+")"}else{return"rgb("+E[0]+", "+E[1]+", "+E[2]+")"}}function p(C,D){if(h(C)){return n(C)}else{return y(C,D)}}function r(E,D,C){if(E<D){E=D}if(E>C){E=C}return E}function h(D){var C=D.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(C&&C.length===4)?true:false}function u(C){C=C.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i);return(C&&C.length===6)?C[4]:"1"}function z(C){var E={};var I=Math.round(C.h);var H=Math.round(C.s*255/100);var D=Math.round(C.b*255/100);if(H===0){E.r=E.g=E.b=D}else{var J=D;var G=(255-H)*D/255;var F=(J-G)*(I%60)/60;if(I===360){I=0}if(I<60){E.r=J;E.b=G;E.g=G+F}else{if(I<120){E.g=J;E.b=G;E.r=J-F}else{if(I<180){E.g=J;E.r=G;E.b=G+F}else{if(I<240){E.b=J;E.r=G;E.g=J-F}else{if(I<300){E.b=J;E.g=G;E.r=G+F}else{if(I<360){E.r=J;E.g=G;E.b=J-F}else{E.r=0;E.g=0;E.b=0}}}}}}}return{r:Math.round(E.r),g:Math.round(E.g),b:Math.round(E.b)}}function q(C){C=C.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return(C&&C.length===4)?"#"+("0"+parseInt(C[1],10).toString(16)).slice(-2)+("0"+parseInt(C[2],10).toString(16)).slice(-2)+("0"+parseInt(C[3],10).toString(16)).slice(-2):""}function a(C){var D=[C.r.toString(16),C.g.toString(16),C.b.toString(16)];f.each(D,function(E,F){if(F.length===1){D[E]="0"+F}});return"#"+D.join("")}function c(C){return a(z(C))}function d(D){var C=g(s(D));if(C.s===0){C.h=360}return C}function g(E){var D={h:0,s:0,b:0};var F=Math.min(E.r,E.g,E.b);var C=Math.max(E.r,E.g,E.b);var G=C-F;D.b=C;D.s=C!==0?255*G/C:0;if(D.s!==0){if(E.r===C){D.h=(E.g-E.b)/G}else{if(E.g===C){D.h=2+(E.b-E.r)/G}else{D.h=4+(E.r-E.g)/G}}}else{D.h=-1}D.h*=60;if(D.h<0){D.h+=360}D.s*=100/255;D.b*=100/255;return D}function s(C){C=parseInt(((C.indexOf("#")>-1)?C.substring(1):C),16);return{r:C>>16,g:(C&65280)>>8,b:(C&255)}}var v=[document];try{v.push(top.document)}catch(x){console.error&&console.error(x)}f(v).on("mousedown.minicolors touchstart.minicolors",function(C){if(!f(C.target).parents().add(C.target).hasClass("minicolors")){m()}}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(C){var D=f(this);C.preventDefault();f(C.delegateTarget).data("minicolors-target",D);t(D,C,true)}).on("mousemove.minicolors touchmove.minicolors",function(C){var D=f(C.delegateTarget).data("minicolors-target");if(D){t(D,C)}}).on("mouseup.minicolors touchend.minicolors",function(){f(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(E){E.preventDefault();var F=f(this),D=F.parents(".minicolors").find(".minicolors-input"),C=F.data("swatch-color");k(D,C,u(C));b(D)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(D){var C=f(this).parent().find(".minicolors-input");D.preventDefault();A(C)}).on("focus.minicolors",".minicolors-input",function(){var C=f(this);if(!C.data("minicolors-initialized")){return}A(C)}).on("blur.minicolors",".minicolors-input",function(){var D=f(this),G=D.data("minicolors-settings"),F,H,E,C,I;if(!D.data("minicolors-initialized")){return}F=!G.keywords?[]:f.map(G.keywords.split(","),function(J){return f.trim(J.toLowerCase())});if(D.val()!==""&&f.inArray(D.val().toLowerCase(),F)>-1){I=D.val()}else{if(h(D.val())){E=n(D.val(),true)}else{H=y(D.val(),true);E=H?s(H):null}if(E===null){I=G.defaultValue}else{if(G.format==="rgb"){I=G.opacity?n("rgba("+E.r+","+E.g+","+E.b+","+D.attr("data-opacity")+")"):n("rgb("+E.r+","+E.g+","+E.b+")")}else{I=a(E)}}}C=G.opacity?D.attr("data-opacity"):1;if(I.toLowerCase()==="transparent"){C=0}D.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",C);D.val(I);if(D.val()===""){D.val(p(G.defaultValue,true))}D.val(o(D.val(),G.letterCase))}).on("keydown.minicolors",".minicolors-input",function(D){var C=f(this);if(!C.data("minicolors-initialized")){return}switch(D.keyCode){case 9:m();break;case 13:case 27:m();C.blur();break}}).on("keyup.minicolors",".minicolors-input",function(){var C=f(this);if(!C.data("minicolors-initialized")){return}b(C,true)}).on("paste.minicolors",".minicolors-input",function(){var C=f(this);if(!C.data("minicolors-initialized")){return}setTimeout(function(){b(C,true)},1)})}));
;

;
