<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

    <sql-query name="queryAppBaseCalendarEventList">
        <![CDATA[
		from AppBaseCalendarEventEntity e
		where 1 = 1 and systemUnitId = :systemUnitId and(
			( startTime between :startTime and :endTime ) or
			( endTime between :startTime and :endTime ) or
			( startTime <:startTime and endTime >:endTime )
		)
		<if isNotBlank( belongObjId ) && belongObjId.class.simpleName == "String" >
			and belongObjId = :belongObjId
		</if>
		<if isNotBlank( whereSql )>
			and ${whereSql}
		</if>
	]]>
    </sql-query>


</hibernate-mapping>