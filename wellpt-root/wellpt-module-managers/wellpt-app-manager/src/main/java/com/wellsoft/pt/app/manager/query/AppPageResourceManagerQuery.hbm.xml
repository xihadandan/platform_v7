<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <sql-query name="appPageResourceManagerQuery">
        <![CDATA[
        select t1.uuid              as uuid,
		       t2.create_time       as create_time,
		       t2.creator           as creator,
		       t2.modifier          as modifier,
		       t2.modify_time       as modify_time,
		       t2.rec_ver           as rec_ver,
		       t2.name              as name,
		       t2.id                as id,
		       t2.code              as code,
		       t2.type              as type,
		       t1.config_type       as config_type,
		       t1.is_protected      as is_protected,
 		       t1.app_pi_uuid       as app_pi_uuid,
		       t1.app_page_uuid     as app_page_uuid,
		       t1.app_function_uuid as app_function_uuid
		  from app_page_resource t1
		  inner join app_function t2
		    on t1.app_function_uuid = t2.uuid
		 where 1 = 1
          <if isNotBlank(appPageUuid)>
            and t1.app_page_uuid = :appPageUuid
          </if>
          <if isNotBlank(whereSql)>
            and ${whereSql}
          </if>
          <if isNotBlank(orderBy)>
            ${orderBy}
          </if>
    ]]>
    </sql-query>
</hibernate-mapping>