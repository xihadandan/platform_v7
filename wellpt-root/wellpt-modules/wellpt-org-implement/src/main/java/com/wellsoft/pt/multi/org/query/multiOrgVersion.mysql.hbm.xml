<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>


    <!-- 获取每个组织的最大版本 -->
    <sql-query name="queryMaxVersionOfAllOrg">
        SELECT
        v.*
        FROM
        multi_org_version v,
        ( SELECT max( version ) AS version, SYSTEM_UNIT_ID, root_version_id FROM MULTI_ORG_VERSION GROUP BY
        SYSTEM_UNIT_ID, root_version_id ) p
        WHERE
        p.version = v.version
        AND p.SYSTEM_UNIT_ID = v.system_unit_id
        AND p.root_version_id = v.root_version_id
    </sql-query>


</hibernate-mapping>